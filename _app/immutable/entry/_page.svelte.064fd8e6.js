var br=Object.defineProperty;var gr=(l,e,t)=>e in l?br(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var Ue=(l,e,t)=>(gr(l,typeof e!="symbol"?e+"":e,t),t);import{S as le,i as se,s as ie,k as b,q as D,a as S,l as g,m as k,r as P,h as d,c as C,n as v,b as V,D as c,H as J,J as wr,o as Be,K as er,e as ee,L as H,M as tr,N as vt,O as nr,P as ke,u as te,w as Xe,Q as xe,y as q,z,R as ue,A as K,T as et,U as He,g as A,d as O,B as F,v as re,f as ae,V as Mt,W as rr,X as at,Y as kr,x as tt,Z as Er,C as an,E as ln,F as sn,G as on,_ as $r,$ as Ir}from"../chunks/index.02c9dc20.js";import{P as Sr,A as ar,g as Ut,U as cn}from"../chunks/auth.service.d9070fbc.js";import{e as Cr}from"../chunks/singletons.33f70bed.js";var Ct=function(l,e){return Ct=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},Ct(l,e)};function wt(l,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ct(l,e);function t(){this.constructor=l}l.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function Tt(l){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&l[e],n=0;if(t)return t.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function yt(l,e){var t=typeof Symbol=="function"&&l[Symbol.iterator];if(!t)return l;var n=t.call(l),a,r=[],s;try{for(;(e===void 0||e-- >0)&&!(a=n.next()).done;)r.push(a.value)}catch(i){s={error:i}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return r}function bt(l,e,t){if(t||arguments.length===2)for(var n=0,a=e.length,r;n<a;n++)(r||!(n in e))&&(r||(r=Array.prototype.slice.call(e,0,n)),r[n]=e[n]);return l.concat(r||Array.prototype.slice.call(e))}function Le(l){return typeof l=="function"}function lr(l){var e=function(n){Error.call(n),n.stack=new Error().stack},t=l(e);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var It=lr(function(l){return function(t){l(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(n,a){return a+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function Dt(l,e){if(l){var t=l.indexOf(e);0<=t&&l.splice(t,1)}}var kt=function(){function l(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return l.prototype.unsubscribe=function(){var e,t,n,a,r;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var i=Tt(s),o=i.next();!o.done;o=i.next()){var f=o.value;f.remove(this)}}catch(y){e={error:y}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}else s.remove(this);var h=this.initialTeardown;if(Le(h))try{h()}catch(y){r=y instanceof It?y.errors:[y]}var u=this._finalizers;if(u){this._finalizers=null;try{for(var p=Tt(u),m=p.next();!m.done;m=p.next()){var _=m.value;try{un(_)}catch(y){r=r??[],y instanceof It?r=bt(bt([],yt(r)),yt(y.errors)):r.push(y)}}}catch(y){n={error:y}}finally{try{m&&!m.done&&(a=p.return)&&a.call(p)}finally{if(n)throw n.error}}}if(r)throw new It(r)}},l.prototype.add=function(e){var t;if(e&&e!==this)if(this.closed)un(e);else{if(e instanceof l){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}},l.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},l.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},l.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&Dt(t,e)},l.prototype.remove=function(e){var t=this._finalizers;t&&Dt(t,e),e instanceof l&&e._removeParent(this)},l.EMPTY=function(){var e=new l;return e.closed=!0,e}(),l}(),sr=kt.EMPTY;function ir(l){return l instanceof kt||l&&"closed"in l&&Le(l.remove)&&Le(l.add)&&Le(l.unsubscribe)}function un(l){Le(l)?l():l.unsubscribe()}var or={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Pt={setTimeout:function(l,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];var a=Pt.delegate;return a!=null&&a.setTimeout?a.setTimeout.apply(a,bt([l,e],yt(t))):setTimeout.apply(void 0,bt([l,e],yt(t)))},clearTimeout:function(l){var e=Pt.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(l)},delegate:void 0};function Tr(l){Pt.setTimeout(function(){throw l})}function fn(){}function _t(l){l()}var cr=function(l){wt(e,l);function e(t){var n=l.call(this)||this;return n.isStopped=!1,t?(n.destination=t,ir(t)&&t.add(n)):n.destination=Vr,n}return e.create=function(t,n,a){return new At(t,n,a)},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,l.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(kt),Dr=Function.prototype.bind;function St(l,e){return Dr.call(l,e)}var Pr=function(){function l(e){this.partialObserver=e}return l.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(n){mt(n)}},l.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(n){mt(n)}else mt(e)},l.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){mt(t)}},l}(),At=function(l){wt(e,l);function e(t,n,a){var r=l.call(this)||this,s;if(Le(t)||!t)s={next:t??void 0,error:n??void 0,complete:a??void 0};else{var i;r&&or.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=function(){return r.unsubscribe()},s={next:t.next&&St(t.next,i),error:t.error&&St(t.error,i),complete:t.complete&&St(t.complete,i)}):s=t}return r.destination=new Pr(s),r}return e}(cr);function mt(l){Tr(l)}function Ar(l){throw l}var Vr={closed:!0,next:fn,error:Ar,complete:fn},Mr=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Ur(l){return l}function Or(l){return l.length===0?Ur:l.length===1?l[0]:function(t){return l.reduce(function(n,a){return a(n)},t)}}var dn=function(){function l(e){e&&(this._subscribe=e)}return l.prototype.lift=function(e){var t=new l;return t.source=this,t.operator=e,t},l.prototype.subscribe=function(e,t,n){var a=this,r=Nr(e)?e:new At(e,t,n);return _t(function(){var s=a,i=s.operator,o=s.source;r.add(i?i.call(r,o):o?a._subscribe(r):a._trySubscribe(r))}),r},l.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},l.prototype.forEach=function(e,t){var n=this;return t=hn(t),new t(function(a,r){var s=new At({next:function(i){try{e(i)}catch(o){r(o),s.unsubscribe()}},error:r,complete:a});n.subscribe(s)})},l.prototype._subscribe=function(e){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(e)},l.prototype[Mr]=function(){return this},l.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Or(e)(this)},l.prototype.toPromise=function(e){var t=this;return e=hn(e),new e(function(n,a){var r;t.subscribe(function(s){return r=s},function(s){return a(s)},function(){return n(r)})})},l.create=function(e){return new l(e)},l}();function hn(l){var e;return(e=l??or.Promise)!==null&&e!==void 0?e:Promise}function Lr(l){return l&&Le(l.next)&&Le(l.error)&&Le(l.complete)}function Nr(l){return l&&l instanceof cr||Lr(l)&&ir(l)}var Br=lr(function(l){return function(){l(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Ot=function(l){wt(e,l);function e(){var t=l.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return e.prototype.lift=function(t){var n=new pn(this,this);return n.operator=t,n},e.prototype._throwIfClosed=function(){if(this.closed)throw new Br},e.prototype.next=function(t){var n=this;_t(function(){var a,r;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var s=Tt(n.currentObservers),i=s.next();!i.done;i=s.next()){var o=i.value;o.next(t)}}catch(f){a={error:f}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(a)throw a.error}}}})},e.prototype.error=function(t){var n=this;_t(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=t;for(var a=n.observers;a.length;)a.shift().error(t)}})},e.prototype.complete=function(){var t=this;_t(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var n=t.observers;n.length;)n.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(t){return this._throwIfClosed(),l.prototype._trySubscribe.call(this,t)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var n=this,a=this,r=a.hasError,s=a.isStopped,i=a.observers;return r||s?sr:(this.currentObservers=null,i.push(t),new kt(function(){n.currentObservers=null,Dt(i,t)}))},e.prototype._checkFinalizedStatuses=function(t){var n=this,a=n.hasError,r=n.thrownError,s=n.isStopped;a?t.error(r):s&&t.complete()},e.prototype.asObservable=function(){var t=new dn;return t.source=this,t},e.create=function(t,n){return new pn(t,n)},e}(dn),pn=function(l){wt(e,l);function e(t,n){var a=l.call(this)||this;return a.destination=t,a.source=n,a}return e.prototype.next=function(t){var n,a;(a=(n=this.destination)===null||n===void 0?void 0:n.next)===null||a===void 0||a.call(n,t)},e.prototype.error=function(t){var n,a;(a=(n=this.destination)===null||n===void 0?void 0:n.error)===null||a===void 0||a.call(n,t)},e.prototype.complete=function(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)},e.prototype._subscribe=function(t){var n,a;return(a=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&a!==void 0?a:sr},e}(Ot);class we{static getUrl(){return this.url}static getHeaders(){return{Authorization:`Bearer ${ar.getToken()}`}}static async interceptResponse(e){const t=await e.json();if(e.status!==200&&e.status!==201)throw e.status===401&&Ut(`${Cr}/auth/login`),new Error(t);return t}}Ue(we,"url",Sr);class mn{static async create(e){const t=await fetch(this.getUrl(),{method:"POST",body:JSON.stringify(e),headers:this.getHeaders()});return we.interceptResponse(t)}static async update(e){const t=await fetch(`${this.getUrl()}/${e._id}`,{method:"PATCH",body:JSON.stringify(e),headers:this.getHeaders()});return we.interceptResponse(t)}static getUrl(){return`${we.getUrl()}/payments`}static getHeaders(){return we.getHeaders()}}class Oe{static async getItems(){const e=await fetch(this.getUrl(),{method:"GET",headers:this.getHeaders()}),t=await we.interceptResponse(e);return t.filter(a=>a.type==="currency").forEach(a=>{const r=t.filter(s=>s.type==="account"&&s.currency===a.currency);r&&r.length?a.total=r.map(s=>s.balance).reduce((s,i)=>s+i):a.total=0}),t}static async create(e){const t=await fetch(this.getUrl(),{method:"POST",body:JSON.stringify(e),headers:this.getHeaders()});return we.interceptResponse(t)}static async update(e,t){const n=await fetch(`${this.getUrl()}/${e}`,{method:"PATCH",body:JSON.stringify(t),headers:this.getHeaders()});return we.interceptResponse(n)}static async delete(e){const t=await fetch(`${this.getUrl()}/${e}`,{method:"DELETE",headers:this.getHeaders()});return we.interceptResponse(t)}static addPayment(e,t){return mn.create({...t,itemId:e})}static updatePayment(e,t){return mn.update({...t,itemId:e})}static getUrl(){return`${we.getUrl()}/items`}static getHeaders(){return we.getHeaders()}}class Je{static async getList(){if(!this.list){const e=await fetch(this.getUrl(),{method:"GET",headers:this.getHeaders()});this.list=await we.interceptResponse(e)}return this.list}static async create(e){const t=await Oe.create(e);return this.list&&this.list.unshift(t),t}static async arsToUsd(e){const t=await this.getUsdToArsRatio();return e/t}static async getUsdToArsRatio(){if(!this.usdToArsRatio){const e=await fetch("https://api.bluelytics.com.ar/v2/latest",{method:"GET"});if(e.status==200){const t=await e.json();this.usdToArsRatio=t.blue.value_avg}}if(!this.usdToArsRatio)throw new Error("Couldn't get usd price");return this.usdToArsRatio}static async arsToUsdOnDate(e,t){if(!this.historicalUsdToArs[t]){const n=`https://api.bluelytics.com.ar/v2/historical?day=${t}`,a=await fetch(n,{method:"GET"});if(a.status==200){const r=await a.json();this.historicalUsdToArs[t]=r.blue.value_avg}}if(!this.historicalUsdToArs[t])throw new Error("Couldn't get usd price");return e/this.historicalUsdToArs[t]}static getUrl(){return`${we.getUrl()}/currency`}static getHeaders(){return we.getHeaders()}}Ue(Je,"list"),Ue(Je,"usdToArsRatio"),Ue(Je,"historicalUsdToArs",{});class Ze{static getCurrencies(){return Je.getList()}}Ue(Ze,"contextKey","currencyContext"),Ue(Ze,"currencyAddedSubject",new Ot);function _n(l,e,t){const n=l.slice();return n[6]=e[t],n}function Rr(l){let e,t;return{c(){e=b("div"),t=D("Loading currencies..."),this.h()},l(n){e=g(n,"DIV",{class:!0});var a=k(e);t=P(a,"Loading currencies..."),a.forEach(d),this.h()},h(){v(e,"class","loading")},m(n,a){V(n,e,a),c(e,t)},p:J,d(n){n&&d(e)}}}function Wr(l){let e;function t(r,s){return r[1].list.length?Hr:jr}let n=t(l),a=n(l);return{c(){a.c(),e=ee()},l(r){a.l(r),e=ee()},m(r,s){a.m(r,s),V(r,e,s)},p(r,s){n===(n=t(r))&&a?a.p(r,s):(a.d(1),a=n(r),a&&(a.c(),a.m(e.parentNode,e)))},d(r){a.d(r),r&&d(e)}}}function jr(l){let e,t,n,a,r,s;return{c(){e=b("div"),t=D("You don't have currencies "),n=b("button"),a=D("Create one"),this.h()},l(i){e=g(i,"DIV",{class:!0});var o=k(e);t=P(o,"You don't have currencies "),n=g(o,"BUTTON",{});var f=k(n);a=P(f,"Create one"),f.forEach(d),o.forEach(d),this.h()},h(){v(e,"class","create-currency-info svelte-1qu231b")},m(i,o){V(i,e,o),c(e,t),c(e,n),c(n,a),r||(s=H(n,"click",l[3]),r=!0)},p:J,d(i){i&&d(e),r=!1,s()}}}function Hr(l){let e,t,n,a,r,s,i=l[1].list,o=[];for(let f=0;f<i.length;f+=1)o[f]=vn(_n(l,i,f));return{c(){e=b("div"),t=b("select");for(let f=0;f<o.length;f+=1)o[f].c();n=b("option"),a=D("Create new currency"),this.h()},l(f){e=g(f,"DIV",{class:!0});var h=k(e);t=g(h,"SELECT",{id:!0,class:!0});var u=k(t);for(let m=0;m<o.length;m+=1)o[m].l(u);n=g(u,"OPTION",{});var p=k(n);a=P(p,"Create new currency"),p.forEach(d),u.forEach(d),h.forEach(d),this.h()},h(){n.__value="create-new",n.value=n.__value,v(t,"id","currency-input"),v(t,"class","w-100"),l[0]===void 0&&tr(()=>l[4].call(t)),v(e,"class","select input-stretch")},m(f,h){V(f,e,h),c(e,t);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(t,null);c(t,n),c(n,a),vt(t,l[0]),r||(s=[H(n,"click",l[3]),H(t,"change",l[4]),H(t,"change",l[2])],r=!0)},p(f,h){if(h&2){i=f[1].list;let u;for(u=0;u<i.length;u+=1){const p=_n(f,i,u);o[u]?o[u].p(p,h):(o[u]=vn(p),o[u].c(),o[u].m(t,n))}for(;u<o.length;u+=1)o[u].d(1);o.length=i.length}h&3&&vt(t,f[0])},d(f){f&&d(e),nr(o,f),r=!1,ke(s)}}}function vn(l){let e,t=l[6]+"",n,a;return{c(){e=b("option"),n=D(t),this.h()},l(r){e=g(r,"OPTION",{});var s=k(e);n=P(s,t),s.forEach(d),this.h()},h(){e.__value=a=l[6],e.value=e.__value},m(r,s){V(r,e,s),c(e,n)},p(r,s){s&2&&t!==(t=r[6]+"")&&te(n,t),s&2&&a!==(a=r[6])&&(e.__value=a,e.value=e.__value)},d(r){r&&d(e)}}}function Yr(l){let e,t,n,a;function r(o,f){return o[1].list?Wr:Rr}let s=r(l),i=s(l);return{c(){e=b("div"),t=b("label"),n=D("Currency"),a=S(),i.c(),this.h()},l(o){e=g(o,"DIV",{class:!0});var f=k(e);t=g(f,"LABEL",{for:!0});var h=k(t);n=P(h,"Currency"),h.forEach(d),a=C(f),i.l(f),f.forEach(d),this.h()},h(){v(t,"for","currency-input"),v(e,"class","label-and-input")},m(o,f){V(o,e,f),c(e,t),c(t,n),c(e,a),i.m(e,null)},p(o,[f]){s===(s=r(o))&&i?i.p(o,f):(i.d(1),i=s(o),i&&(i.c(),i.m(e,null)))},i:J,o:J,d(o){o&&d(e),i.d()}}}function qr(l,e,t){let{value:n="ars"}=e;const a=wr(Ze.contextKey),r={createNewKey:"create-new"};Be(async()=>{t(1,r.list=(await a.getCurrencies()).map(f=>f.currency),r)});function s(f){f.target.value===r.createNewKey&&i()}function i(){a.onGoToCreation()}function o(){n=er(this),t(0,n),t(1,r)}return l.$$set=f=>{"value"in f&&t(0,n=f.value)},[n,r,s,i,o]}class Lt extends le{constructor(e){super(),se(this,e,qr,Yr,ie,{value:0})}}function Kr(l){let e,t,n,a,r,s,i,o,f,h,u,p,m,_,y,w,$;function M(I){l[2](I)}let T={};return l[0].currency!==void 0&&(T.value=l[0].currency),i=new Lt({props:T}),Xe.push(()=>xe(i,"value",M)),{c(){e=b("div"),t=b("label"),n=D("Name"),a=S(),r=b("input"),s=S(),q(i.$$.fragment),f=S(),h=b("div"),u=b("label"),p=D("Balance"),m=S(),_=b("input"),this.h()},l(I){e=g(I,"DIV",{class:!0});var E=k(e);t=g(E,"LABEL",{for:!0});var U=k(t);n=P(U,"Name"),U.forEach(d),a=C(E),r=g(E,"INPUT",{id:!0,class:!0}),E.forEach(d),s=C(I),z(i.$$.fragment,I),f=C(I),h=g(I,"DIV",{class:!0});var j=k(h);u=g(j,"LABEL",{for:!0});var N=k(u);p=P(N,"Balance"),N.forEach(d),m=C(j),_=g(j,"INPUT",{id:!0,type:!0,class:!0}),j.forEach(d),this.h()},h(){v(t,"for","name-input"),v(r,"id","name-input"),v(r,"class","input-stretch"),v(e,"class","label-and-input"),v(u,"for","balance-input"),v(_,"id","balance-input"),v(_,"type","number"),v(_,"class","input-stretch"),v(h,"class","label-and-input")},m(I,E){V(I,e,E),c(e,t),c(t,n),c(e,a),c(e,r),ue(r,l[0].name),V(I,s,E),K(i,I,E),V(I,f,E),V(I,h,E),c(h,u),c(u,p),c(h,m),c(h,_),ue(_,l[0].balance),y=!0,w||($=[H(r,"input",l[1]),H(_,"input",l[3])],w=!0)},p(I,[E]){E&1&&r.value!==I[0].name&&ue(r,I[0].name);const U={};!o&&E&1&&(o=!0,U.value=I[0].currency,et(()=>o=!1)),i.$set(U),E&1&&He(_.value)!==I[0].balance&&ue(_,I[0].balance)},i(I){y||(A(i.$$.fragment,I),y=!0)},o(I){O(i.$$.fragment,I),y=!1},d(I){I&&d(e),I&&d(s),F(i,I),I&&d(f),I&&d(h),w=!1,ke($)}}}function Fr(l,e,t){let{config:n}=e;function a(){n.name=this.value,t(0,n)}function r(i){l.$$.not_equal(n.currency,i)&&(n.currency=i,t(0,n))}function s(){n.balance=He(this.value),t(0,n)}return l.$$set=i=>{"config"in i&&t(0,n=i.config)},[n,a,r,s]}class Nt extends le{constructor(e){super(),se(this,e,Fr,Kr,ie,{config:0})}}function Qr(l){let e,t,n,a,r,s;return{c(){e=b("label"),t=b("input"),n=S(),a=b("span"),this.h()},l(i){e=g(i,"LABEL",{class:!0});var o=k(e);t=g(o,"INPUT",{type:!0,class:!0}),n=C(o),a=g(o,"SPAN",{class:!0}),k(a).forEach(d),o.forEach(d),this.h()},h(){v(t,"type","checkbox"),v(t,"class","svelte-1ufkol1"),v(a,"class","slider svelte-1ufkol1"),v(e,"class","switch svelte-1ufkol1")},m(i,o){V(i,e,o),c(e,t),t.checked=l[0],c(e,n),c(e,a),r||(s=H(t,"change",l[1]),r=!0)},p(i,[o]){o&1&&(t.checked=i[0])},i:J,o:J,d(i){i&&d(e),r=!1,s()}}}function Gr(l,e,t){let{checked:n}=e;function a(){n=this.checked,t(0,n)}return l.$$set=r=>{"checked"in r&&t(0,n=r.checked)},[n,a]}class ur extends le{constructor(e){super(),se(this,e,Gr,Qr,ie,{checked:0})}}function zr(l){let e,t,n,a,r,s,i,o,f,h,u,p,m,_,y,w,$,M,T,I,E,U,j,N,B,Y,X,Q,R,Z,he;function ne(L){l[3](L)}let W={};l[0].currency!==void 0&&(W.value=l[0].currency),m=new Lt({props:W}),Xe.push(()=>xe(m,"value",ne));function x(L){l[4](L)}let oe={};return l[0].theyPayMe!==void 0&&(oe.checked=l[0].theyPayMe),E=new ur({props:oe}),Xe.push(()=>xe(E,"checked",x)),{c(){e=b("div"),t=b("label"),n=D("With who"),a=S(),r=b("input"),s=S(),i=b("div"),o=b("label"),f=D("Amount"),h=S(),u=b("input"),p=S(),q(m.$$.fragment),y=S(),w=b("div"),$=b("label"),M=D("They Pay Me"),T=S(),I=b("div"),q(E.$$.fragment),j=S(),N=b("div"),B=b("label"),Y=D("Description"),X=S(),Q=b("input"),this.h()},l(L){e=g(L,"DIV",{class:!0});var G=k(e);t=g(G,"LABEL",{for:!0});var ce=k(t);n=P(ce,"With who"),ce.forEach(d),a=C(G),r=g(G,"INPUT",{id:!0,class:!0}),G.forEach(d),s=C(L),i=g(L,"DIV",{class:!0});var fe=k(i);o=g(fe,"LABEL",{for:!0});var me=k(o);f=P(me,"Amount"),me.forEach(d),h=C(fe),u=g(fe,"INPUT",{id:!0,type:!0,class:!0}),fe.forEach(d),p=C(L),z(m.$$.fragment,L),y=C(L),w=g(L,"DIV",{class:!0});var _e=k(w);$=g(_e,"LABEL",{for:!0});var be=k($);M=P(be,"They Pay Me"),be.forEach(d),T=C(_e),I=g(_e,"DIV",{class:!0});var ve=k(I);z(E.$$.fragment,ve),ve.forEach(d),_e.forEach(d),j=C(L),N=g(L,"DIV",{class:!0});var ye=k(N);B=g(ye,"LABEL",{for:!0});var Ce=k(B);Y=P(Ce,"Description"),Ce.forEach(d),X=C(ye),Q=g(ye,"INPUT",{id:!0,class:!0}),ye.forEach(d),this.h()},h(){v(t,"for","who-input"),v(r,"id","who-input"),v(r,"class","input-stretch"),v(e,"class","label-and-input"),v(o,"for","amount-input"),v(u,"id","amount-input"),v(u,"type","number"),v(u,"class","input-stretch"),v(i,"class","label-and-input"),v($,"for","is-manual-input"),v(I,"class","switch-container"),v(w,"class","label-and-input"),v(B,"for","description-input"),v(Q,"id","description-input"),v(Q,"class","input-stretch"),v(N,"class","label-and-input")},m(L,G){V(L,e,G),c(e,t),c(t,n),c(e,a),c(e,r),ue(r,l[0].withWho),V(L,s,G),V(L,i,G),c(i,o),c(o,f),c(i,h),c(i,u),ue(u,l[0].amount),V(L,p,G),K(m,L,G),V(L,y,G),V(L,w,G),c(w,$),c($,M),c(w,T),c(w,I),K(E,I,null),V(L,j,G),V(L,N,G),c(N,B),c(B,Y),c(N,X),c(N,Q),ue(Q,l[0].description),R=!0,Z||(he=[H(r,"input",l[1]),H(u,"input",l[2]),H(Q,"input",l[5])],Z=!0)},p(L,[G]){G&1&&r.value!==L[0].withWho&&ue(r,L[0].withWho),G&1&&He(u.value)!==L[0].amount&&ue(u,L[0].amount);const ce={};!_&&G&1&&(_=!0,ce.value=L[0].currency,et(()=>_=!1)),m.$set(ce);const fe={};!U&&G&1&&(U=!0,fe.checked=L[0].theyPayMe,et(()=>U=!1)),E.$set(fe),G&1&&Q.value!==L[0].description&&ue(Q,L[0].description)},i(L){R||(A(m.$$.fragment,L),A(E.$$.fragment,L),R=!0)},o(L){O(m.$$.fragment,L),O(E.$$.fragment,L),R=!1},d(L){L&&d(e),L&&d(s),L&&d(i),L&&d(p),F(m,L),L&&d(y),L&&d(w),F(E),L&&d(j),L&&d(N),Z=!1,ke(he)}}}function Jr(l,e,t){let{config:n}=e;function a(){n.withWho=this.value,t(0,n)}function r(){n.amount=He(this.value),t(0,n)}function s(f){l.$$.not_equal(n.currency,f)&&(n.currency=f,t(0,n))}function i(f){l.$$.not_equal(n.theyPayMe,f)&&(n.theyPayMe=f,t(0,n))}function o(){n.description=this.value,t(0,n)}return l.$$set=f=>{"config"in f&&t(0,n=f.config)},[n,a,r,s,i,o]}class Zr extends le{constructor(e){super(),se(this,e,Jr,zr,ie,{config:0})}}function Xr(l){let e,t,n,a,r,s,i,o,f,h,u,p,m,_,y,w,$,M,T,I,E,U,j,N,B,Y,X,Q;function R(W){l[2](W)}let Z={};l[0].currency!==void 0&&(Z.value=l[0].currency),i=new Lt({props:Z}),Xe.push(()=>xe(i,"value",R));function he(W){l[4](W)}let ne={};return l[0].isManual!==void 0&&(ne.checked=l[0].isManual),E=new ur({props:ne}),Xe.push(()=>xe(E,"checked",he)),{c(){e=b("div"),t=b("label"),n=D("Name"),a=S(),r=b("input"),s=S(),q(i.$$.fragment),f=S(),h=b("div"),u=b("label"),p=D("Cost"),m=S(),_=b("input"),y=S(),w=b("div"),$=b("label"),M=D("Is Manual"),T=S(),I=b("div"),q(E.$$.fragment),j=S(),N=b("div"),B=D(`Mark the service as manual if you want to mark it as paid every month. You can change this setting\r
	later.`),this.h()},l(W){e=g(W,"DIV",{class:!0});var x=k(e);t=g(x,"LABEL",{for:!0});var oe=k(t);n=P(oe,"Name"),oe.forEach(d),a=C(x),r=g(x,"INPUT",{id:!0,class:!0}),x.forEach(d),s=C(W),z(i.$$.fragment,W),f=C(W),h=g(W,"DIV",{class:!0});var L=k(h);u=g(L,"LABEL",{for:!0});var G=k(u);p=P(G,"Cost"),G.forEach(d),m=C(L),_=g(L,"INPUT",{id:!0,type:!0,class:!0}),L.forEach(d),y=C(W),w=g(W,"DIV",{class:!0});var ce=k(w);$=g(ce,"LABEL",{for:!0});var fe=k($);M=P(fe,"Is Manual"),fe.forEach(d),T=C(ce),I=g(ce,"DIV",{class:!0});var me=k(I);z(E.$$.fragment,me),me.forEach(d),ce.forEach(d),j=C(W),N=g(W,"DIV",{});var _e=k(N);B=P(_e,`Mark the service as manual if you want to mark it as paid every month. You can change this setting\r
	later.`),_e.forEach(d),this.h()},h(){v(t,"for","name-input"),v(r,"id","name-input"),v(r,"class","input-stretch"),v(e,"class","label-and-input"),v(u,"for","cost-input"),v(_,"id","cost-input"),v(_,"type","number"),v(_,"class","input-stretch"),v(h,"class","label-and-input"),v($,"for","is-manual-input"),v(I,"class","switch-container svelte-1chm4va"),v(w,"class","label-and-input")},m(W,x){V(W,e,x),c(e,t),c(t,n),c(e,a),c(e,r),ue(r,l[0].name),V(W,s,x),K(i,W,x),V(W,f,x),V(W,h,x),c(h,u),c(u,p),c(h,m),c(h,_),ue(_,l[0].cost),V(W,y,x),V(W,w,x),c(w,$),c($,M),c(w,T),c(w,I),K(E,I,null),V(W,j,x),V(W,N,x),c(N,B),Y=!0,X||(Q=[H(r,"input",l[1]),H(_,"input",l[3])],X=!0)},p(W,[x]){x&1&&r.value!==W[0].name&&ue(r,W[0].name);const oe={};!o&&x&1&&(o=!0,oe.value=W[0].currency,et(()=>o=!1)),i.$set(oe),x&1&&He(_.value)!==W[0].cost&&ue(_,W[0].cost);const L={};!U&&x&1&&(U=!0,L.checked=W[0].isManual,et(()=>U=!1)),E.$set(L)},i(W){Y||(A(i.$$.fragment,W),A(E.$$.fragment,W),Y=!0)},o(W){O(i.$$.fragment,W),O(E.$$.fragment,W),Y=!1},d(W){W&&d(e),W&&d(s),F(i,W),W&&d(f),W&&d(h),W&&d(y),W&&d(w),F(E),W&&d(j),W&&d(N),X=!1,ke(Q)}}}function xr(l,e,t){let{config:n}=e;function a(){n.name=this.value,t(0,n)}function r(o){l.$$.not_equal(n.currency,o)&&(n.currency=o,t(0,n))}function s(){n.cost=He(this.value),t(0,n)}function i(o){l.$$.not_equal(n.isManual,o)&&(n.isManual=o,t(0,n))}return l.$$set=o=>{"config"in o&&t(0,n=o.config)},[n,a,r,s,i]}class ea extends le{constructor(e){super(),se(this,e,xr,Xr,ie,{config:0})}}function yn(l){let e,t,n;return{c(){e=b("span"),t=D("."),n=D(l[0]),this.h()},l(a){e=g(a,"SPAN",{class:!0});var r=k(e);t=P(r,"."),n=P(r,l[0]),r.forEach(d),this.h()},h(){v(e,"class","decimal-part svelte-7b3tfn")},m(a,r){V(a,e,r),c(e,t),c(e,n)},p(a,r){r&1&&te(n,a[0])},d(a){a&&d(e)}}}function ta(l){let e,t,n,a=l[0]!="0"&&yn(l);return{c(){e=b("span"),t=D(l[1]),a&&a.c(),n=ee(),this.h()},l(r){e=g(r,"SPAN",{class:!0});var s=k(e);t=P(s,l[1]),s.forEach(d),a&&a.l(r),n=ee(),this.h()},h(){v(e,"class","int-part")},m(r,s){V(r,e,s),c(e,t),a&&a.m(r,s),V(r,n,s)},p(r,[s]){s&2&&te(t,r[1]),r[0]!="0"?a?a.p(r,s):(a=yn(r),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},i:J,o:J,d(r){r&&d(e),a&&a.d(r),r&&d(n)}}}function na(l,e,t){let n,a,{value:r}=e;return l.$$set=s=>{"value"in s&&t(2,r=s.value)},l.$$.update=()=>{l.$$.dirty&4&&t(1,n=Math.floor(r).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.$$.dirty&4&&t(0,a=((r-Math.floor(r))*100).toFixed(0))},[a,n,r]}class Ne extends le{constructor(e){super(),se(this,e,na,ta,ie,{value:2})}}function ra(l){let e,t=l[0].name+"",n,a,r,s,i,o=l[0].currency+"",f,h;return s=new Ne({props:{value:l[0].balance}}),{c(){e=b("div"),n=D(t),a=S(),r=b("div"),q(s.$$.fragment),i=S(),f=D(o),this.h()},l(u){e=g(u,"DIV",{class:!0});var p=k(e);n=P(p,t),p.forEach(d),a=C(u),r=g(u,"DIV",{class:!0});var m=k(r);z(s.$$.fragment,m),i=C(m),f=P(m,o),m.forEach(d),this.h()},h(){v(e,"class","name"),v(r,"class","data")},m(u,p){V(u,e,p),c(e,n),V(u,a,p),V(u,r,p),K(s,r,null),c(r,i),c(r,f),h=!0},p(u,[p]){(!h||p&1)&&t!==(t=u[0].name+"")&&te(n,t);const m={};p&1&&(m.value=u[0].balance),s.$set(m),(!h||p&1)&&o!==(o=u[0].currency+"")&&te(f,o)},i(u){h||(A(s.$$.fragment,u),h=!0)},o(u){O(s.$$.fragment,u),h=!1},d(u){u&&d(e),u&&d(a),u&&d(r),F(s)}}}function aa(l,e,t){let{data:n}=e;return l.$$set=a=>{"data"in a&&t(0,n=a.data)},[n]}class fr extends le{constructor(e){super(),se(this,e,aa,ra,ie,{data:0})}}class ze{static calculatePayStateString(e){const n=this.getPaidAmount(e)>=e.amount,a=e.withWho;let r=`${a} owes`;const s=e.theyPayMe;return s&&n?`${a} paid`:!s&&n?`You paid ${a}`:!s&&!n?`You owe ${a}`:r}static getPaidAmount(e){let t=0;return e.payments&&e.payments.forEach(n=>t+=n.amount),t}static getOwedAmountOrZero(e){const t=this.getPaidAmount(e),n=e.amount-t;return n>0?n:0}}function bn(l){let e,t,n=l[1].payDirectionString+"",a,r,s,i,o,f=l[0].currency+"",h,u,p;return i=new Ne({props:{value:l[1].amountToShow}}),{c(){e=b("div"),t=b("div"),a=D(n),r=S(),s=b("div"),q(i.$$.fragment),o=S(),h=D(f),this.h()},l(m){e=g(m,"DIV",{class:!0});var _=k(e);t=g(_,"DIV",{});var y=k(t);a=P(y,n),y.forEach(d),r=C(_),s=g(_,"DIV",{class:!0});var w=k(s);z(i.$$.fragment,w),o=C(w),h=P(w,f),w.forEach(d),_.forEach(d),this.h()},h(){v(s,"class","data"),v(e,"class",u=l[1].containerClass)},m(m,_){V(m,e,_),c(e,t),c(t,a),c(e,r),c(e,s),K(i,s,null),c(s,o),c(s,h),p=!0},p(m,_){(!p||_&2)&&n!==(n=m[1].payDirectionString+"")&&te(a,n);const y={};_&2&&(y.value=m[1].amountToShow),i.$set(y),(!p||_&1)&&f!==(f=m[0].currency+"")&&te(h,f),(!p||_&2&&u!==(u=m[1].containerClass))&&v(e,"class",u)},i(m){p||(A(i.$$.fragment,m),p=!0)},o(m){O(i.$$.fragment,m),p=!1},d(m){m&&d(e),F(i)}}}function la(l){let e,t,n=l[1]!=null&&bn(l);return{c(){n&&n.c(),e=ee()},l(a){n&&n.l(a),e=ee()},m(a,r){n&&n.m(a,r),V(a,e,r),t=!0},p(a,[r]){a[1]!=null?n?(n.p(a,r),r&2&&A(n,1)):(n=bn(a),n.c(),A(n,1),n.m(e.parentNode,e)):n&&(re(),O(n,1,1,()=>{n=null}),ae())},i(a){t||(A(n),t=!0)},o(a){O(n),t=!1},d(a){n&&n.d(a),a&&d(e)}}}function sa(l,e,t){let{data:n}=e,a;return Be(()=>{const r=ze.getPaidAmount(n),s=r>=n.amount;t(1,a={containerClass:s?"paid":"unpaid",payDirectionString:ze.calculatePayStateString(n),amountToShow:s?r:n.amount-r})}),l.$$set=r=>{"data"in r&&t(0,n=r.data)},[n,a]}class ia extends le{constructor(e){super(),se(this,e,sa,la,ie,{data:0})}}function oa(l){let e,t,n=l[0].name+"",a,r,s,i,o,f=l[0].currency+"",h,u,p;return i=new Ne({props:{value:l[0].cost}}),{c(){e=b("div"),t=b("div"),a=D(n),r=S(),s=b("div"),q(i.$$.fragment),o=S(),h=D(f),this.h()},l(m){e=g(m,"DIV",{class:!0});var _=k(e);t=g(_,"DIV",{class:!0});var y=k(t);a=P(y,n),y.forEach(d),r=C(_),s=g(_,"DIV",{class:!0});var w=k(s);z(i.$$.fragment,w),o=C(w),h=P(w,f),w.forEach(d),_.forEach(d),this.h()},h(){v(t,"class","name"),v(s,"class","data"),v(e,"class",u=l[1].containerClass)},m(m,_){V(m,e,_),c(e,t),c(t,a),c(e,r),c(e,s),K(i,s,null),c(s,o),c(s,h),p=!0},p(m,[_]){(!p||_&1)&&n!==(n=m[0].name+"")&&te(a,n);const y={};_&1&&(y.value=m[0].cost),i.$set(y),(!p||_&1)&&f!==(f=m[0].currency+"")&&te(h,f),(!p||_&2&&u!==(u=m[1].containerClass))&&v(e,"class",u)},i(m){p||(A(i.$$.fragment,m),p=!0)},o(m){O(i.$$.fragment,m),p=!1},d(m){m&&d(e),F(i)}}}function ca(l,e,t){let{data:n}=e;const a={};return Be(()=>{n.isManual&&($t.wasThisMonthPaid(n)?t(1,a.containerClass="paid",a):t(1,a.containerClass="unpaid",a))}),l.$$set=r=>{"data"in r&&t(0,n=r.data)},[n,a]}class ua extends le{constructor(e){super(),se(this,e,ca,oa,ie,{data:0})}}function fa(l){let e,t=l[0].currency+"",n,a,r,s,i,o=l[0].currency+"",f,h;return s=new Ne({props:{value:l[0].total}}),{c(){e=b("div"),n=D(t),a=S(),r=b("div"),q(s.$$.fragment),i=S(),f=D(o)},l(u){e=g(u,"DIV",{});var p=k(e);n=P(p,t),p.forEach(d),a=C(u),r=g(u,"DIV",{});var m=k(r);z(s.$$.fragment,m),i=C(m),f=P(m,o),m.forEach(d)},m(u,p){V(u,e,p),c(e,n),V(u,a,p),V(u,r,p),K(s,r,null),c(r,i),c(r,f),h=!0},p(u,[p]){(!h||p&1)&&t!==(t=u[0].currency+"")&&te(n,t);const m={};p&1&&(m.value=u[0].total),s.$set(m),(!h||p&1)&&o!==(o=u[0].currency+"")&&te(f,o)},i(u){h||(A(s.$$.fragment,u),h=!0)},o(u){O(s.$$.fragment,u),h=!1},d(u){u&&d(e),u&&d(a),u&&d(r),F(s)}}}function da(l,e,t){let{data:n}=e;return l.$$set=a=>{"data"in a&&t(0,n=a.data)},[n]}class ha extends le{constructor(e){super(),se(this,e,da,fa,ie,{data:0})}}function gn(l){let e,t,n=l[0].name+"",a,r,s,i=l[0].balance+"",o,f,h=l[0].currency+"",u;return{c(){e=b("div"),t=b("div"),a=D(n),r=S(),s=b("div"),o=D(i),f=S(),u=D(h),this.h()},l(p){e=g(p,"DIV",{class:!0});var m=k(e);t=g(m,"DIV",{});var _=k(t);a=P(_,n),_.forEach(d),r=C(m),s=g(m,"DIV",{});var y=k(s);o=P(y,i),f=C(y),u=P(y,h),y.forEach(d),m.forEach(d),this.h()},h(){v(e,"class","account-see svelte-fip3ym")},m(p,m){V(p,e,m),c(e,t),c(t,a),c(e,r),c(e,s),c(s,o),c(s,f),c(s,u)},p(p,m){m&1&&n!==(n=p[0].name+"")&&te(a,n),m&1&&i!==(i=p[0].balance+"")&&te(o,i),m&1&&h!==(h=p[0].currency+"")&&te(u,h)},d(p){p&&d(e)}}}function pa(l){let e,t=l[0]!=null&&gn(l);return{c(){t&&t.c(),e=ee()},l(n){t&&t.l(n),e=ee()},m(n,a){t&&t.m(n,a),V(n,e,a)},p(n,[a]){n[0]!=null?t?t.p(n,a):(t=gn(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:J,o:J,d(n){t&&t.d(n),n&&d(e)}}}function ma(l,e,t){let{data:n}=e;return l.$$set=a=>{"data"in a&&t(0,n=a.data)},[n]}class Bt extends le{constructor(e){super(),se(this,e,ma,pa,ie,{data:0})}}class Rt{}Ue(Rt,"$channel",new Ot);function wn(l,e,t){const n=l.slice();return n[5]=e[t],n}function _a(l){let e;return{c(){e=D("Loading payments...")},l(t){e=P(t,"Loading payments...")},m(t,n){V(t,e,n)},p:J,i:J,o:J,d(t){t&&d(e)}}}function va(l){let e,t,n,a,r,s,i,o,f,h,u,p,m,_,y,w,$=[],M=new Map,T,I,E=l[1]&&kn(),U=l[0];const j=N=>N[5]._id+"//"+N[5].amount+"//"+N[5].dateString+N[5].note;for(let N=0;N<U.length;N+=1){let B=wn(l,U,N),Y=j(B);M.set(Y,$[N]=$n(Y,B))}return{c(){e=b("div"),t=b("div"),n=D("Payments"),a=S(),r=b("div"),s=b("div"),i=b("div"),o=D("Amount"),f=S(),h=b("div"),u=D("Date"),p=S(),E&&E.c(),m=S(),_=b("div"),y=D("Notes"),w=S();for(let N=0;N<$.length;N+=1)$[N].c();this.h()},l(N){e=g(N,"DIV",{class:!0});var B=k(e);t=g(B,"DIV",{class:!0});var Y=k(t);n=P(Y,"Payments"),Y.forEach(d),a=C(B),r=g(B,"DIV",{class:!0,role:!0});var X=k(r);s=g(X,"DIV",{class:!0,role:!0});var Q=k(s);i=g(Q,"DIV",{class:!0});var R=k(i);o=P(R,"Amount"),R.forEach(d),f=C(Q),h=g(Q,"DIV",{class:!0});var Z=k(h);u=P(Z,"Date"),Z.forEach(d),p=C(Q),E&&E.l(Q),m=C(Q),_=g(Q,"DIV",{class:!0});var he=k(_);y=P(he,"Notes"),he.forEach(d),Q.forEach(d),w=C(X);for(let ne=0;ne<$.length;ne+=1)$[ne].l(X);X.forEach(d),B.forEach(d),this.h()},h(){v(t,"class","pay-table__title svelte-1y83l8o"),v(i,"class","pay-table__column svelte-1y83l8o"),v(h,"class","pay-table__column svelte-1y83l8o"),v(_,"class","pay-table__column svelte-1y83l8o"),v(s,"class","pay-table__header pay-table__row svelte-1y83l8o"),v(s,"role","rowgroup"),v(r,"class",T="pay-table__table "+(l[1]?"pay-table__table_4-columns":"pay-table__table_3-columns")+" svelte-1y83l8o"),v(r,"role","table"),v(e,"class","pay-table svelte-1y83l8o")},m(N,B){V(N,e,B),c(e,t),c(t,n),c(e,a),c(e,r),c(r,s),c(s,i),c(i,o),c(s,f),c(s,h),c(h,u),c(s,p),E&&E.m(s,null),c(s,m),c(s,_),c(_,y),c(r,w);for(let Y=0;Y<$.length;Y+=1)$[Y]&&$[Y].m(r,null);I=!0},p(N,B){N[1]?E||(E=kn(),E.c(),E.m(s,m)):E&&(E.d(1),E=null),B&7&&(U=N[0],re(),$=Mt($,B,j,1,N,U,M,r,rr,$n,null,wn),ae()),(!I||B&2&&T!==(T="pay-table__table "+(N[1]?"pay-table__table_4-columns":"pay-table__table_3-columns")+" svelte-1y83l8o"))&&v(r,"class",T)},i(N){if(!I){for(let B=0;B<U.length;B+=1)A($[B]);I=!0}},o(N){for(let B=0;B<$.length;B+=1)O($[B]);I=!1},d(N){N&&d(e),E&&E.d();for(let B=0;B<$.length;B+=1)$[B].d()}}}function kn(l){let e,t;return{c(){e=b("div"),t=D("USD"),this.h()},l(n){e=g(n,"DIV",{class:!0});var a=k(e);t=P(a,"USD"),a.forEach(d),this.h()},h(){v(e,"class","pay-table__column svelte-1y83l8o")},m(n,a){V(n,e,a),c(e,t)},d(n){n&&d(e)}}}function En(l){let e,t,n,a;const r=[ba,ya],s=[];function i(o,f){return o[5].usdAmount?0:1}return t=i(l),n=s[t]=r[t](l),{c(){e=b("div"),n.c(),this.h()},l(o){e=g(o,"DIV",{class:!0,role:!0});var f=k(e);n.l(f),f.forEach(d),this.h()},h(){v(e,"class","pay-table__column pay-table__usd svelte-1y83l8o"),v(e,"role","cell")},m(o,f){V(o,e,f),s[t].m(e,null),a=!0},p(o,f){let h=t;t=i(o),t===h?s[t].p(o,f):(re(),O(s[h],1,1,()=>{s[h]=null}),ae(),n=s[t],n?n.p(o,f):(n=s[t]=r[t](o),n.c()),A(n,1),n.m(e,null))},i(o){a||(A(n),a=!0)},o(o){O(n),a=!1},d(o){o&&d(e),s[t].d()}}}function ya(l){let e;return{c(){e=D("Loading...")},l(t){e=P(t,"Loading...")},m(t,n){V(t,e,n)},p:J,i:J,o:J,d(t){t&&d(e)}}}function ba(l){let e,t;return e=new Ne({props:{value:l[5].usdAmount}}),{c(){q(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,a){K(e,n,a),t=!0},p(n,a){const r={};a&1&&(r.value=n[5].usdAmount),e.$set(r)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){O(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function $n(l,e){let t,n,a,r,s,i=e[5].dateString+"",o,f,h,u,p=(e[5].note??"-")+"",m,_,y,w,$;a=new Ne({props:{value:e[5].amount}});let M=e[1]&&En(e);function T(){return e[4](e[5])}return{key:l,first:null,c(){t=b("div"),n=b("div"),q(a.$$.fragment),r=S(),s=b("div"),o=D(i),f=S(),M&&M.c(),h=S(),u=b("div"),m=D(p),_=S(),this.h()},l(I){t=g(I,"DIV",{class:!0,role:!0});var E=k(t);n=g(E,"DIV",{class:!0,role:!0});var U=k(n);z(a.$$.fragment,U),U.forEach(d),r=C(E),s=g(E,"DIV",{class:!0,role:!0});var j=k(s);o=P(j,i),j.forEach(d),f=C(E),M&&M.l(E),h=C(E),u=g(E,"DIV",{class:!0,role:!0});var N=k(u);m=P(N,p),N.forEach(d),_=C(E),E.forEach(d),this.h()},h(){v(n,"class","pay-table__column pay-table__amount svelte-1y83l8o"),v(n,"role","cell"),v(s,"class","pay-table__column pay-table__date svelte-1y83l8o"),v(s,"role","cell"),v(u,"class","pay-table__column pay-table__note svelte-1y83l8o"),v(u,"role","cell"),v(t,"class","pay-table__row pay-table__row_clickable svelte-1y83l8o"),v(t,"role","rowgroup"),this.first=t},m(I,E){V(I,t,E),c(t,n),K(a,n,null),c(t,r),c(t,s),c(s,o),c(t,f),M&&M.m(t,null),c(t,h),c(t,u),c(u,m),c(t,_),y=!0,w||($=H(t,"click",T),w=!0)},p(I,E){e=I;const U={};E&1&&(U.value=e[5].amount),a.$set(U),(!y||E&1)&&i!==(i=e[5].dateString+"")&&te(o,i),e[1]?M?(M.p(e,E),E&2&&A(M,1)):(M=En(e),M.c(),A(M,1),M.m(t,h)):M&&(re(),O(M,1,1,()=>{M=null}),ae()),(!y||E&1)&&p!==(p=(e[5].note??"-")+"")&&te(m,p)},i(I){y||(A(a.$$.fragment,I),A(M),y=!0)},o(I){O(a.$$.fragment,I),O(M),y=!1},d(I){I&&d(t),F(a),M&&M.d(),w=!1,$()}}}function ga(l){let e,t,n,a;const r=[va,_a],s=[];function i(o,f){return o[0]?0:1}return e=i(l),t=s[e]=r[e](l),{c(){t.c(),n=ee()},l(o){t.l(o),n=ee()},m(o,f){s[e].m(o,f),V(o,n,f),a=!0},p(o,[f]){let h=e;e=i(o),e===h?s[e].p(o,f):(re(),O(s[h],1,1,()=>{s[h]=null}),ae(),t=s[e],t?t.p(o,f):(t=s[e]=r[e](o),t.c()),A(t,1),t.m(n.parentNode,n))},i(o){a||(A(t),a=!0)},o(o){O(t),a=!1},d(o){s[e].d(o),o&&d(n)}}}function wa(l,e,t){let{onRowClicked:n}=e,{payments:a}=e,{showUsdColumn:r}=e;function s(o){n(o)}const i=o=>s(o);return l.$$set=o=>{"onRowClicked"in o&&t(3,n=o.onRowClicked),"payments"in o&&t(0,a=o.payments),"showUsdColumn"in o&&t(1,r=o.showUsdColumn)},[a,r,s,n,i]}class dr extends le{constructor(e){super(),se(this,e,wa,ga,ie,{onRowClicked:3,payments:0,showUsdColumn:1})}}function In(l){let e,t,n,a,r,s,i,o,f,h,u,p,m,_,y,w,$,M,T=l[0]&&Sn(l);return{c(){e=b("div"),T&&T.c(),t=S(),n=b("input"),a=S(),r=b("input"),s=S(),i=b("input"),o=S(),f=b("div"),h=b("button"),u=D("Confirm"),m=S(),_=b("button"),y=D("Cancel"),this.h()},l(I){e=g(I,"DIV",{class:!0});var E=k(e);T&&T.l(E),t=C(E),n=g(E,"INPUT",{type:!0,class:!0,placeholder:!0}),a=C(E),r=g(E,"INPUT",{class:!0,type:!0,placeholder:!0}),s=C(E),i=g(E,"INPUT",{class:!0,type:!0,placeholder:!0}),o=C(E),f=g(E,"DIV",{class:!0});var U=k(f);h=g(U,"BUTTON",{class:!0});var j=k(h);u=P(j,"Confirm"),j.forEach(d),m=C(U),_=g(U,"BUTTON",{class:!0});var N=k(_);y=P(N,"Cancel"),N.forEach(d),U.forEach(d),E.forEach(d),this.h()},h(){v(n,"type","date"),v(n,"class","input"),v(n,"placeholder","Date"),v(r,"class","input"),v(r,"type","number"),v(r,"placeholder","Amount"),v(i,"class","input"),v(i,"type","text"),v(i,"placeholder","Note"),v(h,"class",p="button "+(l[1].loading?"is-loading":"")),_.disabled=w=l[1].loading,v(_,"class","button is-danger"),v(f,"class","pay-window__footer svelte-og27j9"),v(e,"class","pay-window")},m(I,E){V(I,e,E),T&&T.m(e,null),c(e,t),c(e,n),ue(n,l[1].payment.dateString),c(e,a),c(e,r),ue(r,l[1].payment.amount),c(e,s),c(e,i),ue(i,l[1].payment.note),c(e,o),c(e,f),c(f,h),c(h,u),c(f,m),c(f,_),c(_,y),$||(M=[H(n,"input",l[9]),H(r,"input",l[10]),H(i,"input",l[11]),H(h,"click",l[2]),H(_,"click",l[3])],$=!0)},p(I,E){I[0]?T?T.p(I,E):(T=Sn(I),T.c(),T.m(e,t)):T&&(T.d(1),T=null),E&2&&ue(n,I[1].payment.dateString),E&2&&He(r.value)!==I[1].payment.amount&&ue(r,I[1].payment.amount),E&2&&i.value!==I[1].payment.note&&ue(i,I[1].payment.note),E&2&&p!==(p="button "+(I[1].loading?"is-loading":""))&&v(h,"class",p),E&2&&w!==(w=I[1].loading)&&(_.disabled=w)},d(I){I&&d(e),T&&T.d(),$=!1,ke(M)}}}function Sn(l){let e,t,n,a,r,s,i,o;return{c(){e=b("div"),t=b("div"),n=D("Editing Payment"),a=S(),r=b("button"),s=D("Delete"),this.h()},l(f){e=g(f,"DIV",{class:!0});var h=k(e);t=g(h,"DIV",{class:!0});var u=k(t);n=P(u,"Editing Payment"),u.forEach(d),a=C(h),r=g(h,"BUTTON",{class:!0});var p=k(r);s=P(p,"Delete"),p.forEach(d),h.forEach(d),this.h()},h(){v(t,"class","pay-window__editing-title"),v(r,"class","button"),v(e,"class","pay-window__editing-header svelte-og27j9")},m(f,h){V(f,e,h),c(e,t),c(t,n),c(e,a),c(e,r),c(r,s),i||(o=H(r,"click",l[4]),i=!0)},p:J,d(f){f&&d(e),i=!1,o()}}}function ka(l){let e,t=l[1]&&In(l);return{c(){t&&t.c(),e=ee()},l(n){t&&t.l(n),e=ee()},m(n,a){t&&t.m(n,a),V(n,e,a)},p(n,[a]){n[1]?t?t.p(n,a):(t=In(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:J,o:J,d(n){t&&t.d(n),n&&d(e)}}}function Ea(l,e,t){let{defaultAmount:n=0}=e,{editedPayment:a}=e,{onConfirm:r}=e,{onCancel:s}=e,{onDelete:i}=e,o;Be(()=>{if(a)t(1,o={payment:{...a}});else{const w=new Date(Date.now()).toISOString().substring(0,10);t(1,o={payment:{dateString:w,amount:n}})}});function f(){t(1,o.loading=!0,o),r(o.payment)}function h(){s(o.payment)}function u(){i(a)}function p(){o.payment.dateString=this.value,t(1,o)}function m(){o.payment.amount=He(this.value),t(1,o)}function _(){o.payment.note=this.value,t(1,o)}return l.$$set=y=>{"defaultAmount"in y&&t(5,n=y.defaultAmount),"editedPayment"in y&&t(0,a=y.editedPayment),"onConfirm"in y&&t(6,r=y.onConfirm),"onCancel"in y&&t(7,s=y.onCancel),"onDelete"in y&&t(8,i=y.onDelete)},[a,o,f,h,u,n,r,s,i,p,m,_]}class hr extends le{constructor(e){super(),se(this,e,Ea,ka,ie,{defaultAmount:5,editedPayment:0,onConfirm:6,onCancel:7,onDelete:8})}}class je{static getPayTable(e,t,n){if(e&&e.length){if(!n){const a=[...e],r=t==="ars";return r&&a.forEach(s=>{Je.arsToUsdOnDate(s.amount,s.dateString).then(i=>{s.usdAmount=i})}),{payments:a,show:!0,showUsdColumn:r}}return{...n,show:!0}}}static async addPayment(e,t,n,a){const r=!n.editedPayment;n.saving=!0;let s;r?s=await Oe.addPayment(e._id,t):s=await Oe.updatePayment(e._id,t),n.saving=!1,e.payments||(e.payments=[]),r?(e.payments.unshift(s),e.payments=e.payments.sort((i,o)=>i.date>o.date?-1:i.date<o.date?1:0),a&&a.payments&&(a.payments.unshift(s),a.payments=a.payments.sort((i,o)=>i.dateString>o.dateString?-1:i.dateString<o.dateString?1:0))):(n.editedPayment.amount=s.amount,n.editedPayment.dateString=s.dateString,n.editedPayment.note=s.note)}static getLastPayment(e){let t;for(const n of e){const a=new Date(n.dateString);(!t||a>t.date)&&(t={date:a,payment:n})}if(t)return t.payment}}function Cn(l){let e,t,n=l[1].payInfo+"",a,r,s,i,o,f,h=l[1].payStatus&&Tn(l),u=l[1].payTable&&l[1].payTable.show&&Dn(l),p=l[1].payWindow&&Pn(l),m=l[1].showPayButton&&An(l);return{c(){e=b("div"),t=b("div"),a=D(n),r=S(),h&&h.c(),s=S(),u&&u.c(),i=S(),p&&p.c(),o=S(),m&&m.c(),this.h()},l(_){e=g(_,"DIV",{class:!0});var y=k(e);t=g(y,"DIV",{});var w=k(t);a=P(w,n),w.forEach(d),r=C(y),h&&h.l(y),s=C(y),u&&u.l(y),i=C(y),p&&p.l(y),o=C(y),m&&m.l(y),y.forEach(d),this.h()},h(){v(e,"class","debt-see svelte-7eluyi")},m(_,y){V(_,e,y),c(e,t),c(t,a),c(e,r),h&&h.m(e,null),c(e,s),u&&u.m(e,null),c(e,i),p&&p.m(e,null),c(e,o),m&&m.m(e,null),f=!0},p(_,y){(!f||y&2)&&n!==(n=_[1].payInfo+"")&&te(a,n),_[1].payStatus?h?(h.p(_,y),y&2&&A(h,1)):(h=Tn(_),h.c(),A(h,1),h.m(e,s)):h&&(re(),O(h,1,1,()=>{h=null}),ae()),_[1].payTable&&_[1].payTable.show?u?(u.p(_,y),y&2&&A(u,1)):(u=Dn(_),u.c(),A(u,1),u.m(e,i)):u&&(re(),O(u,1,1,()=>{u=null}),ae()),_[1].payWindow?p?(p.p(_,y),y&2&&A(p,1)):(p=Pn(_),p.c(),A(p,1),p.m(e,o)):p&&(re(),O(p,1,1,()=>{p=null}),ae()),_[1].showPayButton?m?m.p(_,y):(m=An(_),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},i(_){f||(A(h),A(u),A(p),f=!0)},o(_){O(h),O(u),O(p),f=!1},d(_){_&&d(e),h&&h.d(),u&&u.d(),p&&p.d(),m&&m.d()}}}function Tn(l){let e,t=l[1].payStatus.statusString+"",n,a,r,s,i,o,f=l[0].currency+"",h,u;return r=new Ne({props:{value:l[1].payStatus.amount}}),i=new Ne({props:{value:l[1].payStatus.total}}),{c(){e=b("div"),n=D(t),a=S(),q(r.$$.fragment),s=D(" of "),q(i.$$.fragment),o=S(),h=D(f)},l(p){e=g(p,"DIV",{});var m=k(e);n=P(m,t),a=C(m),z(r.$$.fragment,m),s=P(m," of "),z(i.$$.fragment,m),o=C(m),h=P(m,f),m.forEach(d)},m(p,m){V(p,e,m),c(e,n),c(e,a),K(r,e,null),c(e,s),K(i,e,null),c(e,o),c(e,h),u=!0},p(p,m){(!u||m&2)&&t!==(t=p[1].payStatus.statusString+"")&&te(n,t);const _={};m&2&&(_.value=p[1].payStatus.amount),r.$set(_);const y={};m&2&&(y.value=p[1].payStatus.total),i.$set(y),(!u||m&1)&&f!==(f=p[0].currency+"")&&te(h,f)},i(p){u||(A(r.$$.fragment,p),A(i.$$.fragment,p),u=!0)},o(p){O(r.$$.fragment,p),O(i.$$.fragment,p),u=!1},d(p){p&&d(e),F(r),F(i)}}}function Dn(l){let e,t;return e=new dr({props:{payments:l[1].payTable.payments,showUsdColumn:l[1].payTable.showUsdColumn,onRowClicked:l[5]}}),{c(){q(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,a){K(e,n,a),t=!0},p(n,a){const r={};a&2&&(r.payments=n[1].payTable.payments),a&2&&(r.showUsdColumn=n[1].payTable.showUsdColumn),e.$set(r)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){O(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Pn(l){let e,t;return e=new hr({props:{editedPayment:l[1].payWindow.editedPayment,defaultAmount:l[1].payWindow.defaultAmount,onConfirm:l[3],onCancel:l[2],onDelete:l[6]}}),{c(){q(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,a){K(e,n,a),t=!0},p(n,a){const r={};a&2&&(r.editedPayment=n[1].payWindow.editedPayment),a&2&&(r.defaultAmount=n[1].payWindow.defaultAmount),e.$set(r)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){O(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function An(l){let e,t,n,a;return{c(){e=b("button"),t=D("Register payment"),this.h()},l(r){e=g(r,"BUTTON",{class:!0});var s=k(e);t=P(s,"Register payment"),s.forEach(d),this.h()},h(){v(e,"class","button")},m(r,s){V(r,e,s),c(e,t),n||(a=H(e,"click",l[4]),n=!0)},p:J,d(r){r&&d(e),n=!1,a()}}}function $a(l){let e,t,n=l[1]!=null&&Cn(l);return{c(){n&&n.c(),e=ee()},l(a){n&&n.l(a),e=ee()},m(a,r){n&&n.m(a,r),V(a,e,r),t=!0},p(a,[r]){a[1]!=null?n?(n.p(a,r),r&2&&A(n,1)):(n=Cn(a),n.c(),A(n,1),n.m(e.parentNode,e)):n&&(re(),O(n,1,1,()=>{n=null}),ae())},i(a){t||(A(n),t=!0)},o(a){O(n),t=!1},d(a){n&&n.d(a),a&&d(e)}}}function Ia(l,e,t){let{data:n}=e;const a=at();let r={},s;Be(()=>{s=Rt.$channel.subscribe(_=>{_.type==="itemEdited"&&i()}),i()}),kr(()=>{s&&s.unsubscribe()});function i(){const _=ze.getPaidAmount(n),y=_>=n.amount;t(1,r.showPayButton=!y,r),t(1,r.payInfo=ze.calculatePayStateString(n),r),n.description&&n.description.length>0&&t(1,r.payInfo+=` ${n.description}`,r),t(1,r.payTable=je.getPayTable(n.payments,n.currency,r.payTable),r),t(1,r.payStatus={isPaid:y,amount:n.theyPayMe&&y||y?_:n.amount-_,total:n.amount,statusString:ze.calculatePayStateString(n)},r)}function o(){t(1,r.payWindow=void 0,r),t(1,r.showPayButton=!0,r),r.payTable&&t(1,r.payTable.show=!0,r)}async function f(_){const y=r.payWindow;try{await je.addPayment(n,_,y,r.payTable),i(),t(1,r.payWindow=void 0,r),h()}catch(w){console.error(w),y.saving=!1}}function h(){a("update",n)}function u(){t(1,r.showPayButton=!1,r),t(1,r.payWindow={defaultAmount:ze.getOwedAmountOrZero(n)},r)}function p(_){t(1,r.payTable.show=!1,r),t(1,r.payWindow={editedPayment:_,defaultAmount:_.amount},r),t(1,r.showPayButton=!1,r)}function m(){const _=r.payWindow.editedPayment;n.payments.splice(n.payments.indexOf(_),1),Oe.update(n._id,{payments:n.payments}),t(1,r.payWindow=void 0,r),i()}return l.$$set=_=>{"data"in _&&t(0,n=_.data)},[n,r,o,f,u,p,m]}class pr extends le{constructor(e){super(),se(this,e,Ia,$a,ie,{data:0})}}function Vn(l,e,t){const n=l.slice();return n[13]=e[t],n}function Mn(l){let e,t,n,a,r,s,i=l[1].tabs.show&&Un(l),o=l[1].tabs.activeTab==="main"&&Ln(l),f=l[1].tabs.activeTab==="payments"&&l[1].payTable&&l[1].payTable.show&&Rn(l),h=l[1].payWindow&&Wn(l),u=l[1].showPayButton&&jn(l);return{c(){e=b("div"),i&&i.c(),t=S(),o&&o.c(),n=S(),f&&f.c(),a=S(),h&&h.c(),r=S(),u&&u.c(),this.h()},l(p){e=g(p,"DIV",{class:!0});var m=k(e);i&&i.l(m),t=C(m),o&&o.l(m),n=C(m),f&&f.l(m),a=C(m),h&&h.l(m),r=C(m),u&&u.l(m),m.forEach(d),this.h()},h(){v(e,"class","service-see svelte-tac2q1")},m(p,m){V(p,e,m),i&&i.m(e,null),c(e,t),o&&o.m(e,null),c(e,n),f&&f.m(e,null),c(e,a),h&&h.m(e,null),c(e,r),u&&u.m(e,null),s=!0},p(p,m){p[1].tabs.show?i?i.p(p,m):(i=Un(p),i.c(),i.m(e,t)):i&&(i.d(1),i=null),p[1].tabs.activeTab==="main"?o?o.p(p,m):(o=Ln(p),o.c(),o.m(e,n)):o&&(o.d(1),o=null),p[1].tabs.activeTab==="payments"&&p[1].payTable&&p[1].payTable.show?f?(f.p(p,m),m&2&&A(f,1)):(f=Rn(p),f.c(),A(f,1),f.m(e,a)):f&&(re(),O(f,1,1,()=>{f=null}),ae()),p[1].payWindow?h?(h.p(p,m),m&2&&A(h,1)):(h=Wn(p),h.c(),A(h,1),h.m(e,r)):h&&(re(),O(h,1,1,()=>{h=null}),ae()),p[1].showPayButton?u?u.p(p,m):(u=jn(p),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},i(p){s||(A(f),A(h),s=!0)},o(p){O(f),O(h),s=!1},d(p){p&&d(e),i&&i.d(),o&&o.d(),f&&f.d(),h&&h.d(),u&&u.d()}}}function Un(l){let e,t,n=l[1].tabs.list,a=[];for(let r=0;r<n.length;r+=1)a[r]=On(Vn(l,n,r));return{c(){e=b("div"),t=b("ul");for(let r=0;r<a.length;r+=1)a[r].c();this.h()},l(r){e=g(r,"DIV",{class:!0});var s=k(e);t=g(s,"UL",{});var i=k(t);for(let o=0;o<a.length;o+=1)a[o].l(i);i.forEach(d),s.forEach(d),this.h()},h(){v(e,"class","service-tabs tabs svelte-tac2q1")},m(r,s){V(r,e,s),c(e,t);for(let i=0;i<a.length;i+=1)a[i]&&a[i].m(t,null)},p(r,s){if(s&130){n=r[1].tabs.list;let i;for(i=0;i<n.length;i+=1){const o=Vn(r,n,i);a[i]?a[i].p(o,s):(a[i]=On(o),a[i].c(),a[i].m(t,null))}for(;i<a.length;i+=1)a[i].d(1);a.length=n.length}},d(r){r&&d(e),nr(a,r)}}}function On(l){let e,t,n=l[13].title+"",a,r,s,i,o;function f(){return l[9](l[13])}return{c(){e=b("li"),t=b("a"),a=D(n),r=S(),this.h()},l(h){e=g(h,"LI",{class:!0});var u=k(e);t=g(u,"A",{});var p=k(t);a=P(p,n),p.forEach(d),r=C(u),u.forEach(d),this.h()},h(){v(e,"class",s=l[13].active?"is-active":"")},m(h,u){V(h,e,u),c(e,t),c(t,a),c(e,r),i||(o=H(t,"click",f),i=!0)},p(h,u){l=h,u&2&&n!==(n=l[13].title+"")&&te(a,n),u&2&&s!==(s=l[13].active?"is-active":"")&&v(e,"class",s)},d(h){h&&d(e),i=!1,o()}}}function Ln(l){let e,t,n=l[0].name+"",a,r,s,i=l[0].cost+"",o,f,h=l[0].currency+"",u,p,m,_=l[1].lastPayment&&Nn(l),y=l[1].showChangePaidDateButton&&Bn(l);return{c(){e=b("div"),t=b("div"),a=D(n),r=S(),s=b("div"),o=D(i),f=S(),u=D(h),p=S(),_&&_.c(),m=S(),y&&y.c(),this.h()},l(w){e=g(w,"DIV",{class:!0});var $=k(e);t=g($,"DIV",{});var M=k(t);a=P(M,n),M.forEach(d),r=C($),s=g($,"DIV",{});var T=k(s);o=P(T,i),f=C(T),u=P(T,h),T.forEach(d),p=C($),_&&_.l($),m=C($),y&&y.l($),$.forEach(d),this.h()},h(){v(e,"class","service-see__body svelte-tac2q1")},m(w,$){V(w,e,$),c(e,t),c(t,a),c(e,r),c(e,s),c(s,o),c(s,f),c(s,u),c(e,p),_&&_.m(e,null),c(e,m),y&&y.m(e,null)},p(w,$){$&1&&n!==(n=w[0].name+"")&&te(a,n),$&1&&i!==(i=w[0].cost+"")&&te(o,i),$&1&&h!==(h=w[0].currency+"")&&te(u,h),w[1].lastPayment?_?_.p(w,$):(_=Nn(w),_.c(),_.m(e,m)):_&&(_.d(1),_=null),w[1].showChangePaidDateButton?y?y.p(w,$):(y=Bn(w),y.c(),y.m(e,null)):y&&(y.d(1),y=null)},d(w){w&&d(e),_&&_.d(),y&&y.d()}}}function Nn(l){let e,t,n,a,r,s=l[1].lastPayment.dateString+"",i;return{c(){e=b("div"),t=b("div"),n=D("Last pay date:"),a=S(),r=b("div"),i=D(s),this.h()},l(o){e=g(o,"DIV",{class:!0});var f=k(e);t=g(f,"DIV",{class:!0});var h=k(t);n=P(h,"Last pay date:"),h.forEach(d),a=C(f),r=g(f,"DIV",{class:!0});var u=k(r);i=P(u,s),u.forEach(d),f.forEach(d),this.h()},h(){v(t,"class","value-label"),v(r,"class","value"),v(e,"class","label-and-value svelte-tac2q1")},m(o,f){V(o,e,f),c(e,t),c(t,n),c(e,a),c(e,r),c(r,i)},p(o,f){f&2&&s!==(s=o[1].lastPayment.dateString+"")&&te(i,s)},d(o){o&&d(e)}}}function Bn(l){let e,t,n,a;return{c(){e=b("button"),t=D("Change Date"),this.h()},l(r){e=g(r,"BUTTON",{class:!0});var s=k(e);t=P(s,"Change Date"),s.forEach(d),this.h()},h(){v(e,"class","button")},m(r,s){V(r,e,s),c(e,t),n||(a=H(e,"click",l[3]),n=!0)},p:J,d(r){r&&d(e),n=!1,a()}}}function Rn(l){let e,t;return e=new dr({props:{payments:l[1].payTable.payments,showUsdColumn:l[1].payTable.showUsdColumn,onRowClicked:l[8]}}),{c(){q(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,a){K(e,n,a),t=!0},p(n,a){const r={};a&2&&(r.payments=n[1].payTable.payments),a&2&&(r.showUsdColumn=n[1].payTable.showUsdColumn),e.$set(r)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){O(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Wn(l){let e,t;return e=new hr({props:{editedPayment:l[1].payWindow.editedPayment,defaultAmount:l[1].payWindow.defaultAmount,onConfirm:l[4],onCancel:l[5],onDelete:l[6]}}),{c(){q(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,a){K(e,n,a),t=!0},p(n,a){const r={};a&2&&(r.editedPayment=n[1].payWindow.editedPayment),a&2&&(r.defaultAmount=n[1].payWindow.defaultAmount),e.$set(r)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){O(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function jn(l){let e,t,n,a;return{c(){e=b("button"),t=D("Register Payment"),this.h()},l(r){e=g(r,"BUTTON",{class:!0});var s=k(e);t=P(s,"Register Payment"),s.forEach(d),this.h()},h(){v(e,"class","button")},m(r,s){V(r,e,s),c(e,t),n||(a=H(e,"click",l[2]),n=!0)},p:J,d(r){r&&d(e),n=!1,a()}}}function Sa(l){let e,t,n=l[1]&&Mn(l);return{c(){n&&n.c(),e=ee()},l(a){n&&n.l(a),e=ee()},m(a,r){n&&n.m(a,r),V(a,e,r),t=!0},p(a,[r]){a[1]?n?(n.p(a,r),r&2&&A(n,1)):(n=Mn(a),n.c(),A(n,1),n.m(e.parentNode,e)):n&&(re(),O(n,1,1,()=>{n=null}),ae())},i(a){t||(A(n),t=!0)},o(a){O(n),t=!1},d(a){n&&n.d(a),a&&d(e)}}}function Ca(l,e,t){let{data:n}=e;const a=at();let r={tabs:{list:[{title:"Service",active:!0,type:"main"},{title:"Payments",type:"payments"}],activeTab:"main"}};Be(()=>{s()});function s(){if(n.isManual){if(n.payments){t(1,r.lastPayment=je.getLastPayment(n.payments),r);const w=$t.wasThisMonthPaid(n);t(1,r.showPayButton=!w,r),t(1,r.showChangePaidDateButton=w,r)}else t(1,r.showPayButton=!0,r);t(1,r.payTable=je.getPayTable(n.payments,n.currency,r.payTable),r),t(1,r.tabs.show=n.payments&&n.payments.length>1,r)}}function i(){t(1,r.showPayButton=!1,r),t(1,r.payWindow={defaultAmount:n.cost},r)}function o(){t(1,r.showChangePaidDateButton=!1,r);const w=je.getLastPayment(n.payments);t(1,r.payWindow={editedPayment:w,defaultAmount:w.amount},r)}async function f(w){await je.addPayment(n,w,r.payWindow,r.payTable),t(1,r.payWindow=void 0,r),t(1,r.lastPayment=je.getLastPayment(n.payments),r),s(),h()}function h(){a("update",n)}function u(){t(1,r.payWindow=void 0,r),t(1,r.showPayButton=!0,r),r.payTable&&t(1,r.payTable.show=!0,r)}function p(){const w=r.payWindow.editedPayment;n.payments.splice(n.payments.indexOf(w),1),Oe.update(n._id,{payments:n.payments}),t(1,r.payWindow=void 0,r),s()}function m(w){r.tabs.list.forEach($=>$.active=!1),w.active=!0,t(1,r.tabs.activeTab=w.type,r)}function _(w){t(1,r.payTable.show=!1,r),t(1,r.payWindow={editedPayment:w,defaultAmount:w.amount},r),t(1,r.showPayButton=!1,r)}const y=w=>m(w);return l.$$set=w=>{"data"in w&&t(0,n=w.data)},[n,r,i,o,f,u,p,m,_,y]}class mr extends le{constructor(e){super(),se(this,e,Ca,Sa,ie,{data:0})}}function Hn(l){let e,t,n,a,r=l[0].currency+"",s,i,o,f,h,u=l[0].currency+"",p,m,_,y,w;return f=new Ne({props:{value:l[0].total}}),{c(){e=b("div"),t=b("div"),n=D("This is the total of your accounts in "),a=b("strong"),s=D(r),i=S(),o=b("div"),q(f.$$.fragment),h=S(),p=D(u),m=S(),_=b("div"),y=D("You can delete this item if you want to delete the currency"),this.h()},l($){e=g($,"DIV",{class:!0});var M=k(e);t=g(M,"DIV",{});var T=k(t);n=P(T,"This is the total of your accounts in "),a=g(T,"STRONG",{});var I=k(a);s=P(I,r),I.forEach(d),T.forEach(d),i=C(M),o=g(M,"DIV",{class:!0});var E=k(o);z(f.$$.fragment,E),h=C(E),p=P(E,u),E.forEach(d),m=C(M),_=g(M,"DIV",{});var U=k(_);y=P(U,"You can delete this item if you want to delete the currency"),U.forEach(d),M.forEach(d),this.h()},h(){v(o,"class","currency-total svelte-qphfhg"),v(e,"class","currency-see svelte-qphfhg")},m($,M){V($,e,M),c(e,t),c(t,n),c(t,a),c(a,s),c(e,i),c(e,o),K(f,o,null),c(o,h),c(o,p),c(e,m),c(e,_),c(_,y),w=!0},p($,M){(!w||M&1)&&r!==(r=$[0].currency+"")&&te(s,r);const T={};M&1&&(T.value=$[0].total),f.$set(T),(!w||M&1)&&u!==(u=$[0].currency+"")&&te(p,u)},i($){w||(A(f.$$.fragment,$),w=!0)},o($){O(f.$$.fragment,$),w=!1},d($){$&&d(e),F(f)}}}function Ta(l){let e,t,n=l[0]!=null&&Hn(l);return{c(){n&&n.c(),e=ee()},l(a){n&&n.l(a),e=ee()},m(a,r){n&&n.m(a,r),V(a,e,r),t=!0},p(a,[r]){a[0]!=null?n?(n.p(a,r),r&1&&A(n,1)):(n=Hn(a),n.c(),A(n,1),n.m(e.parentNode,e)):n&&(re(),O(n,1,1,()=>{n=null}),ae())},i(a){t||(A(n),t=!0)},o(a){O(n),t=!1},d(a){n&&n.d(a),a&&d(e)}}}function Da(l,e,t){let{data:n}=e;return l.$$set=a=>{"data"in a&&t(0,n=a.data)},[n]}class _r extends le{constructor(e){super(),se(this,e,Da,Ta,ie,{data:0})}}function Pa(l){let e,t,n,a,r,s,i,o,f,h;return{c(){e=b("div"),t=b("label"),n=D("Abbreviation"),a=S(),r=b("input"),s=S(),i=b("div"),o=D("The total will be calculated automatically with the sum of the account balances"),this.h()},l(u){e=g(u,"DIV",{class:!0});var p=k(e);t=g(p,"LABEL",{for:!0});var m=k(t);n=P(m,"Abbreviation"),m.forEach(d),a=C(p),r=g(p,"INPUT",{id:!0,class:!0}),p.forEach(d),s=C(u),i=g(u,"DIV",{class:!0});var _=k(i);o=P(_,"The total will be calculated automatically with the sum of the account balances"),_.forEach(d),this.h()},h(){v(t,"for","abbreviation-input"),v(r,"id","abbreviation-input"),v(r,"class","input-stretch"),v(e,"class","label-and-input"),v(i,"class","currency-info svelte-697qay")},m(u,p){V(u,e,p),c(e,t),c(t,n),c(e,a),c(e,r),ue(r,l[0].currency),V(u,s,p),V(u,i,p),c(i,o),f||(h=H(r,"input",l[1]),f=!0)},p(u,[p]){p&1&&r.value!==u[0].currency&&ue(r,u[0].currency)},i:J,o:J,d(u){u&&d(e),u&&d(s),u&&d(i),f=!1,h()}}}function Aa(l,e,t){let{config:n}=e;function a(){n.currency=this.value,t(0,n)}return l.$$set=r=>{"config"in r&&t(0,n=r.config)},[n,a]}class Va extends le{constructor(e){super(),se(this,e,Aa,Pa,ie,{config:0})}}class Et{static getTypeString(){return"account"}static getListRender(){return fr}static getEditRender(){return Nt}static getSeeRender(){return Bt}static isItemOnQuery(e,t){return!1}}class gt extends Et{static getTypeString(){return"account"}static getListRender(){return fr}static getEditRender(){return Nt}static getSeeRender(){return Bt}static isItemOnQuery(e,t){const n=t.toLowerCase(),a=e;return!!(a.name.toLowerCase().includes(n)||a.balance.toString().includes(t)||a.currency.toLowerCase().includes(t))}}class $t extends Et{static getTypeString(){return"service"}static getListRender(){return ua}static getEditRender(){return ea}static getSeeRender(){return mr}static isItemOnQuery(e,t){const n=t.toLowerCase(),a=e;return!!(a.name.toLowerCase().includes(n)||a.cost.toString().includes(t)||a.currency.toLowerCase().includes(t)||a.isManual&&t==="manual"||!a.isManual&&n==="auto")}static wasThisMonthPaid(e){if(!e.payments)return!1;const t=je.getLastPayment(e.payments);if(t!=null){const n=new Date,a=new Date(t.dateString.substring(0,10));return a!=null&&a.getMonth()===n.getMonth()&&a.getFullYear()===n.getFullYear()}return!1}}class Ye extends Et{static getTypeString(){return"currency"}static getListRender(){return ha}static getEditRender(){return Va}static getSeeRender(){return _r}static calculate(e,t){t.total=0;for(let n=0;n<e.length;n++){const a=e[n];if(a.type===gt.getTypeString()){const r=a;r.currency===t.currency&&(t.total+=r.balance)}}}}class vr extends Et{static getTypeString(){return"debt"}static getListRender(){return ia}static getEditRender(){return Zr}static getSeeRender(){return pr}static isItemOnQuery(e,t){const n=t.toLowerCase(),a=e;return!!(a.withWho.toLowerCase().includes(n)||a.amount.toString().includes(t)||a.currency.toLowerCase().includes(t))}}class nt{static getClassByTypeString(e){const t=this.itemClasses.find(n=>n.getTypeString()===e);if(t!=null)return t}static isItemOnQuery(e,t){var a;const n=t.toLowerCase();return e._id.includes(t)||e.type.toLowerCase().includes(n)?!0:(a=this.getClassByTypeString(e.type))==null?void 0:a.isItemOnQuery(e,t)}static getItemClasses(){return this.itemClasses}}Ue(nt,"itemClasses",[gt,$t,vr,Ye]);function Yn(l,e,t){const n=l.slice();return n[6]=e[t],n}function qn(l){let e,t,n,a,r,s,i,o=[],f=new Map,h,u,p,m,_,y=l[2].typeOptions;const w=T=>T[6];for(let T=0;T<y.length;T+=1){let I=Yn(l,y,T),E=w(I);f.set(E,o[T]=Kn(E,I))}var $=l[1];function M(T){return{props:{config:T[0]}}}return $&&(u=tt($,M(l))),{c(){e=b("div"),t=b("div"),n=b("label"),a=D("Type"),r=S(),s=b("div"),i=b("select");for(let T=0;T<o.length;T+=1)o[T].c();h=S(),u&&q(u.$$.fragment),this.h()},l(T){e=g(T,"DIV",{class:!0});var I=k(e);t=g(I,"DIV",{class:!0});var E=k(t);n=g(E,"LABEL",{for:!0});var U=k(n);a=P(U,"Type"),U.forEach(d),r=C(E),s=g(E,"DIV",{class:!0});var j=k(s);i=g(j,"SELECT",{id:!0,class:!0});var N=k(i);for(let B=0;B<o.length;B+=1)o[B].l(N);N.forEach(d),j.forEach(d),E.forEach(d),h=C(I),u&&z(u.$$.fragment,I),I.forEach(d),this.h()},h(){v(n,"for","type-input"),v(i,"id","type-input"),v(i,"class","w-100"),l[0].type===void 0&&tr(()=>l[4].call(i)),v(s,"class","select input-stretch"),v(t,"class","label-and-input clickable-height"),v(e,"class","form svelte-1cl463d")},m(T,I){V(T,e,I),c(e,t),c(t,n),c(n,a),c(t,r),c(t,s),c(s,i);for(let E=0;E<o.length;E+=1)o[E]&&o[E].m(i,null);vt(i,l[0].type),c(e,h),u&&K(u,e,null),p=!0,m||(_=[H(i,"change",l[4]),H(i,"change",l[3])],m=!0)},p(T,I){I&4&&(y=T[2].typeOptions,o=Mt(o,I,w,1,T,y,f,i,Er,Kn,null,Yn)),I&5&&vt(i,T[0].type);const E={};if(I&1&&(E.config=T[0]),I&2&&$!==($=T[1])){if(u){re();const U=u;O(U.$$.fragment,1,0,()=>{F(U,1)}),ae()}$?(u=tt($,M(T)),q(u.$$.fragment),A(u.$$.fragment,1),K(u,e,null)):u=null}else $&&u.$set(E)},i(T){p||(u&&A(u.$$.fragment,T),p=!0)},o(T){u&&O(u.$$.fragment,T),p=!1},d(T){T&&d(e);for(let I=0;I<o.length;I+=1)o[I].d();u&&F(u),m=!1,ke(_)}}}function Kn(l,e){let t,n=e[6]+"",a,r;return{key:l,first:null,c(){t=b("option"),a=D(n),this.h()},l(s){t=g(s,"OPTION",{});var i=k(t);a=P(i,n),i.forEach(d),this.h()},h(){t.__value=r=e[6],t.value=t.__value,this.first=t},m(s,i){V(s,t,i),c(t,a)},p(s,i){e=s,i&4&&n!==(n=e[6]+"")&&te(a,n),i&4&&r!==(r=e[6])&&(t.__value=r,t.value=t.__value)},d(s){s&&d(t)}}}function Ma(l){let e,t,n=l[2]!=null&&qn(l);return{c(){n&&n.c(),e=ee()},l(a){n&&n.l(a),e=ee()},m(a,r){n&&n.m(a,r),V(a,e,r),t=!0},p(a,[r]){a[2]!=null?n?(n.p(a,r),r&4&&A(n,1)):(n=qn(a),n.c(),A(n,1),n.m(e.parentNode,e)):n&&(re(),O(n,1,1,()=>{n=null}),ae())},i(a){t||(A(n),t=!0)},o(a){O(n),t=!1},d(a){n&&n.d(a),a&&d(e)}}}function Ua(l,e,t){let{data:n}=e,a=Nt,r;Be(()=>{t(2,r={typeOptions:nt.getItemClasses().map(f=>f.getTypeString())})});function s(f){const h=f.target.value;t(1,a=i(h)),t(0,n.type=h,n)}function i(f){return nt.getClassByTypeString(f).getEditRender()}function o(){n.type=er(this),t(0,n),t(2,r)}return l.$$set=f=>{"data"in f&&t(0,n=f.data)},l.$$.update=()=>{l.$$.dirty&1&&t(1,a=i(n.type))},[n,a,r,s,o]}class yr extends le{constructor(e){super(),se(this,e,Ua,Ma,ie,{data:0})}}function Oa(l){let e,t,n,a,r;var s=l[1];function i(o){return{props:{data:o[0]}}}return s&&(t=tt(s,i(l))),{c(){e=b("button"),t&&q(t.$$.fragment),this.h()},l(o){e=g(o,"BUTTON",{class:!0});var f=k(e);t&&z(t.$$.fragment,f),f.forEach(d),this.h()},h(){v(e,"class","square white-button")},m(o,f){V(o,e,f),t&&K(t,e,null),n=!0,a||(r=H(e,"click",l[2]),a=!0)},p(o,[f]){const h={};if(f&1&&(h.data=o[0]),s!==(s=o[1])){if(t){re();const u=t;O(u.$$.fragment,1,0,()=>{F(u,1)}),ae()}s?(t=tt(s,i(o)),q(t.$$.fragment),A(t.$$.fragment,1),K(t,e,null)):t=null}else s&&t.$set(h)},i(o){n||(t&&A(t.$$.fragment,o),n=!0)},o(o){t&&O(t.$$.fragment,o),n=!1},d(o){o&&d(e),t&&F(t),a=!1,r()}}}function La(l,e,t){let{data:n}=e,a=nt.getClassByTypeString(n.type).getListRender();const r=at();function s(){r("click",n)}return l.$$set=i=>{"data"in i&&t(0,n=i.data)},[n,a,s]}class Na extends le{constructor(e){super(),se(this,e,La,Oa,ie,{data:0})}}function Ba(l){let e,t,n;var a=l[1];function r(s){return{props:{data:s[0]}}}return a&&(e=tt(a,r(l)),e.$on("update",l[2])),{c(){e&&q(e.$$.fragment),t=ee()},l(s){e&&z(e.$$.fragment,s),t=ee()},m(s,i){e&&K(e,s,i),V(s,t,i),n=!0},p(s,[i]){const o={};if(i&1&&(o.data=s[0]),a!==(a=s[1])){if(e){re();const f=e;O(f.$$.fragment,1,0,()=>{F(f,1)}),ae()}a?(e=tt(a,r(s)),e.$on("update",s[2]),q(e.$$.fragment),A(e.$$.fragment,1),K(e,t.parentNode,t)):e=null}else a&&e.$set(o)},i(s){n||(e&&A(e.$$.fragment,s),n=!0)},o(s){e&&O(e.$$.fragment,s),n=!1},d(s){s&&d(t),e&&F(e,s)}}}function Ra(l,e,t){let{data:n}=e;const a=at();let r=nt.getClassByTypeString(n.type).getSeeRender();function s(i){a("update",i.detail)}return l.$$set=i=>{"data"in i&&t(0,n=i.data)},[n,r,s]}class Wa extends le{constructor(e){super(),se(this,e,Ra,Ba,ie,{data:0})}}const ja=l=>({}),Fn=l=>({});function Ha(l){let e,t,n,a,r,s,i,o,f,h;const u=l[3].default,p=an(u,l,l[2],null),m=l[3].footer,_=an(m,l,l[2],Fn);return{c(){e=b("div"),t=b("button"),n=S(),a=b("div"),r=b("div"),p&&p.c(),s=S(),i=b("div"),_&&_.c(),this.h()},l(y){e=g(y,"DIV",{class:!0});var w=k(e);t=g(w,"BUTTON",{class:!0}),k(t).forEach(d),n=C(w),a=g(w,"DIV",{class:!0});var $=k(a);r=g($,"DIV",{class:!0});var M=k(r);p&&p.l(M),M.forEach(d),s=C($),i=g($,"DIV",{class:!0});var T=k(i);_&&_.l(T),T.forEach(d),$.forEach(d),w.forEach(d),this.h()},h(){v(t,"class","modal-background svelte-9s1juy"),v(r,"class","modal-body svelte-9s1juy"),v(i,"class","modal-footer svelte-9s1juy"),v(a,"class","modal-content svelte-9s1juy"),v(e,"class","modal svelte-9s1juy")},m(y,w){V(y,e,w),c(e,t),c(e,n),c(e,a),c(a,r),p&&p.m(r,null),c(a,s),c(a,i),_&&_.m(i,null),o=!0,f||(h=[H(window,"keyup",l[0]),H(t,"click",l[1])],f=!0)},p(y,[w]){p&&p.p&&(!o||w&4)&&ln(p,u,y,y[2],o?on(u,y[2],w,null):sn(y[2]),null),_&&_.p&&(!o||w&4)&&ln(_,m,y,y[2],o?on(m,y[2],w,ja):sn(y[2]),Fn)},i(y){o||(A(p,y),A(_,y),o=!0)},o(y){O(p,y),O(_,y),o=!1},d(y){y&&d(e),p&&p.d(y),_&&_.d(y),f=!1,ke(h)}}}function Ya(l,e,t){let{$$slots:n={},$$scope:a}=e;const r=at();function s(o){o.key==="Escape"?r("escapeKeyUp"):o.key==="Enter"&&r("enterKeyUp")}function i(){r("backgroundClick")}return l.$$set=o=>{"$$scope"in o&&t(2,a=o.$$scope)},[s,i,a,n]}class Wt extends le{constructor(e){super(),se(this,e,Ya,Ha,ie,{})}}function Vt(l){return Array.isArray(l)?l.map(e=>Vt(e)):l instanceof Date?new Date(l.getTime()):l&&typeof l=="object"?Object.getOwnPropertyNames(l).reduce((e,t)=>(Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t)),e[t]=Vt(l[t]),e),Object.create(Object.getPrototypeOf(l))):l}function Qn(l,e,t){const n=l.slice();return n[26]=e[t],n}function qa(l){let e,t;return{c(){e=b("div"),t=D("Loading, please wait..."),this.h()},l(n){e=g(n,"DIV",{class:!0});var a=k(e);t=P(a,"Loading, please wait..."),a.forEach(d),this.h()},h(){v(e,"class","loading svelte-177u0ux")},m(n,a){V(n,e,a),c(e,t)},p:J,i:J,o:J,d(n){n&&d(e)}}}function Ka(l){let e,t,n,a;const r=[Qa,Fa],s=[];function i(o,f){return o[1].list.length||o[0]?0:1}return e=i(l),t=s[e]=r[e](l),{c(){t.c(),n=ee()},l(o){t.l(o),n=ee()},m(o,f){s[e].m(o,f),V(o,n,f),a=!0},p(o,f){let h=e;e=i(o),e===h?s[e].p(o,f):(re(),O(s[h],1,1,()=>{s[h]=null}),ae(),t=s[e],t?t.p(o,f):(t=s[e]=r[e](o),t.c()),A(t,1),t.m(n.parentNode,n))},i(o){a||(A(t),a=!0)},o(o){O(t),a=!1},d(o){s[e].d(o),o&&d(n)}}}function Fa(l){let e,t,n,a,r,s,i,o,f,h,u,p,m,_,y,w,$,M,T,I,E,U,j,N,B,Y,X,Q,R,Z,he,ne,W,x,oe,L,G,ce,fe,me,_e,be,ve,ye,Ce;return{c(){e=b("div"),t=b("div"),n=D("Welcome, let's start creating your first Item, choose one of the following:"),a=S(),r=b("div"),s=b("div"),i=D("Account"),o=S(),f=b("div"),h=D(`Create an Account to keep track of the balance of an specific bank account or wallet you\r
						want to track.`),u=S(),p=b("button"),m=D("Create Account"),_=S(),y=b("div"),w=b("div"),$=D("Service"),M=S(),T=b("div"),I=D(`Create a Service to keep track of something you need to pay every month. We will help\r
						you identify when was your last payment and the services you need to pay before the\r
						month ends.`),E=S(),U=b("button"),j=D("Create Service"),N=S(),B=b("div"),Y=b("div"),X=D("Debt"),Q=S(),R=b("div"),Z=D(`Create a Debt to keep track of an amount someone owes you or that you owe to someone.\r
						You can mark it as paid when is time.`),he=S(),ne=b("button"),W=D("Create Debt"),x=S(),oe=b("div"),L=b("div"),G=D("Currency"),ce=S(),fe=b("div"),me=D(`Create a Currency to organize your accounts by linking them to it, then you will be able\r
						to see the sum of all the accounts in the same currency.`),_e=S(),be=b("button"),ve=D("Create Currency"),this.h()},l(Te){e=g(Te,"DIV",{id:!0,class:!0});var de=k(e);t=g(de,"DIV",{id:!0,class:!0});var De=k(t);n=P(De,"Welcome, let's start creating your first Item, choose one of the following:"),De.forEach(d),a=C(de),r=g(de,"DIV",{});var ge=k(r);s=g(ge,"DIV",{class:!0});var qe=k(s);i=P(qe,"Account"),qe.forEach(d),o=C(ge),f=g(ge,"DIV",{class:!0});var Pe=k(f);h=P(Pe,`Create an Account to keep track of the balance of an specific bank account or wallet you\r
						want to track.`),Pe.forEach(d),u=C(ge),p=g(ge,"BUTTON",{class:!0});var Ke=k(p);m=P(Ke,"Create Account"),Ke.forEach(d),ge.forEach(d),_=C(de),y=g(de,"DIV",{});var Ie=k(y);w=g(Ie,"DIV",{class:!0});var Ee=k(w);$=P(Ee,"Service"),Ee.forEach(d),M=C(Ie),T=g(Ie,"DIV",{class:!0});var Ae=k(T);I=P(Ae,`Create a Service to keep track of something you need to pay every month. We will help\r
						you identify when was your last payment and the services you need to pay before the\r
						month ends.`),Ae.forEach(d),E=C(Ie),U=g(Ie,"BUTTON",{class:!0});var Fe=k(U);j=P(Fe,"Create Service"),Fe.forEach(d),Ie.forEach(d),N=C(de),B=g(de,"DIV",{});var Se=k(B);Y=g(Se,"DIV",{class:!0});var Ve=k(Y);X=P(Ve,"Debt"),Ve.forEach(d),Q=C(Se),R=g(Se,"DIV",{class:!0});var Me=k(R);Z=P(Me,`Create a Debt to keep track of an amount someone owes you or that you owe to someone.\r
						You can mark it as paid when is time.`),Me.forEach(d),he=C(Se),ne=g(Se,"BUTTON",{class:!0});var Qe=k(ne);W=P(Qe,"Create Debt"),Qe.forEach(d),Se.forEach(d),x=C(de),oe=g(de,"DIV",{});var $e=k(oe);L=g($e,"DIV",{class:!0});var Ge=k(L);G=P(Ge,"Currency"),Ge.forEach(d),ce=C($e),fe=g($e,"DIV",{class:!0});var rt=k(fe);me=P(rt,`Create a Currency to organize your accounts by linking them to it, then you will be able\r
						to see the sum of all the accounts in the same currency.`),rt.forEach(d),_e=C($e),be=g($e,"BUTTON",{class:!0});var pe=k(be);ve=P(pe,"Create Currency"),pe.forEach(d),$e.forEach(d),de.forEach(d),this.h()},h(){v(t,"id","empty-state-welcome"),v(t,"class","svelte-177u0ux"),v(s,"class","title"),v(f,"class","description"),v(p,"class","button"),v(w,"class","title"),v(T,"class","description"),v(U,"class","button"),v(Y,"class","title"),v(R,"class","description"),v(ne,"class","button"),v(L,"class","title"),v(fe,"class","description"),v(be,"class","button"),v(e,"id","empty-state"),v(e,"class","svelte-177u0ux")},m(Te,de){V(Te,e,de),c(e,t),c(t,n),c(e,a),c(e,r),c(r,s),c(s,i),c(r,o),c(r,f),c(f,h),c(r,u),c(r,p),c(p,m),c(e,_),c(e,y),c(y,w),c(w,$),c(y,M),c(y,T),c(T,I),c(y,E),c(y,U),c(U,j),c(e,N),c(e,B),c(B,Y),c(Y,X),c(B,Q),c(B,R),c(R,Z),c(B,he),c(B,ne),c(ne,W),c(e,x),c(e,oe),c(oe,L),c(L,G),c(oe,ce),c(oe,fe),c(fe,me),c(oe,_e),c(oe,be),c(be,ve),ye||(Ce=[H(p,"click",l[12]),H(U,"click",l[13]),H(ne,"click",l[14]),H(be,"click",l[15])],ye=!0)},p:J,i:J,o:J,d(Te){Te&&d(e),ye=!1,ke(Ce)}}}function Qa(l){let e,t,n,a,r,s,i,o,f,h,u,p,m,_=[],y=new Map,w,$,M,T=l[1].list;const I=E=>E[26]._id+E[26].type+E[26].updateDate;for(let E=0;E<T.length;E+=1){let U=Qn(l,T,E),j=I(U);y.set(j,_[E]=Gn(j,U))}return{c(){e=b("header"),t=b("div"),n=b("p"),a=b("input"),r=S(),s=b("span"),i=b("i"),o=S(),f=b("main"),h=b("button"),u=b("div"),p=D("Add"),m=S();for(let E=0;E<_.length;E+=1)_[E].c();this.h()},l(E){e=g(E,"HEADER",{id:!0,class:!0});var U=k(e);t=g(U,"DIV",{class:!0});var j=k(t);n=g(j,"P",{class:!0});var N=k(n);a=g(N,"INPUT",{class:!0}),r=C(N),s=g(N,"SPAN",{class:!0});var B=k(s);i=g(B,"I",{class:!0}),k(i).forEach(d),B.forEach(d),N.forEach(d),j.forEach(d),U.forEach(d),o=C(E),f=g(E,"MAIN",{id:!0,class:!0});var Y=k(f);h=g(Y,"BUTTON",{class:!0});var X=k(h);u=g(X,"DIV",{class:!0});var Q=k(u);p=P(Q,"Add"),Q.forEach(d),X.forEach(d),m=C(Y);for(let R=0;R<_.length;R+=1)_[R].l(Y);Y.forEach(d),this.h()},h(){v(a,"class","search-bar input"),v(i,"class","fa-solid fa-magnifying-glass"),v(s,"class","icon is-small is-left"),v(n,"class","control has-icons-left"),v(t,"class","field"),v(e,"id","header"),v(e,"class","svelte-177u0ux"),v(u,"class","title"),v(h,"class","square white-button"),v(f,"id","whiteboard"),v(f,"class","svelte-177u0ux")},m(E,U){V(E,e,U),c(e,t),c(t,n),c(n,a),c(n,r),c(n,s),c(s,i),V(E,o,U),V(E,f,U),c(f,h),c(h,u),c(u,p),c(f,m);for(let j=0;j<_.length;j+=1)_[j]&&_[j].m(f,null);w=!0,$||(M=[H(a,"input",l[11]),H(h,"click",l[2])],$=!0)},p(E,U){U&34&&(T=E[1].list,re(),_=Mt(_,U,I,1,E,T,y,f,rr,Gn,null,Qn),ae())},i(E){if(!w){for(let U=0;U<T.length;U+=1)A(_[U]);w=!0}},o(E){for(let U=0;U<_.length;U+=1)O(_[U]);w=!1},d(E){E&&d(e),E&&d(o),E&&d(f);for(let U=0;U<_.length;U+=1)_[U].d();$=!1,ke(M)}}}function Gn(l,e){let t,n,a;return n=new Na({props:{data:e[26]}}),n.$on("click",e[5]),{key:l,first:null,c(){t=ee(),q(n.$$.fragment),this.h()},l(r){t=ee(),z(n.$$.fragment,r),this.h()},h(){this.first=t},m(r,s){V(r,t,s),K(n,r,s),a=!0},p(r,s){e=r;const i={};s&2&&(i.data=e[26]),n.$set(i)},i(r){a||(A(n.$$.fragment,r),a=!0)},o(r){O(n.$$.fragment,r),a=!1},d(r){r&&d(t),F(n,r)}}}function zn(l){let e,t;return e=new Wt({props:{$$slots:{footer:[za],default:[Ga]},$$scope:{ctx:l}}}),e.$on("backgroundClick",l[4]),e.$on("escapeKeyUp",l[4]),e.$on("enterKeyUp",l[3]),{c(){q(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,a){K(e,n,a),t=!0},p(n,a){const r={};a&536870914&&(r.$$scope={dirty:a,ctx:n}),e.$set(r)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){O(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Ga(l){let e,t;return e=new yr({props:{data:l[1].creationModal.data}}),{c(){q(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,a){K(e,n,a),t=!0},p(n,a){const r={};a&2&&(r.data=n[1].creationModal.data),e.$set(r)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){O(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function za(l){let e,t,n,a,r,s,i,o,f;return{c(){e=b("div"),t=b("button"),n=D("Save"),r=S(),s=b("button"),i=D("Cancel"),this.h()},l(h){e=g(h,"DIV",{slot:!0,class:!0});var u=k(e);t=g(u,"BUTTON",{class:!0});var p=k(t);n=P(p,"Save"),p.forEach(d),r=C(u),s=g(u,"BUTTON",{class:!0});var m=k(s);i=P(m,"Cancel"),m.forEach(d),u.forEach(d),this.h()},h(){v(t,"class",a="button is-primary "+(l[1].creationModal.saving?"is-loading":"")),v(s,"class","button"),v(e,"slot","footer"),v(e,"class","modal-footer-buttons svelte-177u0ux")},m(h,u){V(h,e,u),c(e,t),c(t,n),c(e,r),c(e,s),c(s,i),o||(f=[H(t,"click",l[3]),H(s,"click",l[4])],o=!0)},p(h,u){u&2&&a!==(a="button is-primary "+(h[1].creationModal.saving?"is-loading":""))&&v(t,"class",a)},d(h){h&&d(e),o=!1,ke(f)}}}function Jn(l){let e,t;return e=new Wt({props:{$$slots:{footer:[Za],default:[Ja]},$$scope:{ctx:l}}}),e.$on("backgroundClick",l[6]),e.$on("escapeKeyUp",l[6]),e.$on("enterKeyUp",l[6]),{c(){q(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,a){K(e,n,a),t=!0},p(n,a){const r={};a&536870914&&(r.$$scope={dirty:a,ctx:n}),e.$set(r)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){O(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Ja(l){let e,t;return e=new Wa({props:{data:l[1].seeModal.item}}),e.$on("update",l[7]),{c(){q(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,a){K(e,n,a),t=!0},p(n,a){const r={};a&2&&(r.data=n[1].seeModal.item),e.$set(r)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){O(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Za(l){let e,t,n,a,r,s,i,o,f,h,u,p;return{c(){e=b("div"),t=b("button"),n=D("Edit"),a=S(),r=b("button"),s=D("Delete"),o=S(),f=b("button"),h=D("Close"),this.h()},l(m){e=g(m,"DIV",{slot:!0,class:!0});var _=k(e);t=g(_,"BUTTON",{class:!0});var y=k(t);n=P(y,"Edit"),y.forEach(d),a=C(_),r=g(_,"BUTTON",{class:!0});var w=k(r);s=P(w,"Delete"),w.forEach(d),o=C(_),f=g(_,"BUTTON",{class:!0});var $=k(f);h=P($,"Close"),$.forEach(d),_.forEach(d),this.h()},h(){v(t,"class","button"),v(r,"class",i="button is-danger "+(l[1].seeModal.deleting?"is-loading":"")),v(f,"class","button"),v(e,"slot","footer"),v(e,"class","modal-footer-buttons svelte-177u0ux")},m(m,_){V(m,e,_),c(e,t),c(t,n),c(e,a),c(e,r),c(r,s),c(e,o),c(e,f),c(f,h),u||(p=[H(t,"click",l[8]),H(r,"click",l[16]),H(f,"click",l[6])],u=!0)},p(m,_){_&2&&i!==(i="button is-danger "+(m[1].seeModal.deleting?"is-loading":""))&&v(r,"class",i)},d(m){m&&d(e),u=!1,ke(p)}}}function Zn(l){let e,t;return e=new Wt({props:{$$slots:{footer:[xa],default:[Xa]},$$scope:{ctx:l}}}),e.$on("backgroundClick",l[10]),e.$on("escapeKeyUp",l[10]),{c(){q(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,a){K(e,n,a),t=!0},p(n,a){const r={};a&536870914&&(r.$$scope={dirty:a,ctx:n}),e.$set(r)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){O(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Xa(l){let e,t,n;function a(s){l[17](s)}let r={};return l[1].editModal.item!==void 0&&(r.data=l[1].editModal.item),e=new yr({props:r}),Xe.push(()=>xe(e,"data",a)),{c(){q(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,i){K(e,s,i),n=!0},p(s,i){const o={};!t&&i&2&&(t=!0,o.data=s[1].editModal.item,et(()=>t=!1)),e.$set(o)},i(s){n||(A(e.$$.fragment,s),n=!0)},o(s){O(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function xa(l){let e,t,n,a,r,s,i,o,f;return{c(){e=b("div"),t=b("button"),n=D("Save"),r=S(),s=b("button"),i=D("Cancel"),this.h()},l(h){e=g(h,"DIV",{slot:!0,class:!0});var u=k(e);t=g(u,"BUTTON",{class:!0});var p=k(t);n=P(p,"Save"),p.forEach(d),r=C(u),s=g(u,"BUTTON",{class:!0});var m=k(s);i=P(m,"Cancel"),m.forEach(d),u.forEach(d),this.h()},h(){v(t,"class",a="button is-primary "+(l[1].editModal.saving?"is-loading":"")),v(s,"class","button"),v(e,"slot","footer"),v(e,"class","modal-footer-buttons svelte-177u0ux")},m(h,u){V(h,e,u),c(e,t),c(t,n),c(e,r),c(e,s),c(s,i),o||(f=[H(t,"click",l[9]),H(s,"click",l[10])],o=!0)},p(h,u){u&2&&a!==(a="button is-primary "+(h[1].editModal.saving?"is-loading":""))&&v(t,"class",a)},d(h){h&&d(e),o=!1,ke(f)}}}function el(l){let e,t,n,a,r,s,i,o,f;const h=[Ka,qa],u=[];function p(w,$){return w[1].list?0:1}n=p(l),a=u[n]=h[n](l);let m=l[1].creationModal&&zn(l),_=l[1].seeModal&&Jn(l),y=l[1].editModal&&Zn(l);return{c(){e=S(),t=b("div"),a.c(),r=S(),m&&m.c(),s=S(),_&&_.c(),i=S(),y&&y.c(),o=ee(),this.h()},l(w){$r("svelte-bvgx4w",document.head).forEach(d),e=C(w),t=g(w,"DIV",{class:!0});var M=k(t);a.l(M),M.forEach(d),r=C(w),m&&m.l(w),s=C(w),_&&_.l(w),i=C(w),y&&y.l(w),o=ee(),this.h()},h(){document.title="Finances",v(t,"class","items svelte-177u0ux")},m(w,$){V(w,e,$),V(w,t,$),u[n].m(t,null),V(w,r,$),m&&m.m(w,$),V(w,s,$),_&&_.m(w,$),V(w,i,$),y&&y.m(w,$),V(w,o,$),f=!0},p(w,[$]){let M=n;n=p(w),n===M?u[n].p(w,$):(re(),O(u[M],1,1,()=>{u[M]=null}),ae(),a=u[n],a?a.p(w,$):(a=u[n]=h[n](w),a.c()),A(a,1),a.m(t,null)),w[1].creationModal?m?(m.p(w,$),$&2&&A(m,1)):(m=zn(w),m.c(),A(m,1),m.m(s.parentNode,s)):m&&(re(),O(m,1,1,()=>{m=null}),ae()),w[1].seeModal?_?(_.p(w,$),$&2&&A(_,1)):(_=Jn(w),_.c(),A(_,1),_.m(i.parentNode,i)):_&&(re(),O(_,1,1,()=>{_=null}),ae()),w[1].editModal?y?(y.p(w,$),$&2&&A(y,1)):(y=Zn(w),y.c(),A(y,1),y.m(o.parentNode,o)):y&&(re(),O(y,1,1,()=>{y=null}),ae())},i(w){f||(A(a),A(m),A(_),A(y),f=!0)},o(w){O(a),O(m),O(_),O(y),f=!1},d(w){w&&d(e),w&&d(t),u[n].d(),w&&d(r),m&&m.d(w),w&&d(s),_&&_.d(w),w&&d(i),y&&y.d(w),w&&d(o)}}}function tl(l,e,t){let n=[],a="";const r={};let s;const i={getCurrencies:Ze.getCurrencies,onGoToCreation:Y};Ir(Ze.contextKey,i),Be(()=>{o(),Ze.currencyAddedSubject.subscribe({next:R=>{console.log(`Currency added received in items, currency: ${R}`)}})});function o(){Oe.getItems().then(R=>{n=R,I()})}function f(){const R=n.filter(Z=>Z.type===Ye.getTypeString());for(const Z of R)Ye.calculate(n,Z)}function h(){t(1,r.creationModal={data:{type:gt.getTypeString()}},r)}async function u(){if(r.creationModal){t(1,r.creationModal.saving=!0,r);try{let R;r.creationModal.data.type!="currency"?R=await Oe.create(r.creationModal.data):R=await Je.create(r.creationModal.data),n=[R,...n],I(),f(),r.creationModal.data.type!==Ye.getTypeString()?p():(t(1,r.creationModal.saving=!1,r),X())}catch(R){console.error(R),t(1,r.creationModal.saving=!1,r)}}}function p(){t(1,r.creationModal=void 0,r)}function m(R){t(1,r.seeModal={item:R.detail},r)}function _(){t(1,r.seeModal=void 0,r)}function y(R){R.detail.updateDate=new Date,f()}function w(){t(1,r.editModal={item:r.seeModal.item},r)}async function $(){if(r.editModal){t(1,r.editModal.saving=!0,r);try{const R=r.editModal.item,Z=await Oe.update(R._id,R);n=n.filter(he=>he._id===Z._id?Z:he),I(),f(),M(),Rt.$channel.next({type:"itemEdited",data:{item:R}})}catch(R){console.error(R),t(1,r.editModal.saving=!1,r)}}}function M(){f(),t(1,r.editModal=void 0,r)}function T(R){t(0,a=R.target.value),I()}function I(){t(1,r.list=n==null?void 0:n.filter(R=>nt.isItemOnQuery(R,a)),r)}function E(){t(1,r.creationModal={data:{type:gt.getTypeString()}},r)}function U(){t(1,r.creationModal={data:{type:$t.getTypeString()}},r)}function j(){t(1,r.creationModal={data:{type:vr.getTypeString()}},r)}function N(){t(1,r.creationModal={data:{type:Ye.getTypeString()}},r)}async function B(){if(!r.seeModal)return;t(1,r.seeModal.deleting=!0,r);const R=r.seeModal.item;try{await Oe.delete(R._id),n=n.filter(Z=>Z._id!=R._id),f(),I(),_()}catch(Z){console.error(Z)}r.seeModal&&t(1,r.seeModal.deleting=!1,r)}function Y(){r.creationModal==null?t(1,r.creationModal={data:{type:Ye.getTypeString()}},r):(s={creationModal:Vt(r.creationModal)},t(1,r.creationModal.data={type:Ye.getTypeString()},r))}function X(){if(s!=null&&r.creationModal!=null&&s.creationModal!=null){const Z=r.creationModal.data.currency;t(1,r.creationModal=s.creationModal,r),t(1,r.creationModal.data.currency=Z,r),s=void 0}else p()}function Q(R){l.$$.not_equal(r.editModal.item,R)&&(r.editModal.item=R,t(1,r))}return[a,r,h,u,p,m,_,y,w,$,M,T,E,U,j,N,B,Q]}class nl extends le{constructor(e){super(),se(this,e,tl,el,ie,{})}}function rl(l){let e,t,n,a,r,s,i,o,f,h,u,p,m,_,y,w,$,M,T,I,E,U,j,N,B,Y,X,Q,R,Z,he,ne,W,x,oe,L,G,ce,fe,me,_e,be,ve,ye,Ce,Te,de,De,ge,qe,Pe,Ke,Ie,Ee,Ae,Fe,Se,Ve,Me,Qe,$e,Ge,rt;return w=new Bt({props:{data:l[0].examples.account}}),X=new mr({props:{data:l[0].examples.service}}),ce=new pr({props:{data:l[0].examples.debt}}),ge=new _r({props:{data:l[0].examples.currency}}),{c(){e=b("div"),t=b("div"),n=b("p"),a=D("Welcome, I can help you remember about your finances."),r=S(),s=b("p"),i=D("Here are the things I can help you with:"),o=S(),f=b("div"),h=b("div"),u=b("h3"),p=D("Accounts"),m=S(),_=b("div"),y=b("div"),q(w.$$.fragment),$=S(),M=b("div"),T=D("You can have a list of all your accounts with their balance and currency"),I=S(),E=b("div"),U=b("h3"),j=D("Services"),N=S(),B=b("div"),Y=b("div"),q(X.$$.fragment),Q=S(),R=b("div"),Z=D(`You can store the services you need to pay every month, and see which ones you've already\r
					paid`),he=S(),ne=b("div"),W=b("h3"),x=D("Debts"),oe=S(),L=b("div"),G=b("div"),q(ce.$$.fragment),fe=S(),me=b("div"),_e=D("I can remind you of debts you need to pay or if someone owes you"),be=S(),ve=b("div"),ye=b("h3"),Ce=D("Currencies"),Te=S(),de=b("div"),De=b("div"),q(ge.$$.fragment),qe=S(),Pe=b("div"),Ke=D("You can create currencies and track the total sum of all the accounts in that currency."),Ie=S(),Ee=b("div"),Ae=b("div"),Fe=D("Ready?"),Se=S(),Ve=b("a"),Me=b("button"),Qe=D("Start Now"),this.h()},l(pe){e=g(pe,"DIV",{class:!0});var Re=k(e);t=g(Re,"DIV",{class:!0});var lt=k(t);n=g(lt,"P",{class:!0});var jt=k(n);a=P(jt,"Welcome, I can help you remember about your finances."),jt.forEach(d),r=C(lt),s=g(lt,"P",{class:!0});var Ht=k(s);i=P(Ht,"Here are the things I can help you with:"),Ht.forEach(d),lt.forEach(d),o=C(Re),f=g(Re,"DIV",{class:!0});var We=k(f);h=g(We,"DIV",{class:!0});var st=k(h);u=g(st,"H3",{class:!0});var Yt=k(u);p=P(Yt,"Accounts"),Yt.forEach(d),m=C(st),_=g(st,"DIV",{class:!0});var it=k(_);y=g(it,"DIV",{class:!0});var qt=k(y);z(w.$$.fragment,qt),qt.forEach(d),$=C(it),M=g(it,"DIV",{class:!0});var Kt=k(M);T=P(Kt,"You can have a list of all your accounts with their balance and currency"),Kt.forEach(d),it.forEach(d),st.forEach(d),I=C(We),E=g(We,"DIV",{class:!0});var ot=k(E);U=g(ot,"H3",{class:!0});var Ft=k(U);j=P(Ft,"Services"),Ft.forEach(d),N=C(ot),B=g(ot,"DIV",{class:!0});var ct=k(B);Y=g(ct,"DIV",{class:!0});var Qt=k(Y);z(X.$$.fragment,Qt),Qt.forEach(d),Q=C(ct),R=g(ct,"DIV",{class:!0});var Gt=k(R);Z=P(Gt,`You can store the services you need to pay every month, and see which ones you've already\r
					paid`),Gt.forEach(d),ct.forEach(d),ot.forEach(d),he=C(We),ne=g(We,"DIV",{class:!0});var ut=k(ne);W=g(ut,"H3",{class:!0});var zt=k(W);x=P(zt,"Debts"),zt.forEach(d),oe=C(ut),L=g(ut,"DIV",{class:!0});var ft=k(L);G=g(ft,"DIV",{class:!0});var Jt=k(G);z(ce.$$.fragment,Jt),Jt.forEach(d),fe=C(ft),me=g(ft,"DIV",{class:!0});var Zt=k(me);_e=P(Zt,"I can remind you of debts you need to pay or if someone owes you"),Zt.forEach(d),ft.forEach(d),ut.forEach(d),be=C(We),ve=g(We,"DIV",{class:!0});var dt=k(ve);ye=g(dt,"H3",{class:!0});var Xt=k(ye);Ce=P(Xt,"Currencies"),Xt.forEach(d),Te=C(dt),de=g(dt,"DIV",{class:!0});var ht=k(de);De=g(ht,"DIV",{class:!0});var xt=k(De);z(ge.$$.fragment,xt),xt.forEach(d),qe=C(ht),Pe=g(ht,"DIV",{class:!0});var en=k(Pe);Ke=P(en,"You can create currencies and track the total sum of all the accounts in that currency."),en.forEach(d),ht.forEach(d),dt.forEach(d),We.forEach(d),Ie=C(Re),Ee=g(Re,"DIV",{class:!0});var pt=k(Ee);Ae=g(pt,"DIV",{class:!0});var tn=k(Ae);Fe=P(tn,"Ready?"),tn.forEach(d),Se=C(pt),Ve=g(pt,"A",{});var nn=k(Ve);Me=g(nn,"BUTTON",{class:!0});var rn=k(Me);Qe=P(rn,"Start Now"),rn.forEach(d),nn.forEach(d),pt.forEach(d),Re.forEach(d),this.h()},h(){v(n,"class","main-info svelte-14i3ig7"),v(s,"class","main-info svelte-14i3ig7"),v(t,"class","main-info-container svelte-14i3ig7"),v(u,"class","example-item-title svelte-14i3ig7"),v(y,"class","item-square svelte-14i3ig7"),v(M,"class","example-item-info"),v(_,"class","item-and-info svelte-14i3ig7"),v(h,"class","example-item"),v(U,"class","example-item-title svelte-14i3ig7"),v(Y,"class","item-square svelte-14i3ig7"),v(R,"class","example-item-info"),v(B,"class","item-and-info svelte-14i3ig7"),v(E,"class","example-item"),v(W,"class","example-item-title svelte-14i3ig7"),v(G,"class","item-square svelte-14i3ig7"),v(me,"class","example-item-info"),v(L,"class","item-and-info svelte-14i3ig7"),v(ne,"class","example-item"),v(ye,"class","example-item-title svelte-14i3ig7"),v(De,"class","item-square svelte-14i3ig7"),v(Pe,"class","example-item-info"),v(de,"class","item-and-info svelte-14i3ig7"),v(ve,"class","example-item"),v(f,"class","example-item-list svelte-14i3ig7"),v(Ae,"class","call-to-action-info"),v(Me,"class","call-to-action-button button is-primary"),v(Ee,"class","call-to-action svelte-14i3ig7"),v(e,"class","welcome svelte-14i3ig7")},m(pe,Re){V(pe,e,Re),c(e,t),c(t,n),c(n,a),c(t,r),c(t,s),c(s,i),c(e,o),c(e,f),c(f,h),c(h,u),c(u,p),c(h,m),c(h,_),c(_,y),K(w,y,null),c(_,$),c(_,M),c(M,T),c(f,I),c(f,E),c(E,U),c(U,j),c(E,N),c(E,B),c(B,Y),K(X,Y,null),c(B,Q),c(B,R),c(R,Z),c(f,he),c(f,ne),c(ne,W),c(W,x),c(ne,oe),c(ne,L),c(L,G),K(ce,G,null),c(L,fe),c(L,me),c(me,_e),c(f,be),c(f,ve),c(ve,ye),c(ye,Ce),c(ve,Te),c(ve,de),c(de,De),K(ge,De,null),c(de,qe),c(de,Pe),c(Pe,Ke),c(e,Ie),c(e,Ee),c(Ee,Ae),c(Ae,Fe),c(Ee,Se),c(Ee,Ve),c(Ve,Me),c(Me,Qe),$e=!0,Ge||(rt=H(Ve,"click",l[1]),Ge=!0)},p:J,i(pe){$e||(A(w.$$.fragment,pe),A(X.$$.fragment,pe),A(ce.$$.fragment,pe),A(ge.$$.fragment,pe),$e=!0)},o(pe){O(w.$$.fragment,pe),O(X.$$.fragment,pe),O(ce.$$.fragment,pe),O(ge.$$.fragment,pe),$e=!1},d(pe){pe&&d(e),F(w),F(X),F(ce),F(ge),Ge=!1,rt()}}}function al(l){const e={examples:{account:{_id:"account",type:"account",name:"Bank Account",balance:5700,currency:"usd"},service:{_id:"service",type:"service",name:"Service",cost:200,currency:"usd",isManual:!0},debt:{_id:"debt",type:"debt",withWho:"Pedro",description:"Pizzas",amount:20,currency:"usd",theyPayMe:!1},currency:{_id:"currency",type:"currency",currency:"usd",total:8600}}};function t(){Ut("auth/create")}return[e,t]}class ll extends le{constructor(e){super(),se(this,e,al,rl,ie,{})}}function Xn(l){let e,t;return e=new ll({}),{c(){q(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,a){K(e,n,a),t=!0},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){O(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function xn(l){let e,t;return e=new nl({}),{c(){q(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,a){K(e,n,a),t=!0},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){O(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function sl(l){let e,t,n,a=l[0].showNewcomerWelcome&&Xn(),r=l[0].showItems&&xn();return{c(){e=b("div"),a&&a.c(),t=S(),r&&r.c(),this.h()},l(s){e=g(s,"DIV",{class:!0});var i=k(e);a&&a.l(i),t=C(i),r&&r.l(i),i.forEach(d),this.h()},h(){v(e,"class","home svelte-1gsbufj")},m(s,i){V(s,e,i),a&&a.m(e,null),c(e,t),r&&r.m(e,null),n=!0},p(s,[i]){s[0].showNewcomerWelcome?a?i&1&&A(a,1):(a=Xn(),a.c(),A(a,1),a.m(e,t)):a&&(re(),O(a,1,1,()=>{a=null}),ae()),s[0].showItems?r?i&1&&A(r,1):(r=xn(),r.c(),A(r,1),r.m(e,null)):r&&(re(),O(r,1,1,()=>{r=null}),ae())},i(s){n||(A(a),A(r),n=!0)},o(s){O(a),O(r),n=!1},d(s){s&&d(e),a&&a.d(),r&&r.d()}}}function il(l,e,t){const n={};return Be(()=>{cn.isSyncEnabled()?ar.hasValidToken()?t(0,n.showItems=!0,n):Ut("auth/login"):cn.hasLocalData()||t(0,n.showNewcomerWelcome=!0,n)}),[n]}class dl extends le{constructor(e){super(),se(this,e,il,sl,ie,{})}}export{dl as default};
