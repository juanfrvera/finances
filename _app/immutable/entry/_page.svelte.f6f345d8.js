var hr=Object.defineProperty;var pr=(o,e,t)=>e in o?hr(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var ot=(o,e,t)=>(pr(o,typeof e!="symbol"?e+"":e,t),t);import{S as ve,i as ye,s as be,d as V,v as we,O as li,o as Te,p as w,y as j,c as R,q as g,r as P,z as A,l as _,f as B,u as b,x as k,g as M,H as d,N as se,P as Mo,e as ce,Q as Me,R as F,T as Lo,U as gt,V as Yo,W as $e,A as oe,X as Ho,m as kt,Y as Et,C as ee,D as ie,Z as _e,E as te,_ as St,$ as xe,k as N,h as Y,F as ne,B as ue,j as fe,a0 as ut,a1 as rn,a2 as Wo,a3 as Ze,a4 as ui,a5 as Ti,n as Pt,a6 as _r,G as fi,I as di,J as mi,K as hi,b as pi,a7 as vr}from"../chunks/index.a52e887e.js";import{P as yr,A as wn,g as At,U as hn}from"../chunks/auth.service.fddd08b0.js";import{e as br}from"../chunks/singletons.113ecc19.js";var gn=function(o,e){return gn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])},gn(o,e)};function an(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");gn(o,e);function t(){this.constructor=o}o.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function kn(o){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&o[e],i=0;if(t)return t.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zt(o,e){var t=typeof Symbol=="function"&&o[Symbol.iterator];if(!t)return o;var i=t.call(o),s,n=[],a;try{for(;(e===void 0||e-- >0)&&!(s=i.next()).done;)n.push(s.value)}catch(r){a={error:r}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(a)throw a.error}}return n}function xt(o,e,t){if(t||arguments.length===2)for(var i=0,s=e.length,n;i<s;i++)(n||!(i in e))&&(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return o.concat(n||Array.prototype.slice.call(e))}function it(o){return typeof o=="function"}function Ri(o){var e=function(i){Error.call(i),i.stack=new Error().stack},t=o(e);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var pn=Ri(function(o){return function(t){o(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(i,s){return s+1+") "+i.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function En(o,e){if(o){var t=o.indexOf(e);0<=t&&o.splice(t,1)}}var sn=function(){function o(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return o.prototype.unsubscribe=function(){var e,t,i,s,n;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var r=kn(a),l=r.next();!l.done;l=r.next()){var u=l.value;u.remove(this)}}catch(y){e={error:y}}finally{try{l&&!l.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}else a.remove(this);var c=this.initialTeardown;if(it(c))try{c()}catch(y){n=y instanceof pn?y.errors:[y]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var h=kn(f),p=h.next();!p.done;p=h.next()){var m=p.value;try{_i(m)}catch(y){n=n??[],y instanceof pn?n=xt(xt([],Zt(n)),Zt(y.errors)):n.push(y)}}}catch(y){i={error:y}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}}if(n)throw new pn(n)}},o.prototype.add=function(e){var t;if(e&&e!==this)if(this.closed)_i(e);else{if(e instanceof o){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}},o.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},o.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},o.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&En(t,e)},o.prototype.remove=function(e){var t=this._finalizers;t&&En(t,e),e instanceof o&&e._removeParent(this)},o.EMPTY=function(){var e=new o;return e.closed=!0,e}(),o}(),Bi=sn.EMPTY;function ji(o){return o instanceof sn||o&&"closed"in o&&it(o.remove)&&it(o.add)&&it(o.unsubscribe)}function _i(o){it(o)?o():o.unsubscribe()}var Ai={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Sn={setTimeout:function(o,e){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];var s=Sn.delegate;return s!=null&&s.setTimeout?s.setTimeout.apply(s,xt([o,e],Zt(t))):setTimeout.apply(void 0,xt([o,e],Zt(t)))},clearTimeout:function(o){var e=Sn.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(o)},delegate:void 0};function wr(o){Sn.setTimeout(function(){throw o})}function vi(){}function qt(o){o()}var Ui=function(o){an(e,o);function e(t){var i=o.call(this)||this;return i.isStopped=!1,t?(i.destination=t,ji(t)&&t.add(i)):i.destination=Sr,i}return e.create=function(t,i,s){return new Pn(t,i,s)},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,o.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(sn),gr=Function.prototype.bind;function _n(o,e){return gr.call(o,e)}var kr=function(){function o(e){this.partialObserver=e}return o.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(i){Kt(i)}},o.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(i){Kt(i)}else Kt(e)},o.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){Kt(t)}},o}(),Pn=function(o){an(e,o);function e(t,i,s){var n=o.call(this)||this,a;if(it(t)||!t)a={next:t??void 0,error:i??void 0,complete:s??void 0};else{var r;n&&Ai.useDeprecatedNextContext?(r=Object.create(t),r.unsubscribe=function(){return n.unsubscribe()},a={next:t.next&&_n(t.next,r),error:t.error&&_n(t.error,r),complete:t.complete&&_n(t.complete,r)}):a=t}return n.destination=new kr(a),n}return e}(Ui);function Kt(o){wr(o)}function Er(o){throw o}var Sr={closed:!0,next:vi,error:Er,complete:vi},Pr=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Cr(o){return o}function Ir(o){return o.length===0?Cr:o.length===1?o[0]:function(t){return o.reduce(function(i,s){return s(i)},t)}}var yi=function(){function o(e){e&&(this._subscribe=e)}return o.prototype.lift=function(e){var t=new o;return t.source=this,t.operator=e,t},o.prototype.subscribe=function(e,t,i){var s=this,n=Tr(e)?e:new Pn(e,t,i);return qt(function(){var a=s,r=a.operator,l=a.source;n.add(r?r.call(n,l):l?s._subscribe(n):s._trySubscribe(n))}),n},o.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},o.prototype.forEach=function(e,t){var i=this;return t=bi(t),new t(function(s,n){var a=new Pn({next:function(r){try{e(r)}catch(l){n(l),a.unsubscribe()}},error:n,complete:s});i.subscribe(a)})},o.prototype._subscribe=function(e){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(e)},o.prototype[Pr]=function(){return this},o.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ir(e)(this)},o.prototype.toPromise=function(e){var t=this;return e=bi(e),new e(function(i,s){var n;t.subscribe(function(a){return n=a},function(a){return s(a)},function(){return i(n)})})},o.create=function(e){return new o(e)},o}();function bi(o){var e;return(e=o??Ai.Promise)!==null&&e!==void 0?e:Promise}function Dr(o){return o&&it(o.next)&&it(o.error)&&it(o.complete)}function Tr(o){return o&&o instanceof Ui||Dr(o)&&ji(o)}var Rr=Ri(function(o){return function(){o(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),$o=function(o){an(e,o);function e(){var t=o.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return e.prototype.lift=function(t){var i=new wi(this,this);return i.operator=t,i},e.prototype._throwIfClosed=function(){if(this.closed)throw new Rr},e.prototype.next=function(t){var i=this;qt(function(){var s,n;if(i._throwIfClosed(),!i.isStopped){i.currentObservers||(i.currentObservers=Array.from(i.observers));try{for(var a=kn(i.currentObservers),r=a.next();!r.done;r=a.next()){var l=r.value;l.next(t)}}catch(u){s={error:u}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(s)throw s.error}}}})},e.prototype.error=function(t){var i=this;qt(function(){if(i._throwIfClosed(),!i.isStopped){i.hasError=i.isStopped=!0,i.thrownError=t;for(var s=i.observers;s.length;)s.shift().error(t)}})},e.prototype.complete=function(){var t=this;qt(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var i=t.observers;i.length;)i.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(t){return this._throwIfClosed(),o.prototype._trySubscribe.call(this,t)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var i=this,s=this,n=s.hasError,a=s.isStopped,r=s.observers;return n||a?Bi:(this.currentObservers=null,r.push(t),new sn(function(){i.currentObservers=null,En(r,t)}))},e.prototype._checkFinalizedStatuses=function(t){var i=this,s=i.hasError,n=i.thrownError,a=i.isStopped;s?t.error(n):a&&t.complete()},e.prototype.asObservable=function(){var t=new yi;return t.source=this,t},e.create=function(t,i){return new wi(t,i)},e}(yi),wi=function(o){an(e,o);function e(t,i){var s=o.call(this)||this;return s.destination=t,s.source=i,s}return e.prototype.next=function(t){var i,s;(s=(i=this.destination)===null||i===void 0?void 0:i.next)===null||s===void 0||s.call(i,t)},e.prototype.error=function(t){var i,s;(s=(i=this.destination)===null||i===void 0?void 0:i.error)===null||s===void 0||s.call(i,t)},e.prototype.complete=function(){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||i===void 0||i.call(t)},e.prototype._subscribe=function(t){var i,s;return(s=(i=this.source)===null||i===void 0?void 0:i.subscribe(t))!==null&&s!==void 0?s:Bi},e}($o);class je{static getUrl(){return this.url}static getHeaders(){return{Authorization:`Bearer ${wn.getToken()}`}}static async interceptResponse(e){const t=await e.json();if(e.status!==200&&e.status!==201)throw e.status===401&&At(`${br}/auth/login`),new Error(t);return t}}ot(je,"url",yr);class Cn{static async create(e){const t=await fetch(this.getUrl(),{method:"POST",body:JSON.stringify(e),headers:this.getHeaders()});return je.interceptResponse(t)}static async update(e){const t=await fetch(`${this.getUrl()}/${e._id}`,{method:"PATCH",body:JSON.stringify(e),headers:this.getHeaders()});return je.interceptResponse(t)}static getUrl(){return`${je.getUrl()}/payments`}static getHeaders(){return je.getHeaders()}}class He{static async getItems(){const e=await fetch(this.getUrl(),{method:"GET",headers:this.getHeaders()}),t=await je.interceptResponse(e);return t.filter(s=>s.type==="currency").forEach(s=>{const n=t.filter(a=>a.type==="account"&&a.currency===s.currency);n&&n.length?s.total=n.map(a=>a.balance).reduce((a,r)=>a+r):s.total=0}),t}static async create(e){const t=await fetch(this.getUrl(),{method:"POST",body:JSON.stringify(e),headers:this.getHeaders()});return je.interceptResponse(t)}static async update(e,t){const i=await fetch(`${this.getUrl()}/${e}`,{method:"PATCH",body:JSON.stringify(t),headers:this.getHeaders()});return je.interceptResponse(i)}static async delete(e){const t=await fetch(`${this.getUrl()}/${e}`,{method:"DELETE",headers:this.getHeaders()});return je.interceptResponse(t)}static addPayment(e,t){return Cn.create({...t,itemId:e})}static updatePayment(e,t){return Cn.update({...t,itemId:e})}static getUrl(){return`${je.getUrl()}/items`}static getHeaders(){return je.getHeaders()}}class ht{static async getList(){if(!this.list){const e=await fetch(this.getUrl(),{method:"GET",headers:this.getHeaders()});this.list=await je.interceptResponse(e)}return this.list}static async create(e){const t=await He.create(e);return this.list&&this.list.unshift(t),t}static async arsToUsd(e){const t=await this.getUsdToArsRatio();return e/t}static async getUsdToArsRatio(){if(!this.usdToArsRatio){const e=await fetch("https://api.bluelytics.com.ar/v2/latest",{method:"GET"});if(e.status==200){const t=await e.json();this.usdToArsRatio=t.blue.value_avg}}if(!this.usdToArsRatio)throw new Error("Couldn't get usd price");return this.usdToArsRatio}static async arsToUsdOnDate(e,t){if(!this.historicalUsdToArs[t]){const i=`https://api.bluelytics.com.ar/v2/historical?day=${t}`,s=await fetch(i,{method:"GET"});if(s.status==200){const n=await s.json();this.historicalUsdToArs[t]=n.blue.value_avg}}if(!this.historicalUsdToArs[t])throw new Error("Couldn't get usd price");return e/this.historicalUsdToArs[t]}static getUrl(){return`${je.getUrl()}/currency`}static getHeaders(){return je.getHeaders()}}ot(ht,"list"),ot(ht,"usdToArsRatio"),ot(ht,"historicalUsdToArs",{});class lt{static getCurrencies(){return ht.getList()}}ot(lt,"contextKey","currencyContext"),ot(lt,"currencyAddedSubject",new $o);const rt="src/lib/components/item/item-edit/util/currency-select.svelte";function gi(o,e,t){const i=o.slice();return i[6]=e[t],i}function Vi(o){let e,t;const i={c:function(){e=w("div"),t=j("Loading currencies..."),this.h()},l:function(n){e=g(n,"DIV",{class:!0});var a=P(e);t=A(a,"Loading currencies..."),a.forEach(_),this.h()},h:function(){b(e,"class","loading"),k(e,rt,39,2,1191)},m:function(n,a){M(n,e,a),d(e,t)},p:se,d:function(n){n&&_(e)}};return V("SvelteRegisterBlock",{block:i,id:Vi.name,type:"else",source:"(38:1) {:else}",ctx:o}),i}function Ni(o){let e;function t(a,r){return a[1].list.length?Mi:Oi}let i=t(o),s=i(o);const n={c:function(){s.c(),e=ce()},l:function(r){s.l(r),e=ce()},m:function(r,l){s.m(r,l),M(r,e,l)},p:function(r,l){i===(i=t(r))&&s?s.p(r,l):(s.d(1),s=i(r),s&&(s.c(),s.m(e.parentNode,e)))},d:function(r){s.d(r),r&&_(e)}};return V("SvelteRegisterBlock",{block:n,id:Ni.name,type:"if",source:"(22:1) {#if ui.list}",ctx:o}),n}function Oi(o){let e,t,i,s,n,a;const r={c:function(){e=w("div"),t=j("You don't have currencies "),i=w("button"),s=j("Create one"),this.h()},l:function(u){e=g(u,"DIV",{class:!0});var c=P(e);t=A(c,"You don't have currencies "),i=g(c,"BUTTON",{});var f=P(i);s=A(f,"Create one"),f.forEach(_),c.forEach(_),this.h()},h:function(){k(i,rt,34,30,1084),b(e,"class","create-currency-info s-BxcfB6wS2Vvr"),k(e,rt,33,3,1019)},m:function(u,c){M(u,e,c),d(e,t),d(e,i),d(i,s),n||(a=F(i,"click",o[3],!1,!1,!1,!1),n=!0)},p:se,d:function(u){u&&_(e),n=!1,a()}};return V("SvelteRegisterBlock",{block:r,id:Oi.name,type:"else",source:"(32:2) {:else}",ctx:o}),r}function Mi(o){let e,t,i,s,n,a,r=o[1].list;Me(r);let l=[];for(let c=0;c<r.length;c+=1)l[c]=In(gi(o,r,c));const u={c:function(){e=w("div"),t=w("select");for(let f=0;f<l.length;f+=1)l[f].c();i=w("option"),s=j("Create new currency"),this.h()},l:function(f){e=g(f,"DIV",{class:!0});var h=P(e);t=g(h,"SELECT",{id:!0,class:!0});var p=P(t);for(let y=0;y<l.length;y+=1)l[y].l(p);i=g(p,"OPTION",{});var m=P(i);s=A(m,"Create new currency"),m.forEach(_),p.forEach(_),h.forEach(_),this.h()},h:function(){i.__value="create-new",i.value=i.__value,k(i,rt,28,5,871),b(t,"id","currency-input"),b(t,"class","w-100"),o[0]===void 0&&Lo(()=>o[4].call(t)),k(t,rt,24,4,711),b(e,"class","select input-stretch"),k(e,rt,23,3,672)},m:function(f,h){M(f,e,h),d(e,t);for(let p=0;p<l.length;p+=1)l[p]&&l[p].m(t,null);d(t,i),d(i,s),gt(t,o[0]),n||(a=[F(i,"click",o[3],!1,!1,!1,!1),F(t,"change",o[4]),F(t,"change",o[2],!1,!1,!1,!1)],n=!0)},p:function(f,h){if(h&2){r=f[1].list,Me(r);let p;for(p=0;p<r.length;p+=1){const m=gi(f,r,p);l[p]?l[p].p(m,h):(l[p]=In(m),l[p].c(),l[p].m(t,i))}for(;p<l.length;p+=1)l[p].d(1);l.length=r.length}h&3&&gt(t,f[0])},d:function(f){f&&_(e),Yo(l,f),n=!1,$e(a)}};return V("SvelteRegisterBlock",{block:u,id:Mi.name,type:"if",source:"(23:2) {#if ui.list.length}",ctx:o}),u}function In(o){let e,t=o[6]+"",i,s;const n={c:function(){e=w("option"),i=j(t),this.h()},l:function(r){e=g(r,"OPTION",{});var l=P(e);i=A(l,t),l.forEach(_),this.h()},h:function(){e.__value=s=o[6],e.value=e.__value,k(e,rt,26,6,825)},m:function(r,l){M(r,e,l),d(e,i)},p:function(r,l){l&2&&t!==(t=r[6]+"")&&oe(i,t),l&2&&s!==(s=r[6])&&(Ho(e,"__value",s),e.value=e.__value)},d:function(r){r&&_(e)}};return V("SvelteRegisterBlock",{block:n,id:In.name,type:"each",source:"(26:5) {#each ui.list as currency}",ctx:o}),n}function Dn(o){let e,t,i,s;function n(u,c){return u[1].list?Ni:Vi}let a=n(o),r=a(o);const l={c:function(){e=w("div"),t=w("label"),i=j("Currency"),s=R(),r.c(),this.h()},l:function(c){e=g(c,"DIV",{class:!0});var f=P(e);t=g(f,"LABEL",{for:!0});var h=P(t);i=A(h,"Currency"),h.forEach(_),s=B(f),r.l(f),f.forEach(_),this.h()},h:function(){b(t,"for","currency-input"),k(t,rt,20,1,586),b(e,"class","label-and-input"),k(e,rt,19,0,555)},m:function(c,f){M(c,e,f),d(e,t),d(t,i),d(e,s),r.m(e,null)},p:function(c,[f]){a===(a=n(c))&&r?r.p(c,f):(r.d(1),r=a(c),r&&(r.c(),r.m(e,null)))},i:se,o:se,d:function(c){c&&_(e),r.d()}};return V("SvelteRegisterBlock",{block:l,id:Dn.name,type:"component",source:"",ctx:o}),l}function Br(o,e,t){let{$$slots:i={},$$scope:s}=e;we("Currency_select",i,[]);let{value:n="ars"}=e;const a=li(lt.contextKey),r={createNewKey:"create-new"};Te(async()=>{t(1,r.list=(await a.getCurrencies()).map(h=>h.currency),r)});function l(h){h.target.value===r.createNewKey&&u()}function u(){a.onGoToCreation()}const c=["value"];Object.keys(e).forEach(h=>{!~c.indexOf(h)&&h.slice(0,2)!=="$$"&&h!=="slot"&&console.warn(`<Currency_select> was created with unknown prop '${h}'`)});function f(){n=Mo(this),t(0,n),t(1,r)}return o.$$set=h=>{"value"in h&&t(0,n=h.value)},o.$capture_state=()=>({getContext:li,onMount:Te,CurrencyLogic:lt,value:n,context:a,ui:r,onChange:l,createButtonClicked:u}),o.$inject_state=h=>{"value"in h&&t(0,n=h.value)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[n,r,l,u,f]}class Ct extends ve{constructor(e){super(e),ye(this,e,Br,Dn,be,{value:0}),V("SvelteRegisterComponent",{component:this,tagName:"Currency_select",options:e,id:Dn.name})}get value(){throw new Error("<Currency_select>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set value(e){throw new Error("<Currency_select>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const wt="src/lib/components/item/item-edit/renders/account-edit-render.svelte";function Tn(o){let e,t,i,s,n,a,r,l,u,c,f,h,p,m,y,E,S;function v(U){o[2](U)}let C={};o[0].currency!==void 0&&(C.value=o[0].currency),r=new Ct({props:C,$$inline:!0}),kt.push(()=>Et(r,"value",v));const L={c:function(){e=w("div"),t=w("label"),i=j("Name"),s=R(),n=w("input"),a=R(),ee(r.$$.fragment),u=R(),c=w("div"),f=w("label"),h=j("Balance"),p=R(),m=w("input"),this.h()},l:function(D){e=g(D,"DIV",{class:!0});var I=P(e);t=g(I,"LABEL",{for:!0});var T=P(t);i=A(T,"Name"),T.forEach(_),s=B(I),n=g(I,"INPUT",{id:!0,class:!0}),I.forEach(_),a=B(D),ie(r.$$.fragment,D),u=B(D),c=g(D,"DIV",{class:!0});var O=P(c);f=g(O,"LABEL",{for:!0});var H=P(f);h=A(H,"Balance"),H.forEach(_),p=B(O),m=g(O,"INPUT",{id:!0,type:!0,class:!0}),O.forEach(_),this.h()},h:function(){b(t,"for","name-input"),k(t,wt,5,1,140),b(n,"id","name-input"),b(n,"class","input-stretch"),k(n,wt,6,1,178),b(e,"class","label-and-input"),k(e,wt,4,0,109),b(f,"for","balance-input"),k(f,wt,10,1,337),b(m,"id","balance-input"),b(m,"type","number"),b(m,"class","input-stretch"),k(m,wt,11,1,381),b(c,"class","label-and-input"),k(c,wt,9,0,306)},m:function(D,I){M(D,e,I),d(e,t),d(t,i),d(e,s),d(e,n),_e(n,o[0].name),M(D,a,I),te(r,D,I),M(D,u,I),M(D,c,I),d(c,f),d(f,h),d(c,p),d(c,m),_e(m,o[0].balance),y=!0,E||(S=[F(n,"input",o[1]),F(m,"input",o[3])],E=!0)},p:function(D,[I]){I&1&&n.value!==D[0].name&&_e(n,D[0].name);const T={};!l&&I&1&&(l=!0,T.value=D[0].currency,St(()=>l=!1)),r.$set(T),I&1&&xe(m.value)!==D[0].balance&&_e(m,D[0].balance)},i:function(D){y||(N(r.$$.fragment,D),y=!0)},o:function(D){Y(r.$$.fragment,D),y=!1},d:function(D){D&&_(e),D&&_(a),ne(r,D),D&&_(u),D&&_(c),E=!1,$e(S)}};return V("SvelteRegisterBlock",{block:L,id:Tn.name,type:"component",source:"",ctx:o}),L}function jr(o,e,t){let{$$slots:i={},$$scope:s}=e;we("Account_edit_render",i,[]);let{config:n}=e;o.$$.on_mount.push(function(){n===void 0&&!("config"in e||o.$$.bound[o.$$.props.config])&&console.warn("<Account_edit_render> was created without expected prop 'config'")});const a=["config"];Object.keys(e).forEach(c=>{!~a.indexOf(c)&&c.slice(0,2)!=="$$"&&c!=="slot"&&console.warn(`<Account_edit_render> was created with unknown prop '${c}'`)});function r(){n.name=this.value,t(0,n)}function l(c){o.$$.not_equal(n.currency,c)&&(n.currency=c,t(0,n))}function u(){n.balance=xe(this.value),t(0,n)}return o.$$set=c=>{"config"in c&&t(0,n=c.config)},o.$capture_state=()=>({CurrencySelect:Ct,config:n}),o.$inject_state=c=>{"config"in c&&t(0,n=c.config)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[n,r,l,u]}class en extends ve{constructor(e){super(e),ye(this,e,jr,Tn,be,{config:0}),V("SvelteRegisterComponent",{component:this,tagName:"Account_edit_render",options:e,id:Tn.name})}get config(){throw new Error("<Account_edit_render>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set config(e){throw new Error("<Account_edit_render>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const vn="src/lib/components/switch.svelte";function Rn(o){let e,t,i,s,n,a;const r={c:function(){e=w("label"),t=w("input"),i=R(),s=w("span"),this.h()},l:function(u){e=g(u,"LABEL",{class:!0});var c=P(e);t=g(c,"INPUT",{type:!0,class:!0}),i=B(c),s=g(c,"SPAN",{class:!0}),P(s).forEach(_),c.forEach(_),this.h()},h:function(){b(t,"type","checkbox"),b(t,"class","s-UDpUMQ9qCaeU"),k(t,vn,5,1,101),b(s,"class","slider s-UDpUMQ9qCaeU"),k(s,vn,6,1,141),b(e,"class","switch s-UDpUMQ9qCaeU"),k(e,vn,4,0,77)},m:function(u,c){M(u,e,c),d(e,t),t.checked=o[0],d(e,i),d(e,s),n||(a=F(t,"change",o[1]),n=!0)},p:function(u,[c]){c&1&&(t.checked=u[0])},i:se,o:se,d:function(u){u&&_(e),n=!1,a()}};return V("SvelteRegisterBlock",{block:r,id:Rn.name,type:"component",source:"",ctx:o}),r}function Ar(o,e,t){let{$$slots:i={},$$scope:s}=e;we("Switch",i,[]);let{checked:n}=e;o.$$.on_mount.push(function(){n===void 0&&!("checked"in e||o.$$.bound[o.$$.props.checked])&&console.warn("<Switch> was created without expected prop 'checked'")});const a=["checked"];Object.keys(e).forEach(l=>{!~a.indexOf(l)&&l.slice(0,2)!=="$$"&&l!=="slot"&&console.warn(`<Switch> was created with unknown prop '${l}'`)});function r(){n=this.checked,t(0,n)}return o.$$set=l=>{"checked"in l&&t(0,n=l.checked)},o.$capture_state=()=>({checked:n}),o.$inject_state=l=>{"checked"in l&&t(0,n=l.checked)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[n,r]}class cn extends ve{constructor(e){super(e),ye(this,e,Ar,Rn,be,{checked:0}),V("SvelteRegisterComponent",{component:this,tagName:"Switch",options:e,id:Rn.name})}get checked(){throw new Error("<Switch>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set checked(e){throw new Error("<Switch>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Je="src/lib/components/item/item-edit/renders/debt-edit-render.svelte";function Bn(o){let e,t,i,s,n,a,r,l,u,c,f,h,p,m,y,E,S,v,C,L,U,D,I,T,O,H,$,Q,G,re,z;function K(ae){o[3](ae)}let q={};o[0].currency!==void 0&&(q.value=o[0].currency),p=new Ct({props:q,$$inline:!0}),kt.push(()=>Et(p,"value",K));function le(ae){o[4](ae)}let J={};o[0].theyPayMe!==void 0&&(J.checked=o[0].theyPayMe),U=new cn({props:J,$$inline:!0}),kt.push(()=>Et(U,"checked",le));const Z={c:function(){e=w("div"),t=w("label"),i=j("With who"),s=R(),n=w("input"),a=R(),r=w("div"),l=w("label"),u=j("Amount"),c=R(),f=w("input"),h=R(),ee(p.$$.fragment),y=R(),E=w("div"),S=w("label"),v=j("They Pay Me"),C=R(),L=w("div"),ee(U.$$.fragment),I=R(),T=w("div"),O=w("label"),H=j("Description"),$=R(),Q=w("input"),this.h()},l:function(W){e=g(W,"DIV",{class:!0});var X=P(e);t=g(X,"LABEL",{for:!0});var de=P(t);i=A(de,"With who"),de.forEach(_),s=B(X),n=g(X,"INPUT",{id:!0,class:!0}),X.forEach(_),a=B(W),r=g(W,"DIV",{class:!0});var ke=P(r);l=g(ke,"LABEL",{for:!0});var Se=P(l);u=A(Se,"Amount"),Se.forEach(_),c=B(ke),f=g(ke,"INPUT",{id:!0,type:!0,class:!0}),ke.forEach(_),h=B(W),ie(p.$$.fragment,W),y=B(W),E=g(W,"DIV",{class:!0});var pe=P(E);S=g(pe,"LABEL",{for:!0});var Ce=P(S);v=A(Ce,"They Pay Me"),Ce.forEach(_),C=B(pe),L=g(pe,"DIV",{class:!0});var Le=P(L);ie(U.$$.fragment,Le),Le.forEach(_),pe.forEach(_),I=B(W),T=g(W,"DIV",{class:!0});var Pe=P(T);O=g(Pe,"LABEL",{for:!0});var Ee=P(O);H=A(Ee,"Description"),Ee.forEach(_),$=B(Pe),Q=g(Pe,"INPUT",{id:!0,class:!0}),Pe.forEach(_),this.h()},h:function(){b(t,"for","who-input"),k(t,Je,6,1,193),b(n,"id","who-input"),b(n,"class","input-stretch"),k(n,Je,7,1,234),b(e,"class","label-and-input"),k(e,Je,5,0,162),b(l,"for","amount-input"),k(l,Je,10,1,347),b(f,"id","amount-input"),b(f,"type","number"),b(f,"class","input-stretch"),k(f,Je,11,1,389),b(r,"class","label-and-input"),k(r,Je,9,0,316),b(S,"for","is-manual-input"),k(S,Je,15,1,566),b(L,"class","switch-container"),k(L,Je,16,1,616),b(E,"class","label-and-input"),k(E,Je,14,0,535),b(O,"for","description-input"),k(O,Je,22,1,759),b(Q,"id","description-input"),b(Q,"class","input-stretch"),k(Q,Je,23,1,811),b(T,"class","label-and-input"),k(T,Je,21,0,728)},m:function(W,X){M(W,e,X),d(e,t),d(t,i),d(e,s),d(e,n),_e(n,o[0].withWho),M(W,a,X),M(W,r,X),d(r,l),d(l,u),d(r,c),d(r,f),_e(f,o[0].amount),M(W,h,X),te(p,W,X),M(W,y,X),M(W,E,X),d(E,S),d(S,v),d(E,C),d(E,L),te(U,L,null),M(W,I,X),M(W,T,X),d(T,O),d(O,H),d(T,$),d(T,Q),_e(Q,o[0].description),G=!0,re||(z=[F(n,"input",o[1]),F(f,"input",o[2]),F(Q,"input",o[5])],re=!0)},p:function(W,[X]){X&1&&n.value!==W[0].withWho&&_e(n,W[0].withWho),X&1&&xe(f.value)!==W[0].amount&&_e(f,W[0].amount);const de={};!m&&X&1&&(m=!0,de.value=W[0].currency,St(()=>m=!1)),p.$set(de);const ke={};!D&&X&1&&(D=!0,ke.checked=W[0].theyPayMe,St(()=>D=!1)),U.$set(ke),X&1&&Q.value!==W[0].description&&_e(Q,W[0].description)},i:function(W){G||(N(p.$$.fragment,W),N(U.$$.fragment,W),G=!0)},o:function(W){Y(p.$$.fragment,W),Y(U.$$.fragment,W),G=!1},d:function(W){W&&_(e),W&&_(a),W&&_(r),W&&_(h),ne(p,W),W&&_(y),W&&_(E),ne(U),W&&_(I),W&&_(T),re=!1,$e(z)}};return V("SvelteRegisterBlock",{block:Z,id:Bn.name,type:"component",source:"",ctx:o}),Z}function Ur(o,e,t){let{$$slots:i={},$$scope:s}=e;we("Debt_edit_render",i,[]);let{config:n}=e;o.$$.on_mount.push(function(){n===void 0&&!("config"in e||o.$$.bound[o.$$.props.config])&&console.warn("<Debt_edit_render> was created without expected prop 'config'")});const a=["config"];Object.keys(e).forEach(h=>{!~a.indexOf(h)&&h.slice(0,2)!=="$$"&&h!=="slot"&&console.warn(`<Debt_edit_render> was created with unknown prop '${h}'`)});function r(){n.withWho=this.value,t(0,n)}function l(){n.amount=xe(this.value),t(0,n)}function u(h){o.$$.not_equal(n.currency,h)&&(n.currency=h,t(0,n))}function c(h){o.$$.not_equal(n.theyPayMe,h)&&(n.theyPayMe=h,t(0,n))}function f(){n.description=this.value,t(0,n)}return o.$$set=h=>{"config"in h&&t(0,n=h.config)},o.$capture_state=()=>({Switch:cn,CurrencySelect:Ct,config:n}),o.$inject_state=h=>{"config"in h&&t(0,n=h.config)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[n,r,l,u,c,f]}class Vr extends ve{constructor(e){super(e),ye(this,e,Ur,Bn,be,{config:0}),V("SvelteRegisterComponent",{component:this,tagName:"Debt_edit_render",options:e,id:Bn.name})}get config(){throw new Error("<Debt_edit_render>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set config(e){throw new Error("<Debt_edit_render>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Xe="src/lib/components/item/item-edit/renders/service-edit-render.svelte";function jn(o){let e,t,i,s,n,a,r,l,u,c,f,h,p,m,y,E,S,v,C,L,U,D,I,T,O,H,$,Q;function G(le){o[2](le)}let re={};o[0].currency!==void 0&&(re.value=o[0].currency),r=new Ct({props:re,$$inline:!0}),kt.push(()=>Et(r,"value",G));function z(le){o[4](le)}let K={};o[0].isManual!==void 0&&(K.checked=o[0].isManual),U=new cn({props:K,$$inline:!0}),kt.push(()=>Et(U,"checked",z));const q={c:function(){e=w("div"),t=w("label"),i=j("Name"),s=R(),n=w("input"),a=R(),ee(r.$$.fragment),u=R(),c=w("div"),f=w("label"),h=j("Cost"),p=R(),m=w("input"),y=R(),E=w("div"),S=w("label"),v=j("Is Manual"),C=R(),L=w("div"),ee(U.$$.fragment),I=R(),T=w("div"),O=j(`Mark the service as manual if you want to mark it as paid every month. You can change this setting
	later.`),this.h()},l:function(J){e=g(J,"DIV",{class:!0});var Z=P(e);t=g(Z,"LABEL",{for:!0});var ae=P(t);i=A(ae,"Name"),ae.forEach(_),s=B(Z),n=g(Z,"INPUT",{id:!0,class:!0}),Z.forEach(_),a=B(J),ie(r.$$.fragment,J),u=B(J),c=g(J,"DIV",{class:!0});var W=P(c);f=g(W,"LABEL",{for:!0});var X=P(f);h=A(X,"Cost"),X.forEach(_),p=B(W),m=g(W,"INPUT",{id:!0,type:!0,class:!0}),W.forEach(_),y=B(J),E=g(J,"DIV",{class:!0});var de=P(E);S=g(de,"LABEL",{for:!0});var ke=P(S);v=A(ke,"Is Manual"),ke.forEach(_),C=B(de),L=g(de,"DIV",{class:!0});var Se=P(L);ie(U.$$.fragment,Se),Se.forEach(_),de.forEach(_),I=B(J),T=g(J,"DIV",{});var pe=P(T);O=A(pe,`Mark the service as manual if you want to mark it as paid every month. You can change this setting
	later.`),pe.forEach(_),this.h()},h:function(){b(t,"for","name-input"),k(t,Xe,6,1,193),b(n,"id","name-input"),b(n,"class","input-stretch"),k(n,Xe,7,1,231),b(e,"class","label-and-input"),k(e,Xe,5,0,162),b(f,"for","cost-input"),k(f,Xe,11,1,390),b(m,"id","cost-input"),b(m,"type","number"),b(m,"class","input-stretch"),k(m,Xe,12,1,428),b(c,"class","label-and-input"),k(c,Xe,10,0,359),b(S,"for","is-manual-input"),k(S,Xe,15,1,553),b(L,"class","switch-container s-54VWoCcGETnM"),k(L,Xe,16,1,601),b(E,"class","label-and-input"),k(E,Xe,14,0,522),k(T,Xe,20,0,691)},m:function(J,Z){M(J,e,Z),d(e,t),d(t,i),d(e,s),d(e,n),_e(n,o[0].name),M(J,a,Z),te(r,J,Z),M(J,u,Z),M(J,c,Z),d(c,f),d(f,h),d(c,p),d(c,m),_e(m,o[0].cost),M(J,y,Z),M(J,E,Z),d(E,S),d(S,v),d(E,C),d(E,L),te(U,L,null),M(J,I,Z),M(J,T,Z),d(T,O),H=!0,$||(Q=[F(n,"input",o[1]),F(m,"input",o[3])],$=!0)},p:function(J,[Z]){Z&1&&n.value!==J[0].name&&_e(n,J[0].name);const ae={};!l&&Z&1&&(l=!0,ae.value=J[0].currency,St(()=>l=!1)),r.$set(ae),Z&1&&xe(m.value)!==J[0].cost&&_e(m,J[0].cost);const W={};!D&&Z&1&&(D=!0,W.checked=J[0].isManual,St(()=>D=!1)),U.$set(W)},i:function(J){H||(N(r.$$.fragment,J),N(U.$$.fragment,J),H=!0)},o:function(J){Y(r.$$.fragment,J),Y(U.$$.fragment,J),H=!1},d:function(J){J&&_(e),J&&_(a),ne(r,J),J&&_(u),J&&_(c),J&&_(y),J&&_(E),ne(U),J&&_(I),J&&_(T),$=!1,$e(Q)}};return V("SvelteRegisterBlock",{block:q,id:jn.name,type:"component",source:"",ctx:o}),q}function Nr(o,e,t){let{$$slots:i={},$$scope:s}=e;we("Service_edit_render",i,[]);let{config:n}=e;o.$$.on_mount.push(function(){n===void 0&&!("config"in e||o.$$.bound[o.$$.props.config])&&console.warn("<Service_edit_render> was created without expected prop 'config'")});const a=["config"];Object.keys(e).forEach(f=>{!~a.indexOf(f)&&f.slice(0,2)!=="$$"&&f!=="slot"&&console.warn(`<Service_edit_render> was created with unknown prop '${f}'`)});function r(){n.name=this.value,t(0,n)}function l(f){o.$$.not_equal(n.currency,f)&&(n.currency=f,t(0,n))}function u(){n.cost=xe(this.value),t(0,n)}function c(f){o.$$.not_equal(n.isManual,f)&&(n.isManual=f,t(0,n))}return o.$$set=f=>{"config"in f&&t(0,n=f.config)},o.$capture_state=()=>({Switch:cn,CurrencySelect:Ct,config:n}),o.$inject_state=f=>{"config"in f&&t(0,n=f.config)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[n,r,l,u,c]}class Or extends ve{constructor(e){super(e),ye(this,e,Nr,jn,be,{config:0}),V("SvelteRegisterComponent",{component:this,tagName:"Service_edit_render",options:e,id:jn.name})}get config(){throw new Error("<Service_edit_render>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set config(e){throw new Error("<Service_edit_render>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Li="src/lib/components/number-format.svelte";function An(o){let e,t,i;const s={c:function(){e=w("span"),t=j("."),i=j(o[0]),this.h()},l:function(a){e=g(a,"SPAN",{class:!0});var r=P(e);t=A(r,"."),i=A(r,o[0]),r.forEach(_),this.h()},h:function(){b(e,"class","decimal-part s-o9PEibASfZR3"),k(e,Li,5,63,256)},m:function(a,r){M(a,e,r),d(e,t),d(e,i)},p:function(a,r){r&1&&oe(i,a[0])},d:function(a){a&&_(e)}};return V("SvelteRegisterBlock",{block:s,id:An.name,type:"if",source:"(6:39) {#if decimalPart != '0'}",ctx:o}),s}function Un(o){let e,t,i,s=o[0]!="0"&&An(o);const n={c:function(){e=w("span"),t=j(o[1]),s&&s.c(),i=ce(),this.h()},l:function(r){e=g(r,"SPAN",{class:!0});var l=P(e);t=A(l,o[1]),l.forEach(_),s&&s.l(r),i=ce(),this.h()},h:function(){b(e,"class","int-part"),k(e,Li,5,0,193)},m:function(r,l){M(r,e,l),d(e,t),s&&s.m(r,l),M(r,i,l)},p:function(r,[l]){l&2&&oe(t,r[1]),r[0]!="0"?s?s.p(r,l):(s=An(r),s.c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},i:se,o:se,d:function(r){r&&_(e),s&&s.d(r),r&&_(i)}};return V("SvelteRegisterBlock",{block:n,id:Un.name,type:"component",source:"",ctx:o}),n}function Mr(o,e,t){let i,s,{$$slots:n={},$$scope:a}=e;we("Number_format",n,[]);let{value:r}=e;o.$$.on_mount.push(function(){r===void 0&&!("value"in e||o.$$.bound[o.$$.props.value])&&console.warn("<Number_format> was created without expected prop 'value'")});const l=["value"];return Object.keys(e).forEach(u=>{!~l.indexOf(u)&&u.slice(0,2)!=="$$"&&u!=="slot"&&console.warn(`<Number_format> was created with unknown prop '${u}'`)}),o.$$set=u=>{"value"in u&&t(2,r=u.value)},o.$capture_state=()=>({value:r,decimalPart:s,intPart:i}),o.$inject_state=u=>{"value"in u&&t(2,r=u.value),"decimalPart"in u&&t(0,s=u.decimalPart),"intPart"in u&&t(1,i=u.intPart)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),o.$$.update=()=>{o.$$.dirty&4&&t(1,i=Math.floor(r).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.$$.dirty&4&&t(0,s=((r-Math.floor(r))*100).toFixed(0))},[s,i,r]}class Re extends ve{constructor(e){super(e),ye(this,e,Mr,Un,be,{value:2}),V("SvelteRegisterComponent",{component:this,tagName:"Number_format",options:e,id:Un.name})}get value(){throw new Error("<Number_format>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set value(e){throw new Error("<Number_format>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const ki="src/lib/components/item/item-list/renders/account-list-render.svelte";function Vn(o){let e,t=o[0].name+"",i,s,n,a,r,l=o[0].currency+"",u,c;a=new Re({props:{value:o[0].balance},$$inline:!0});const f={c:function(){e=w("div"),i=j(t),s=R(),n=w("div"),ee(a.$$.fragment),r=R(),u=j(l),this.h()},l:function(p){e=g(p,"DIV",{class:!0});var m=P(e);i=A(m,t),m.forEach(_),s=B(p),n=g(p,"DIV",{class:!0});var y=P(n);ie(a.$$.fragment,y),r=B(y),u=A(y,l),y.forEach(_),this.h()},h:function(){b(e,"class","name"),k(e,ki,4,0,112),b(n,"class","data"),k(n,ki,5,0,148)},m:function(p,m){M(p,e,m),d(e,i),M(p,s,m),M(p,n,m),te(a,n,null),d(n,r),d(n,u),c=!0},p:function(p,[m]){(!c||m&1)&&t!==(t=p[0].name+"")&&oe(i,t);const y={};m&1&&(y.value=p[0].balance),a.$set(y),(!c||m&1)&&l!==(l=p[0].currency+"")&&oe(u,l)},i:function(p){c||(N(a.$$.fragment,p),c=!0)},o:function(p){Y(a.$$.fragment,p),c=!1},d:function(p){p&&_(e),p&&_(s),p&&_(n),ne(a)}};return V("SvelteRegisterBlock",{block:f,id:Vn.name,type:"component",source:"",ctx:o}),f}function Lr(o,e,t){let{$$slots:i={},$$scope:s}=e;we("Account_list_render",i,[]);let{data:n}=e;o.$$.on_mount.push(function(){n===void 0&&!("data"in e||o.$$.bound[o.$$.props.data])&&console.warn("<Account_list_render> was created without expected prop 'data'")});const a=["data"];return Object.keys(e).forEach(r=>{!~a.indexOf(r)&&r.slice(0,2)!=="$$"&&r!=="slot"&&console.warn(`<Account_list_render> was created with unknown prop '${r}'`)}),o.$$set=r=>{"data"in r&&t(0,n=r.data)},o.$capture_state=()=>({NumberFormat:Re,data:n}),o.$inject_state=r=>{"data"in r&&t(0,n=r.data)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[n]}class Yi extends ve{constructor(e){super(e),ye(this,e,Lr,Vn,be,{data:0}),V("SvelteRegisterComponent",{component:this,tagName:"Account_list_render",options:e,id:Vn.name})}get data(){throw new Error("<Account_list_render>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(e){throw new Error("<Account_list_render>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}class ct{static calculatePayStateString(e){const i=this.getPaidAmount(e)>=e.amount,s=e.withWho,n=e.theyPayMe;return n&&i?`${s} paid`:!n&&i?`You paid ${s}`:!n&&!i?`You owe ${s}`:`${s} owes`}static getPaidAmount(e){let t=0;return e.payments&&e.payments.forEach(i=>t+=i.amount),Number(t.toFixed(10))}static getOwedAmountOrZero(e){const t=this.getPaidAmount(e),i=Number((e.amount-t).toFixed(10));return i>0?i:0}}const zt="src/lib/components/item/item-list/renders/debt-list-render.svelte";function Nn(o){let e,t,i=o[1].payDirectionString+"",s,n,a,r,l,u,c=o[0].currency+"",f,h,p,m=o[0].description&&On(o);l=new Re({props:{value:o[1].amountToShow},$$inline:!0});const y={c:function(){e=w("div"),t=w("div"),s=j(i),n=R(),m&&m.c(),a=R(),r=w("div"),ee(l.$$.fragment),u=R(),f=j(c),this.h()},l:function(S){e=g(S,"DIV",{class:!0});var v=P(e);t=g(v,"DIV",{});var C=P(t);s=A(C,i),C.forEach(_),n=B(v),m&&m.l(v),a=B(v),r=g(v,"DIV",{class:!0});var L=P(r);ie(l.$$.fragment,L),u=B(L),f=A(L,c),L.forEach(_),v.forEach(_),this.h()},h:function(){k(t,zt,19,2,612),b(r,"class","data"),k(r,zt,23,2,715),b(e,"class",h=o[1].containerClass),k(e,zt,18,1,578)},m:function(S,v){M(S,e,v),d(e,t),d(t,s),d(e,n),m&&m.m(e,null),d(e,a),d(e,r),te(l,r,null),d(r,u),d(r,f),p=!0},p:function(S,v){(!p||v&2)&&i!==(i=S[1].payDirectionString+"")&&oe(s,i),S[0].description?m?m.p(S,v):(m=On(S),m.c(),m.m(e,a)):m&&(m.d(1),m=null);const C={};v&2&&(C.value=S[1].amountToShow),l.$set(C),(!p||v&1)&&c!==(c=S[0].currency+"")&&oe(f,c),(!p||v&2&&h!==(h=S[1].containerClass))&&b(e,"class",h)},i:function(S){p||(N(l.$$.fragment,S),p=!0)},o:function(S){Y(l.$$.fragment,S),p=!1},d:function(S){S&&_(e),m&&m.d(),ne(l)}};return V("SvelteRegisterBlock",{block:y,id:Nn.name,type:"if",source:"(18:0) {#if ui != null}",ctx:o}),y}function On(o){let e,t=o[0].description+"",i;const s={c:function(){e=w("div"),i=j(t),this.h()},l:function(a){e=g(a,"DIV",{});var r=P(e);i=A(r,t),r.forEach(_),this.h()},h:function(){k(e,zt,21,3,675)},m:function(a,r){M(a,e,r),d(e,i)},p:function(a,r){r&1&&t!==(t=a[0].description+"")&&oe(i,t)},d:function(a){a&&_(e)}};return V("SvelteRegisterBlock",{block:s,id:On.name,type:"if",source:"(21:2) {#if data.description}",ctx:o}),s}function Mn(o){let e,t,i=o[1]!=null&&Nn(o);const s={c:function(){i&&i.c(),e=ce()},l:function(a){i&&i.l(a),e=ce()},m:function(a,r){i&&i.m(a,r),M(a,e,r),t=!0},p:function(a,[r]){a[1]!=null?i?(i.p(a,r),r&2&&N(i,1)):(i=Nn(a),i.c(),N(i,1),i.m(e.parentNode,e)):i&&(ue(),Y(i,1,1,()=>{i=null}),fe())},i:function(a){t||(N(i),t=!0)},o:function(a){Y(i),t=!1},d:function(a){i&&i.d(a),a&&_(e)}};return V("SvelteRegisterBlock",{block:s,id:Mn.name,type:"component",source:"",ctx:o}),s}function Yr(o,e,t){let{$$slots:i={},$$scope:s}=e;we("Debt_list_render",i,[]);let{data:n}=e,a;Te(()=>{const l=ct.getPaidAmount(n),u=l>=n.amount;t(1,a={containerClass:u?"paid":"unpaid",payDirectionString:ct.calculatePayStateString(n),amountToShow:u?l:n.amount-l})}),o.$$.on_mount.push(function(){n===void 0&&!("data"in e||o.$$.bound[o.$$.props.data])&&console.warn("<Debt_list_render> was created without expected prop 'data'")});const r=["data"];return Object.keys(e).forEach(l=>{!~r.indexOf(l)&&l.slice(0,2)!=="$$"&&l!=="slot"&&console.warn(`<Debt_list_render> was created with unknown prop '${l}'`)}),o.$$set=l=>{"data"in l&&t(0,n=l.data)},o.$capture_state=()=>({onMount:Te,NumberFormat:Re,DebtLogic:ct,data:n,ui:a}),o.$inject_state=l=>{"data"in l&&t(0,n=l.data),"ui"in l&&t(1,a=l.ui)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[n,a]}class Hr extends ve{constructor(e){super(e),ye(this,e,Yr,Mn,be,{data:0}),V("SvelteRegisterComponent",{component:this,tagName:"Debt_list_render",options:e,id:Mn.name})}get data(){throw new Error("<Debt_list_render>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(e){throw new Error("<Debt_list_render>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const yn="src/lib/components/item/item-list/renders/service-list-render.svelte";function Ln(o){let e,t,i=o[0].name+"",s,n,a,r,l,u=o[0].currency+"",c,f,h;r=new Re({props:{value:o[0].cost},$$inline:!0});const p={c:function(){e=w("div"),t=w("div"),s=j(i),n=R(),a=w("div"),ee(r.$$.fragment),l=R(),c=j(u),this.h()},l:function(y){e=g(y,"DIV",{class:!0});var E=P(e);t=g(E,"DIV",{class:!0});var S=P(t);s=A(S,i),S.forEach(_),n=B(E),a=g(E,"DIV",{class:!0});var v=P(a);ie(r.$$.fragment,v),l=B(v),c=A(v,u),v.forEach(_),E.forEach(_),this.h()},h:function(){b(t,"class","name"),k(t,yn,18,1,473),b(a,"class","data"),k(a,yn,19,1,510),b(e,"class",f=o[1].containerClass),k(e,yn,17,0,438)},m:function(y,E){M(y,e,E),d(e,t),d(t,s),d(e,n),d(e,a),te(r,a,null),d(a,l),d(a,c),h=!0},p:function(y,[E]){(!h||E&1)&&i!==(i=y[0].name+"")&&oe(s,i);const S={};E&1&&(S.value=y[0].cost),r.$set(S),(!h||E&1)&&u!==(u=y[0].currency+"")&&oe(c,u),(!h||E&2&&f!==(f=y[1].containerClass))&&b(e,"class",f)},i:function(y){h||(N(r.$$.fragment,y),h=!0)},o:function(y){Y(r.$$.fragment,y),h=!1},d:function(y){y&&_(e),ne(r)}};return V("SvelteRegisterBlock",{block:p,id:Ln.name,type:"component",source:"",ctx:o}),p}function Wr(o,e,t){let{$$slots:i={},$$scope:s}=e;we("Service_list_render",i,[]);let{data:n}=e;const a={};Te(()=>{n.isManual&&(pt.wasThisMonthPaid(n)?t(1,a.containerClass="paid",a):t(1,a.containerClass="unpaid",a))}),o.$$.on_mount.push(function(){n===void 0&&!("data"in e||o.$$.bound[o.$$.props.data])&&console.warn("<Service_list_render> was created without expected prop 'data'")});const r=["data"];return Object.keys(e).forEach(l=>{!~r.indexOf(l)&&l.slice(0,2)!=="$$"&&l!=="slot"&&console.warn(`<Service_list_render> was created with unknown prop '${l}'`)}),o.$$set=l=>{"data"in l&&t(0,n=l.data)},o.$capture_state=()=>({onMount:Te,ServiceItem:pt,NumberFormat:Re,data:n,view:a}),o.$inject_state=l=>{"data"in l&&t(0,n=l.data)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[n,a]}class $r extends ve{constructor(e){super(e),ye(this,e,Wr,Ln,be,{data:0}),V("SvelteRegisterComponent",{component:this,tagName:"Service_list_render",options:e,id:Ln.name})}get data(){throw new Error("<Service_list_render>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(e){throw new Error("<Service_list_render>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Ei="src/lib/components/item/item-list/renders/currency-list-render.svelte";function Yn(o){let e,t=o[0].currency+"",i,s,n,a,r,l=o[0].currency+"",u,c;a=new Re({props:{value:o[0].total},$$inline:!0});const f={c:function(){e=w("div"),i=j(t),s=R(),n=w("div"),ee(a.$$.fragment),r=R(),u=j(l),this.h()},l:function(p){e=g(p,"DIV",{});var m=P(e);i=A(m,t),m.forEach(_),s=B(p),n=g(p,"DIV",{});var y=P(n);ie(a.$$.fragment,y),r=B(y),u=A(y,l),y.forEach(_),this.h()},h:function(){k(e,Ei,4,0,112),k(n,Ei,5,0,139)},m:function(p,m){M(p,e,m),d(e,i),M(p,s,m),M(p,n,m),te(a,n,null),d(n,r),d(n,u),c=!0},p:function(p,[m]){(!c||m&1)&&t!==(t=p[0].currency+"")&&oe(i,t);const y={};m&1&&(y.value=p[0].total),a.$set(y),(!c||m&1)&&l!==(l=p[0].currency+"")&&oe(u,l)},i:function(p){c||(N(a.$$.fragment,p),c=!0)},o:function(p){Y(a.$$.fragment,p),c=!1},d:function(p){p&&_(e),p&&_(s),p&&_(n),ne(a)}};return V("SvelteRegisterBlock",{block:f,id:Yn.name,type:"component",source:"",ctx:o}),f}function Kr(o,e,t){let{$$slots:i={},$$scope:s}=e;we("Currency_list_render",i,[]);let{data:n}=e;o.$$.on_mount.push(function(){n===void 0&&!("data"in e||o.$$.bound[o.$$.props.data])&&console.warn("<Currency_list_render> was created without expected prop 'data'")});const a=["data"];return Object.keys(e).forEach(r=>{!~a.indexOf(r)&&r.slice(0,2)!=="$$"&&r!=="slot"&&console.warn(`<Currency_list_render> was created with unknown prop '${r}'`)}),o.$$set=r=>{"data"in r&&t(0,n=r.data)},o.$capture_state=()=>({NumberFormat:Re,data:n}),o.$inject_state=r=>{"data"in r&&t(0,n=r.data)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[n]}class Jr extends ve{constructor(e){super(e),ye(this,e,Kr,Yn,be,{data:0}),V("SvelteRegisterComponent",{component:this,tagName:"Currency_list_render",options:e,id:Yn.name})}get data(){throw new Error("<Currency_list_render>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(e){throw new Error("<Currency_list_render>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Qe="src/lib/components/item/item-see/renders/util/transaction-table.svelte";function Jt(o,e,t){const i=o.slice();return i[4]=e[t],i}function Hi(o){let e;const t={c:function(){e=j("Loading transactions...")},l:function(s){e=A(s,"Loading transactions...")},m:function(s,n){M(s,e,n)},p:se,i:se,o:se,d:function(s){s&&_(e)}};return V("SvelteRegisterBlock",{block:t,id:Hi.name,type:"else",source:"(46:0) {:else}",ctx:o}),t}function Wi(o){let e,t,i,s;const n=[Ki,$i],a=[];function r(u,c){return u[0].length?0:1}e=r(o),t=a[e]=n[e](o);const l={c:function(){t.c(),i=ce()},l:function(c){t.l(c),i=ce()},m:function(c,f){a[e].m(c,f),M(c,i,f),s=!0},p:function(c,f){let h=e;e=r(c),e===h?a[e].p(c,f):(ue(),Y(a[h],1,1,()=>{a[h]=null}),fe(),t=a[e],t?t.p(c,f):(t=a[e]=n[e](c),t.c()),N(t,1),t.m(i.parentNode,i))},i:function(c){s||(N(t),s=!0)},o:function(c){Y(t),s=!1},d:function(c){a[e].d(c),c&&_(i)}};return V("SvelteRegisterBlock",{block:l,id:Wi.name,type:"if",source:"(9:0) {#if rows}",ctx:o}),l}function $i(o){let e;const t={c:function(){e=j("You don't have transactions yet")},l:function(s){e=A(s,"You don't have transactions yet")},m:function(s,n){M(s,e,n)},p:se,i:se,o:se,d:function(s){s&&_(e)}};return V("SvelteRegisterBlock",{block:t,id:$i.name,type:"else",source:"(43:1) {:else}",ctx:o}),t}function Ki(o){let e,t,i,s,n,a,r,l,u,c,f,h,p,m,y,E=[],S=new Map,v,C=o[0];Me(C);const L=D=>D[4]._id+"//"+D[4].amount+"//"+D[4].dateString+D[4].note;ut(o,C,Jt,L);for(let D=0;D<C.length;D+=1){let I=Jt(o,C,D),T=L(I);S.set(T,E[D]=Hn(T,I))}const U={c:function(){e=w("div"),t=w("div"),i=w("div"),s=w("div"),n=j("Amount"),a=R(),r=w("div"),l=j("Date"),u=R(),c=w("div"),f=j("Type"),h=R(),p=w("div"),m=j("Notes"),y=R();for(let I=0;I<E.length;I+=1)E[I].c();this.h()},l:function(I){e=g(I,"DIV",{class:!0});var T=P(e);t=g(T,"DIV",{class:!0,role:!0});var O=P(t);i=g(O,"DIV",{class:!0,role:!0});var H=P(i);s=g(H,"DIV",{class:!0});var $=P(s);n=A($,"Amount"),$.forEach(_),a=B(H),r=g(H,"DIV",{class:!0});var Q=P(r);l=A(Q,"Date"),Q.forEach(_),u=B(H),c=g(H,"DIV",{class:!0});var G=P(c);f=A(G,"Type"),G.forEach(_),h=B(H),p=g(H,"DIV",{class:!0});var re=P(p);m=A(re,"Notes"),re.forEach(_),H.forEach(_),y=B(O);for(let z=0;z<E.length;z+=1)E[z].l(O);O.forEach(_),T.forEach(_),this.h()},h:function(){b(s,"class","transaction-table__column s-0o2yVx6CJ24Q"),k(s,Qe,13,5,431),b(r,"class","transaction-table__column s-0o2yVx6CJ24Q"),k(r,Qe,14,5,488),b(c,"class","transaction-table__column s-0o2yVx6CJ24Q"),k(c,Qe,15,5,543),b(p,"class","transaction-table__column s-0o2yVx6CJ24Q"),k(p,Qe,16,5,598),b(i,"class","transaction-table__header transaction-table__row s-0o2yVx6CJ24Q"),b(i,"role","rowgroup"),k(i,Qe,12,4,347),b(t,"class","transaction-table__table transaction-table__table_4-columns s-0o2yVx6CJ24Q"),b(t,"role","table"),k(t,Qe,11,3,256),b(e,"class","transaction-table s-0o2yVx6CJ24Q"),k(e,Qe,10,2,221)},m:function(I,T){M(I,e,T),d(e,t),d(t,i),d(i,s),d(s,n),d(i,a),d(i,r),d(r,l),d(i,u),d(i,c),d(c,f),d(i,h),d(i,p),d(p,m),d(t,y);for(let O=0;O<E.length;O+=1)E[O]&&E[O].m(t,null);v=!0},p:function(I,T){T&3&&(C=I[0],Me(C),ue(),ut(I,C,Jt,L),E=rn(E,T,L,1,I,C,S,t,Wo,Hn,null,Jt),fe())},i:function(I){if(!v){for(let T=0;T<C.length;T+=1)N(E[T]);v=!0}},o:function(I){for(let T=0;T<E.length;T+=1)Y(E[T]);v=!1},d:function(I){I&&_(e);for(let T=0;T<E.length;T+=1)E[T].d()}};return V("SvelteRegisterBlock",{block:U,id:Ki.name,type:"if",source:"(10:1) {#if rows.length}",ctx:o}),U}function Hn(o,e){let t,i,s,n,a,r=e[4].dateString+"",l,u,c,f=e[4].transactionType+"",h,p,m,y=(e[4].note??"-")+"",E,S,v,C,L;s=new Re({props:{value:e[4].amount},$$inline:!0});function U(){return e[3](e[4])}const D={key:o,first:null,c:function(){t=w("div"),i=w("div"),ee(s.$$.fragment),n=R(),a=w("div"),l=j(r),u=R(),c=w("div"),h=j(f),p=R(),m=w("div"),E=j(y),S=R(),this.h()},l:function(T){t=g(T,"DIV",{class:!0,role:!0});var O=P(t);i=g(O,"DIV",{class:!0,role:!0});var H=P(i);ie(s.$$.fragment,H),H.forEach(_),n=B(O),a=g(O,"DIV",{class:!0,role:!0});var $=P(a);l=A($,r),$.forEach(_),u=B(O),c=g(O,"DIV",{class:!0,role:!0});var Q=P(c);h=A(Q,f),Q.forEach(_),p=B(O),m=g(O,"DIV",{class:!0,role:!0});var G=P(m);E=A(G,y),G.forEach(_),S=B(O),O.forEach(_),this.h()},h:function(){b(i,"class","transaction-table__column transaction-table__amount s-0o2yVx6CJ24Q"),b(i,"role","cell"),k(i,Qe,26,6,966),b(a,"class","transaction-table__column transaction-table__date s-0o2yVx6CJ24Q"),b(a,"role","cell"),k(a,Qe,29,6,1106),b(c,"class","transaction-table__column transaction-table__type s-0o2yVx6CJ24Q"),b(c,"role","cell"),k(c,Qe,32,6,1225),b(m,"class","transaction-table__column transaction-table__note s-0o2yVx6CJ24Q"),b(m,"role","cell"),k(m,Qe,35,6,1349),b(t,"class","transaction-table__row transaction-table__row_clickable s-0o2yVx6CJ24Q"),b(t,"role","rowgroup"),k(t,Qe,21,5,817),this.first=t},m:function(T,O){M(T,t,O),d(t,i),te(s,i,null),d(t,n),d(t,a),d(a,l),d(t,u),d(t,c),d(c,h),d(t,p),d(t,m),d(m,E),d(t,S),v=!0,C||(L=F(t,"click",U,!1,!1,!1,!1),C=!0)},p:function(T,O){e=T;const H={};O&1&&(H.value=e[4].amount),s.$set(H),(!v||O&1)&&r!==(r=e[4].dateString+"")&&oe(l,r),(!v||O&1)&&f!==(f=e[4].transactionType+"")&&oe(h,f),(!v||O&1)&&y!==(y=(e[4].note??"-")+"")&&oe(E,y)},i:function(T){v||(N(s.$$.fragment,T),v=!0)},o:function(T){Y(s.$$.fragment,T),v=!1},d:function(T){T&&_(t),ne(s),C=!1,L()}};return V("SvelteRegisterBlock",{block:D,id:Hn.name,type:"each",source:"(20:4) {#each rows as row (row._id + '//' + row.amount + '//' + row.dateString + row.note)}",ctx:e}),D}function Wn(o){let e,t,i,s;const n=[Wi,Hi],a=[];function r(u,c){return u[0]?0:1}e=r(o),t=a[e]=n[e](o);const l={c:function(){t.c(),i=ce()},l:function(c){t.l(c),i=ce()},m:function(c,f){a[e].m(c,f),M(c,i,f),s=!0},p:function(c,[f]){let h=e;e=r(c),e===h?a[e].p(c,f):(ue(),Y(a[h],1,1,()=>{a[h]=null}),fe(),t=a[e],t?t.p(c,f):(t=a[e]=n[e](c),t.c()),N(t,1),t.m(i.parentNode,i))},i:function(c){s||(N(t),s=!0)},o:function(c){Y(t),s=!1},d:function(c){a[e].d(c),c&&_(i)}};return V("SvelteRegisterBlock",{block:l,id:Wn.name,type:"component",source:"",ctx:o}),l}function Qr(o,e,t){let{$$slots:i={},$$scope:s}=e;we("Transaction_table",i,[]);let{onRowClicked:n}=e,{rows:a}=e;function r(c){n(c)}o.$$.on_mount.push(function(){n===void 0&&!("onRowClicked"in e||o.$$.bound[o.$$.props.onRowClicked])&&console.warn("<Transaction_table> was created without expected prop 'onRowClicked'"),a===void 0&&!("rows"in e||o.$$.bound[o.$$.props.rows])&&console.warn("<Transaction_table> was created without expected prop 'rows'")});const l=["onRowClicked","rows"];Object.keys(e).forEach(c=>{!~l.indexOf(c)&&c.slice(0,2)!=="$$"&&c!=="slot"&&console.warn(`<Transaction_table> was created with unknown prop '${c}'`)});const u=c=>r(c);return o.$$set=c=>{"onRowClicked"in c&&t(2,n=c.onRowClicked),"rows"in c&&t(0,a=c.rows)},o.$capture_state=()=>({NumberFormat:Re,onRowClicked:n,rows:a,rowClicked:r}),o.$inject_state=c=>{"onRowClicked"in c&&t(2,n=c.onRowClicked),"rows"in c&&t(0,a=c.rows)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[a,r,n,u]}class Ji extends ve{constructor(e){super(e),ye(this,e,Qr,Wn,be,{onRowClicked:2,rows:0}),V("SvelteRegisterComponent",{component:this,tagName:"Transaction_table",options:e,id:Wn.name})}get onRowClicked(){throw new Error("<Transaction_table>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set onRowClicked(e){throw new Error("<Transaction_table>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get rows(){throw new Error("<Transaction_table>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set rows(e){throw new Error("<Transaction_table>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}class Si{static async addTransaction(e,t){const i=await Cn.create({...t,itemId:e._id});let s=e.balance;return i.amount!=0&&(i.transactionType==="add"?s+=i.amount:i.transactionType==="subtract"&&(s-=i.amount),await He.update(e._id,{balance:s})),{createdPayment:i,balance:s}}static getUrl(){return`${je.getUrl()}/items`}static getHeaders(){return je.getHeaders()}}const he="src/lib/components/item/item-see/renders/account-see-render.svelte";function Pi(o,e,t){const i=o.slice();return i[12]=e[t],i}function $n(o){let e,t,i,s,n,a,r,l=o[1].tabs.list;Me(l);let u=[];for(let p=0;p<l.length;p+=1)u[p]=Kn(Pi(o,l,p));let c=o[1].tabs.activeTab==="main"&&Jn(o),f=o[1].tabs.activeTab==="transactions"&&Qn(o);const h={c:function(){e=w("div"),t=w("div"),i=w("ul");for(let m=0;m<u.length;m+=1)u[m].c();s=R(),n=w("div"),c&&c.c(),a=R(),f&&f.c(),this.h()},l:function(m){e=g(m,"DIV",{class:!0});var y=P(e);t=g(y,"DIV",{class:!0});var E=P(t);i=g(E,"UL",{});var S=P(i);for(let C=0;C<u.length;C+=1)u[C].l(S);S.forEach(_),E.forEach(_),s=B(y),n=g(y,"DIV",{class:!0});var v=P(n);c&&c.l(v),a=B(v),f&&f.l(v),v.forEach(_),y.forEach(_),this.h()},h:function(){k(i,he,57,3,1699),b(t,"class","see-tabs tabs"),k(t,he,56,2,1668),b(n,"class","account-see__body"),k(n,he,68,2,2001),b(e,"class","account-see s-SfD9whVLsFNP"),k(e,he,55,1,1640)},m:function(m,y){M(m,e,y),d(e,t),d(t,i);for(let E=0;E<u.length;E+=1)u[E]&&u[E].m(i,null);d(e,s),d(e,n),c&&c.m(n,null),d(n,a),f&&f.m(n,null),r=!0},p:function(m,y){if(y&6){l=m[1].tabs.list,Me(l);let E;for(E=0;E<l.length;E+=1){const S=Pi(m,l,E);u[E]?u[E].p(S,y):(u[E]=Kn(S),u[E].c(),u[E].m(i,null))}for(;E<u.length;E+=1)u[E].d(1);u.length=l.length}m[1].tabs.activeTab==="main"?c?c.p(m,y):(c=Jn(m),c.c(),c.m(n,a)):c&&(c.d(1),c=null),m[1].tabs.activeTab==="transactions"?f?(f.p(m,y),y&2&&N(f,1)):(f=Qn(m),f.c(),N(f,1),f.m(n,null)):f&&(ue(),Y(f,1,1,()=>{f=null}),fe())},i:function(m){r||(N(f),r=!0)},o:function(m){Y(f),r=!1},d:function(m){m&&_(e),Yo(u,m),c&&c.d(),f&&f.d()}};return V("SvelteRegisterBlock",{block:h,id:$n.name,type:"if",source:"(55:0) {#if data != null}",ctx:o}),h}function Kn(o){let e,t,i=o[12].title+"",s,n,a,r,l;function u(){return o[6](o[12])}const c={c:function(){e=w("li"),t=w("a"),s=j(i),n=R(),this.h()},l:function(h){e=g(h,"LI",{class:!0});var p=P(e);t=g(p,"A",{});var m=P(t);s=A(m,i),m.forEach(_),n=B(p),p.forEach(_),this.h()},h:function(){k(t,he,62,6,1905),b(e,"class",a=o[12].active?"is-active":""),k(e,he,59,5,1741)},m:function(h,p){M(h,e,p),d(e,t),d(t,s),d(e,n),r||(l=F(t,"click",u,!1,!1,!1,!1),r=!0)},p:function(h,p){o=h,p&2&&i!==(i=o[12].title+"")&&oe(s,i),p&2&&a!==(a=o[12].active?"is-active":"")&&b(e,"class",a)},d:function(h){h&&_(e),r=!1,l()}};return V("SvelteRegisterBlock",{block:c,id:Kn.name,type:"each",source:"(59:4) {#each ui.tabs.list as tab}",ctx:o}),c}function Jn(o){let e,t=o[0].name+"",i,s,n,a=o[0].balance+"",r,l,u=o[0].currency+"",c;const f={c:function(){e=w("div"),i=j(t),s=R(),n=w("div"),r=j(a),l=R(),c=j(u),this.h()},l:function(p){e=g(p,"DIV",{});var m=P(e);i=A(m,t),m.forEach(_),s=B(p),n=g(p,"DIV",{});var y=P(n);r=A(y,a),l=B(y),c=A(y,u),y.forEach(_),this.h()},h:function(){k(e,he,71,4,2092),k(n,he,72,4,2119)},m:function(p,m){M(p,e,m),d(e,i),M(p,s,m),M(p,n,m),d(n,r),d(n,l),d(n,c)},p:function(p,m){m&1&&t!==(t=p[0].name+"")&&oe(i,t),m&1&&a!==(a=p[0].balance+"")&&oe(r,a),m&1&&u!==(u=p[0].currency+"")&&oe(c,u)},d:function(p){p&&_(e),p&&_(s),p&&_(n)}};return V("SvelteRegisterBlock",{block:f,id:Jn.name,type:"if",source:"(71:3) {#if ui.tabs.activeTab === 'main'}",ctx:o}),f}function Qn(o){let e,t,i,s;function n(u,c){return u[1].transactions.creator?Qi:Fi}let a=n(o),r=a(o);i=new Ji({props:{rows:o[0].payments,onRowClicked:Gi},$$inline:!0});const l={c:function(){e=w("div"),r.c(),t=R(),ee(i.$$.fragment),this.h()},l:function(c){e=g(c,"DIV",{class:!0});var f=P(e);r.l(f),t=B(f),ie(i.$$.fragment,f),f.forEach(_),this.h()},h:function(){b(e,"class","account-see__transactions s-SfD9whVLsFNP"),k(e,he,77,4,2246)},m:function(c,f){M(c,e,f),r.m(e,null),d(e,t),te(i,e,null),s=!0},p:function(c,f){a===(a=n(c))&&r?r.p(c,f):(r.d(1),r=a(c),r&&(r.c(),r.m(e,t)));const h={};f&1&&(h.rows=c[0].payments),i.$set(h)},i:function(c){s||(N(i.$$.fragment,c),s=!0)},o:function(c){Y(i.$$.fragment,c),s=!1},d:function(c){c&&_(e),r.d(),ne(i)}};return V("SvelteRegisterBlock",{block:l,id:Qn.name,type:"if",source:"(77:3) {#if ui.tabs.activeTab === 'transactions'}",ctx:o}),l}function Qi(o){let e,t,i,s,n,a,r,l,u,c,f,h,p,m,y,E,S,v,C,L,U,D,I,T,O,H,$,Q,G,re,z,K,q,le,J;const Z={c:function(){e=w("div"),t=w("div"),i=w("div"),s=w("label"),n=j("Type"),a=R(),r=w("div"),l=w("select"),u=w("option"),c=j("Add to this account"),f=w("option"),h=j("Subtract from this account"),p=R(),m=w("div"),y=w("label"),E=j("Amount"),S=R(),v=w("input"),C=R(),L=w("div"),U=w("label"),D=j("Notes"),I=R(),T=w("input"),O=R(),H=w("div"),$=w("button"),Q=j("Confirm"),re=R(),z=w("button"),K=j("Cancel"),this.h()},l:function(W){e=g(W,"DIV",{class:!0});var X=P(e);t=g(X,"DIV",{class:!0});var de=P(t);i=g(de,"DIV",{class:!0});var ke=P(i);s=g(ke,"LABEL",{for:!0});var Se=P(s);n=A(Se,"Type"),Se.forEach(_),a=B(ke),r=g(ke,"DIV",{class:!0});var pe=P(r);l=g(pe,"SELECT",{id:!0,class:!0});var Ce=P(l);u=g(Ce,"OPTION",{});var Le=P(u);c=A(Le,"Add to this account"),Le.forEach(_),f=g(Ce,"OPTION",{});var Pe=P(f);h=A(Pe,"Subtract from this account"),Pe.forEach(_),Ce.forEach(_),pe.forEach(_),ke.forEach(_),p=B(de),m=g(de,"DIV",{class:!0});var Ee=P(m);y=g(Ee,"LABEL",{for:!0});var Ve=P(y);E=A(Ve,"Amount"),Ve.forEach(_),S=B(Ee),v=g(Ee,"INPUT",{type:!0,class:!0,id:!0}),Ee.forEach(_),C=B(de),L=g(de,"DIV",{class:!0});var Ae=P(L);U=g(Ae,"LABEL",{for:!0});var et=P(U);D=A(et,"Notes"),et.forEach(_),I=B(Ae),T=g(Ae,"INPUT",{type:!0,class:!0,id:!0}),Ae.forEach(_),de.forEach(_),O=B(X),H=g(X,"DIV",{class:!0});var Ie=P(H);$=g(Ie,"BUTTON",{class:!0});var Be=P($);Q=A(Be,"Confirm"),Be.forEach(_),re=B(Ie),z=g(Ie,"BUTTON",{class:!0});var ge=P(z);K=A(ge,"Cancel"),ge.forEach(_),Ie.forEach(_),X.forEach(_),this.h()},h:function(){b(s,"for","type-input"),k(s,he,84,9,2593),u.__value="add",u.value=u.__value,k(u,he,92,11,2885),f.__value="subtract",f.value=f.__value,k(f,he,93,11,2945),b(l,"id","type-input"),b(l,"class","w-100"),o[1].transactions.creator.t.transactionType===void 0&&Lo(()=>o[7].call(l)),k(l,he,86,10,2684),b(r,"class","select input-stretch"),k(r,he,85,9,2639),b(i,"class","label-and-input clickable-height"),k(i,he,83,8,2537),b(y,"for","amount-input"),k(y,he,100,9,3129),b(v,"type","number"),b(v,"class","input-stretch"),b(v,"id","amount-input"),k(v,he,101,9,3179),b(m,"class","label-and-input"),k(m,he,99,8,3090),b(U,"for","notes-input"),k(U,he,111,9,3424),b(T,"type","text"),b(T,"class","input-stretch"),b(T,"id","notes-input"),k(T,he,112,9,3472),b(L,"class","label-and-input"),k(L,he,110,8,3385),b(t,"class","form"),k(t,he,82,7,2510),b($,"class",G="button "+(o[1].transactions.creator.loading?"is-loading":"")),k($,he,121,8,3728),b(z,"class",q="button is-danger "+(o[1].transactions.creator.loading?"is-loading":"")),k(z,he,126,8,3912),b(H,"class","transaction-creator__footer creator__footer"),k(H,he,120,7,3662),b(e,"class","account-see__transaction-creator transaction-creator creator"),k(e,he,81,6,2428)},m:function(W,X){M(W,e,X),d(e,t),d(t,i),d(i,s),d(s,n),d(i,a),d(i,r),d(r,l),d(l,u),d(u,c),d(l,f),d(f,h),gt(l,o[1].transactions.creator.t.transactionType),d(t,p),d(t,m),d(m,y),d(y,E),d(m,S),d(m,v),_e(v,o[1].transactions.creator.t.amount),d(t,C),d(t,L),d(L,U),d(U,D),d(L,I),d(L,T),_e(T,o[1].transactions.creator.t.note),d(e,O),d(e,H),d(H,$),d($,Q),d(H,re),d(H,z),d(z,K),le||(J=[F(l,"change",o[7]),F(l,"change",Xi,!1,!1,!1,!1),F(v,"input",o[8]),F(T,"input",o[9]),F($,"click",o[10],!1,!1,!1,!1),F(z,"click",o[11],!1,!1,!1,!1)],le=!0)},p:function(W,X){X&2&&gt(l,W[1].transactions.creator.t.transactionType),X&2&&xe(v.value)!==W[1].transactions.creator.t.amount&&_e(v,W[1].transactions.creator.t.amount),X&2&&T.value!==W[1].transactions.creator.t.note&&_e(T,W[1].transactions.creator.t.note),X&2&&G!==(G="button "+(W[1].transactions.creator.loading?"is-loading":""))&&b($,"class",G),X&2&&q!==(q="button is-danger "+(W[1].transactions.creator.loading?"is-loading":""))&&b(z,"class",q)},d:function(W){W&&_(e),le=!1,$e(J)}};return V("SvelteRegisterBlock",{block:Z,id:Qi.name,type:"else",source:"(81:5) {:else}",ctx:o}),Z}function Fi(o){let e,t,i,s;const n={c:function(){e=w("button"),t=j("New Transaction"),this.h()},l:function(r){e=g(r,"BUTTON",{class:!0});var l=P(e);t=A(l,"New Transaction"),l.forEach(_),this.h()},h:function(){b(e,"class","button"),k(e,he,79,6,2328)},m:function(r,l){M(r,e,l),d(e,t),i||(s=F(e,"click",o[3],!1,!1,!1,!1),i=!0)},p:se,d:function(r){r&&_(e),i=!1,s()}};return V("SvelteRegisterBlock",{block:n,id:Fi.name,type:"if",source:"(79:5) {#if !ui.transactions.creator}",ctx:o}),n}function Fn(o){let e,t,i=o[0]!=null&&$n(o);const s={c:function(){i&&i.c(),e=ce()},l:function(a){i&&i.l(a),e=ce()},m:function(a,r){i&&i.m(a,r),M(a,e,r),t=!0},p:function(a,[r]){a[0]!=null?i?(i.p(a,r),r&1&&N(i,1)):(i=$n(a),i.c(),N(i,1),i.m(e.parentNode,e)):i&&(ue(),Y(i,1,1,()=>{i=null}),fe())},i:function(a){t||(N(i),t=!0)},o:function(a){Y(i),t=!1},d:function(a){i&&i.d(a),a&&_(e)}};return V("SvelteRegisterBlock",{block:s,id:Fn.name,type:"component",source:"",ctx:o}),s}function Xi(o){o.target.value}function Gi(o){}function Fr(o){}function Xr(o){}function Gr(o,e,t){let{$$slots:i={},$$scope:s}=e;we("Account_see_render",i,[]);let{data:n}=e;const a={tabs:{list:[{title:"Account",active:!0,type:"main"},{title:"Transactions",type:"transactions"}],activeTab:"main"},transactions:{}};function r(v){a.tabs.list.forEach(C=>C.active=!1),v.active=!0,t(1,a.tabs.activeTab=v.type,a)}function l(){const C=new Date(Date.now()).toISOString().substring(0,10);t(1,a.transactions.creator={t:{transactionType:"add",amount:0,dateString:C}},a)}async function u(){const v=a.transactions.creator;v.loading=!0;try{const C=await Si.addTransaction(n,v.t);n.payments?t(0,n.payments=[C.createdPayment,...n.payments],n):t(0,n.payments=[C.createdPayment],n),t(0,n.balance=C.balance,n),t(1,a.transactions.creator=void 0,a)}catch{v.loading=!1}}function c(){a.transactions.creator.t,t(1,a.transactions.creator=void 0,a)}o.$$.on_mount.push(function(){n===void 0&&!("data"in e||o.$$.bound[o.$$.props.data])&&console.warn("<Account_see_render> was created without expected prop 'data'")});const f=["data"];Object.keys(e).forEach(v=>{!~f.indexOf(v)&&v.slice(0,2)!=="$$"&&v!=="slot"&&console.warn(`<Account_see_render> was created with unknown prop '${v}'`)});const h=v=>r(v);function p(){a.transactions.creator.t.transactionType=Mo(this),t(1,a)}function m(){a.transactions.creator.t.amount=xe(this.value),t(1,a)}function y(){a.transactions.creator.t.note=this.value,t(1,a)}const E=()=>u(),S=()=>c();return o.$$set=v=>{"data"in v&&t(0,n=v.data)},o.$capture_state=()=>({TransactionTable:Ji,AccountService:Si,data:n,ui:a,tabClicked:r,newTransactionClicked:l,transactionTypeSelectChanged:Xi,confirmTransactionCreator:u,cancelTransactionCreator:c,transactionRowClicked:Gi,confirmTransaction:Fr,cancelTransaction:Xr}),o.$inject_state=v=>{"data"in v&&t(0,n=v.data)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[n,a,r,l,u,c,h,p,m,y,E,S]}class ln extends ve{constructor(e){super(e),ye(this,e,Gr,Fn,be,{data:0}),V("SvelteRegisterComponent",{component:this,tagName:"Account_see_render",options:e,id:Fn.name})}get data(){throw new Error("<Account_see_render>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(e){throw new Error("<Account_see_render>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}class Ut{}ot(Ut,"$channel",new $o);const Ye="src/lib/components/item/item-see/renders/util/payment-table.svelte";function Qt(o,e,t){const i=o.slice();return i[5]=e[t],i}function qi(o){let e;const t={c:function(){e=j("Loading payments...")},l:function(s){e=A(s,"Loading payments...")},m:function(s,n){M(s,e,n)},p:se,i:se,o:se,d:function(s){s&&_(e)}};return V("SvelteRegisterBlock",{block:t,id:qi.name,type:"else",source:"(55:0) {:else}",ctx:o}),t}function zi(o){let e,t,i,s,n,a,r,l,u,c,f,h,p,m,y,E,S=[],v=new Map,C,L,U=o[1]&&Xn(o),D=o[0];Me(D);const I=O=>O[5]._id+"//"+O[5].amount+"//"+O[5].dateString+O[5].note;ut(o,D,Qt,I);for(let O=0;O<D.length;O+=1){let H=Qt(o,D,O),$=I(H);v.set($,S[O]=qn($,H))}const T={c:function(){e=w("div"),t=w("div"),i=j("Payments"),s=R(),n=w("div"),a=w("div"),r=w("div"),l=j("Amount"),u=R(),c=w("div"),f=j("Date"),h=R(),U&&U.c(),p=R(),m=w("div"),y=j("Notes"),E=R();for(let H=0;H<S.length;H+=1)S[H].c();this.h()},l:function(H){e=g(H,"DIV",{class:!0});var $=P(e);t=g($,"DIV",{class:!0});var Q=P(t);i=A(Q,"Payments"),Q.forEach(_),s=B($),n=g($,"DIV",{class:!0,role:!0});var G=P(n);a=g(G,"DIV",{class:!0,role:!0});var re=P(a);r=g(re,"DIV",{class:!0});var z=P(r);l=A(z,"Amount"),z.forEach(_),u=B(re),c=g(re,"DIV",{class:!0});var K=P(c);f=A(K,"Date"),K.forEach(_),h=B(re),U&&U.l(re),p=B(re),m=g(re,"DIV",{class:!0});var q=P(m);y=A(q,"Notes"),q.forEach(_),re.forEach(_),E=B(G);for(let le=0;le<S.length;le+=1)S[le].l(G);G.forEach(_),$.forEach(_),this.h()},h:function(){b(t,"class","pay-table__title s-yUkwoNBJP8hc"),k(t,Ye,11,2,269),b(r,"class","pay-table__column s-yUkwoNBJP8hc"),k(r,Ye,19,4,525),b(c,"class","pay-table__column s-yUkwoNBJP8hc"),k(c,Ye,20,4,573),b(m,"class","pay-table__column s-yUkwoNBJP8hc"),k(m,Ye,22,4,688),b(a,"class","pay-table__header pay-table__row s-yUkwoNBJP8hc"),b(a,"role","rowgroup"),k(a,Ye,18,3,458),b(n,"class",C="pay-table__table "+(o[1]?"pay-table__table_4-columns":"pay-table__table_3-columns")+" s-yUkwoNBJP8hc"),b(n,"role","table"),k(n,Ye,12,2,316),b(e,"class","pay-table s-yUkwoNBJP8hc"),k(e,Ye,10,1,243)},m:function(H,$){M(H,e,$),d(e,t),d(t,i),d(e,s),d(e,n),d(n,a),d(a,r),d(r,l),d(a,u),d(a,c),d(c,f),d(a,h),U&&U.m(a,null),d(a,p),d(a,m),d(m,y),d(n,E);for(let Q=0;Q<S.length;Q+=1)S[Q]&&S[Q].m(n,null);L=!0},p:function(H,$){H[1]?U||(U=Xn(H),U.c(),U.m(a,p)):U&&(U.d(1),U=null),$&7&&(D=H[0],Me(D),ue(),ut(H,D,Qt,I),S=rn(S,$,I,1,H,D,v,n,Wo,qn,null,Qt),fe()),(!L||$&2&&C!==(C="pay-table__table "+(H[1]?"pay-table__table_4-columns":"pay-table__table_3-columns")+" s-yUkwoNBJP8hc"))&&b(n,"class",C)},i:function(H){if(!L){for(let $=0;$<D.length;$+=1)N(S[$]);L=!0}},o:function(H){for(let $=0;$<S.length;$+=1)Y(S[$]);L=!1},d:function(H){H&&_(e),U&&U.d();for(let $=0;$<S.length;$+=1)S[$].d()}};return V("SvelteRegisterBlock",{block:T,id:zi.name,type:"if",source:"(10:0) {#if payments}",ctx:o}),T}function Xn(o){let e,t;const i={c:function(){e=w("div"),t=j("USD"),this.h()},l:function(n){e=g(n,"DIV",{class:!0});var a=P(e);t=A(a,"USD"),a.forEach(_),this.h()},h:function(){b(e,"class","pay-table__column s-yUkwoNBJP8hc"),k(e,Ye,21,23,638)},m:function(n,a){M(n,e,a),d(e,t)},d:function(n){n&&_(e)}};return V("SvelteRegisterBlock",{block:i,id:Xn.name,type:"if",source:"(22:4) {#if showUsdColumn}",ctx:o}),i}function Gn(o){let e,t,i,s;const n=[xi,Zi],a=[];function r(u,c){return u[5].usdAmount?0:1}t=r(o),i=a[t]=n[t](o);const l={c:function(){e=w("div"),i.c(),this.h()},l:function(c){e=g(c,"DIV",{class:!0,role:!0});var f=P(e);i.l(f),f.forEach(_),this.h()},h:function(){b(e,"class","pay-table__column pay-table__usd s-yUkwoNBJP8hc"),b(e,"role","cell"),k(e,Ye,39,6,1306)},m:function(c,f){M(c,e,f),a[t].m(e,null),s=!0},p:function(c,f){let h=t;t=r(c),t===h?a[t].p(c,f):(ue(),Y(a[h],1,1,()=>{a[h]=null}),fe(),i=a[t],i?i.p(c,f):(i=a[t]=n[t](c),i.c()),N(i,1),i.m(e,null))},i:function(c){s||(N(i),s=!0)},o:function(c){Y(i),s=!1},d:function(c){c&&_(e),a[t].d()}};return V("SvelteRegisterBlock",{block:l,id:Gn.name,type:"if",source:"(39:5) {#if showUsdColumn}",ctx:o}),l}function Zi(o){let e;const t={c:function(){e=j("Loading...")},l:function(s){e=A(s,"Loading...")},m:function(s,n){M(s,e,n)},p:se,i:se,o:se,d:function(s){s&&_(e)}};return V("SvelteRegisterBlock",{block:t,id:Zi.name,type:"else",source:"(43:7) {:else}",ctx:o}),t}function xi(o){let e,t;e=new Re({props:{value:o[5].usdAmount},$$inline:!0});const i={c:function(){ee(e.$$.fragment)},l:function(n){ie(e.$$.fragment,n)},m:function(n,a){te(e,n,a),t=!0},p:function(n,a){const r={};a&1&&(r.value=n[5].usdAmount),e.$set(r)},i:function(n){t||(N(e.$$.fragment,n),t=!0)},o:function(n){Y(e.$$.fragment,n),t=!1},d:function(n){ne(e,n)}};return V("SvelteRegisterBlock",{block:i,id:xi.name,type:"if",source:"(41:7) {#if payment.usdAmount}",ctx:o}),i}function qn(o,e){let t,i,s,n,a,r=e[5].dateString+"",l,u,c,f,h=(e[5].note??"-")+"",p,m,y,E,S;s=new Re({props:{value:e[5].amount},$$inline:!0});let v=e[1]&&Gn(e);function C(){return e[4](e[5])}const L={key:o,first:null,c:function(){t=w("div"),i=w("div"),ee(s.$$.fragment),n=R(),a=w("div"),l=j(r),u=R(),v&&v.c(),c=R(),f=w("div"),p=j(h),m=R(),this.h()},l:function(D){t=g(D,"DIV",{class:!0,role:!0});var I=P(t);i=g(I,"DIV",{class:!0,role:!0});var T=P(i);ie(s.$$.fragment,T),T.forEach(_),n=B(I),a=g(I,"DIV",{class:!0,role:!0});var O=P(a);l=A(O,r),O.forEach(_),u=B(I),v&&v.l(I),c=B(I),f=g(I,"DIV",{class:!0,role:!0});var H=P(f);p=A(H,h),H.forEach(_),m=B(I),I.forEach(_),this.h()},h:function(){b(i,"class","pay-table__column pay-table__amount s-yUkwoNBJP8hc"),b(i,"role","cell"),k(i,Ye,32,5,1051),b(a,"class","pay-table__column pay-table__date s-yUkwoNBJP8hc"),b(a,"role","cell"),k(a,Ye,35,5,1176),b(f,"class","pay-table__column pay-table__note s-yUkwoNBJP8hc"),b(f,"role","cell"),k(f,Ye,47,5,1523),b(t,"class","pay-table__row pay-table__row_clickable s-yUkwoNBJP8hc"),b(t,"role","rowgroup"),k(t,Ye,27,4,919),this.first=t},m:function(D,I){M(D,t,I),d(t,i),te(s,i,null),d(t,n),d(t,a),d(a,l),d(t,u),v&&v.m(t,null),d(t,c),d(t,f),d(f,p),d(t,m),y=!0,E||(S=F(t,"click",C,!1,!1,!1,!1),E=!0)},p:function(D,I){e=D;const T={};I&1&&(T.value=e[5].amount),s.$set(T),(!y||I&1)&&r!==(r=e[5].dateString+"")&&oe(l,r),e[1]?v?(v.p(e,I),I&2&&N(v,1)):(v=Gn(e),v.c(),N(v,1),v.m(t,c)):v&&(ue(),Y(v,1,1,()=>{v=null}),fe()),(!y||I&1)&&h!==(h=(e[5].note??"-")+"")&&oe(p,h)},i:function(D){y||(N(s.$$.fragment,D),N(v),y=!0)},o:function(D){Y(s.$$.fragment,D),Y(v),y=!1},d:function(D){D&&_(t),ne(s),v&&v.d(),E=!1,S()}};return V("SvelteRegisterBlock",{block:L,id:qn.name,type:"each",source:"(26:3) {#each payments as payment (payment._id + '//' + payment.amount + '//' + payment.dateString + payment.note)}",ctx:e}),L}function zn(o){let e,t,i,s;const n=[zi,qi],a=[];function r(u,c){return u[0]?0:1}e=r(o),t=a[e]=n[e](o);const l={c:function(){t.c(),i=ce()},l:function(c){t.l(c),i=ce()},m:function(c,f){a[e].m(c,f),M(c,i,f),s=!0},p:function(c,[f]){let h=e;e=r(c),e===h?a[e].p(c,f):(ue(),Y(a[h],1,1,()=>{a[h]=null}),fe(),t=a[e],t?t.p(c,f):(t=a[e]=n[e](c),t.c()),N(t,1),t.m(i.parentNode,i))},i:function(c){s||(N(t),s=!0)},o:function(c){Y(t),s=!1},d:function(c){a[e].d(c),c&&_(i)}};return V("SvelteRegisterBlock",{block:l,id:zn.name,type:"component",source:"",ctx:o}),l}function qr(o,e,t){let{$$slots:i={},$$scope:s}=e;we("Payment_table",i,[]);let{onRowClicked:n}=e,{payments:a}=e,{showUsdColumn:r}=e;function l(f){n(f)}o.$$.on_mount.push(function(){n===void 0&&!("onRowClicked"in e||o.$$.bound[o.$$.props.onRowClicked])&&console.warn("<Payment_table> was created without expected prop 'onRowClicked'"),a===void 0&&!("payments"in e||o.$$.bound[o.$$.props.payments])&&console.warn("<Payment_table> was created without expected prop 'payments'"),r===void 0&&!("showUsdColumn"in e||o.$$.bound[o.$$.props.showUsdColumn])&&console.warn("<Payment_table> was created without expected prop 'showUsdColumn'")});const u=["onRowClicked","payments","showUsdColumn"];Object.keys(e).forEach(f=>{!~u.indexOf(f)&&f.slice(0,2)!=="$$"&&f!=="slot"&&console.warn(`<Payment_table> was created with unknown prop '${f}'`)});const c=f=>l(f);return o.$$set=f=>{"onRowClicked"in f&&t(3,n=f.onRowClicked),"payments"in f&&t(0,a=f.payments),"showUsdColumn"in f&&t(1,r=f.showUsdColumn)},o.$capture_state=()=>({NumberFormat:Re,onRowClicked:n,payments:a,showUsdColumn:r,rowClicked:l}),o.$inject_state=f=>{"onRowClicked"in f&&t(3,n=f.onRowClicked),"payments"in f&&t(0,a=f.payments),"showUsdColumn"in f&&t(1,r=f.showUsdColumn)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[a,r,l,n,c]}class un extends ve{constructor(e){super(e),ye(this,e,qr,zn,be,{onRowClicked:3,payments:0,showUsdColumn:1}),V("SvelteRegisterComponent",{component:this,tagName:"Payment_table",options:e,id:zn.name})}get onRowClicked(){throw new Error("<Payment_table>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set onRowClicked(e){throw new Error("<Payment_table>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get payments(){throw new Error("<Payment_table>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set payments(e){throw new Error("<Payment_table>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get showUsdColumn(){throw new Error("<Payment_table>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set showUsdColumn(e){throw new Error("<Payment_table>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Ge="src/lib/components/item/item-see/renders/util/pay-window.svelte";function Zn(o){let e,t,i,s,n,a,r,l,u,c,f,h,p,m,y,E,S,v,C=o[0]&&xn(o);const L={c:function(){e=w("div"),C&&C.c(),t=R(),i=w("input"),s=R(),n=w("input"),a=R(),r=w("input"),l=R(),u=w("div"),c=w("button"),f=j("Confirm"),p=R(),m=w("button"),y=j("Cancel"),this.h()},l:function(D){e=g(D,"DIV",{class:!0});var I=P(e);C&&C.l(I),t=B(I),i=g(I,"INPUT",{type:!0,class:!0,placeholder:!0}),s=B(I),n=g(I,"INPUT",{class:!0,type:!0,placeholder:!0}),a=B(I),r=g(I,"INPUT",{class:!0,type:!0,placeholder:!0}),l=B(I),u=g(I,"DIV",{class:!0});var T=P(u);c=g(T,"BUTTON",{class:!0});var O=P(c);f=A(O,"Confirm"),O.forEach(_),p=B(T),m=g(T,"BUTTON",{class:!0});var H=P(m);y=A(H,"Cancel"),H.forEach(_),T.forEach(_),I.forEach(_),this.h()},h:function(){b(i,"type","date"),b(i,"class","input"),b(i,"placeholder","Date"),k(i,Ge,37,2,926),b(n,"class","input"),b(n,"type","number"),b(n,"placeholder","Amount"),k(n,Ge,38,2,1018),b(r,"class","input"),b(r,"type","text"),b(r,"placeholder","Note"),k(r,Ge,39,2,1110),b(c,"class",h="button "+(o[1].loading?"is-loading":"")),k(c,Ge,41,3,1232),m.disabled=E=o[1].loading,b(m,"class","button is-danger"),k(m,Ge,44,3,1343),b(u,"class","pay-window__footer s-ENvK0nMNmFJL"),k(u,Ge,40,2,1196),b(e,"class","pay-window"),k(e,Ge,30,1,682)},m:function(D,I){M(D,e,I),C&&C.m(e,null),d(e,t),d(e,i),_e(i,o[1].payment.dateString),d(e,s),d(e,n),_e(n,o[1].payment.amount),d(e,a),d(e,r),_e(r,o[1].payment.note),d(e,l),d(e,u),d(u,c),d(c,f),d(u,p),d(u,m),d(m,y),S||(v=[F(i,"input",o[9]),F(n,"input",o[10]),F(r,"input",o[11]),F(c,"click",o[2],!1,!1,!1,!1),F(m,"click",o[3],!1,!1,!1,!1)],S=!0)},p:function(D,I){D[0]?C?C.p(D,I):(C=xn(D),C.c(),C.m(e,t)):C&&(C.d(1),C=null),I&2&&_e(i,D[1].payment.dateString),I&2&&xe(n.value)!==D[1].payment.amount&&_e(n,D[1].payment.amount),I&2&&r.value!==D[1].payment.note&&_e(r,D[1].payment.note),I&2&&h!==(h="button "+(D[1].loading?"is-loading":""))&&b(c,"class",h),I&2&&E!==(E=D[1].loading)&&Ho(m,"disabled",E)},d:function(D){D&&_(e),C&&C.d(),S=!1,$e(v)}};return V("SvelteRegisterBlock",{block:L,id:Zn.name,type:"if",source:"(30:0) {#if ui}",ctx:o}),L}function xn(o){let e,t,i,s,n,a,r,l;const u={c:function(){e=w("div"),t=w("div"),i=j("Editing Payment"),s=R(),n=w("button"),a=j("Delete"),this.h()},l:function(f){e=g(f,"DIV",{class:!0});var h=P(e);t=g(h,"DIV",{class:!0});var p=P(t);i=A(p,"Editing Payment"),p.forEach(_),s=B(h),n=g(h,"BUTTON",{class:!0});var m=P(n);a=A(m,"Delete"),m.forEach(_),h.forEach(_),this.h()},h:function(){b(t,"class","pay-window__editing-title"),k(t,Ge,33,4,777),b(n,"class","button"),k(n,Ge,34,4,842),b(e,"class","pay-window__editing-header s-ENvK0nMNmFJL"),k(e,Ge,32,3,732)},m:function(f,h){M(f,e,h),d(e,t),d(t,i),d(e,s),d(e,n),d(n,a),r||(l=F(n,"click",o[4],!1,!1,!1,!1),r=!0)},p:se,d:function(f){f&&_(e),r=!1,l()}};return V("SvelteRegisterBlock",{block:u,id:xn.name,type:"if",source:"(32:2) {#if editedPayment}",ctx:o}),u}function eo(o){let e,t=o[1]&&Zn(o);const i={c:function(){t&&t.c(),e=ce()},l:function(n){t&&t.l(n),e=ce()},m:function(n,a){t&&t.m(n,a),M(n,e,a)},p:function(n,[a]){n[1]?t?t.p(n,a):(t=Zn(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:se,o:se,d:function(n){t&&t.d(n),n&&_(e)}};return V("SvelteRegisterBlock",{block:i,id:eo.name,type:"component",source:"",ctx:o}),i}function zr(o,e,t){let{$$slots:i={},$$scope:s}=e;we("Pay_window",i,[]);let{defaultAmount:n=0}=e,{editedPayment:a}=e,{onConfirm:r}=e,{onCancel:l}=e,{onDelete:u}=e,c;Te(()=>{if(a)t(1,c={payment:{...a}});else{const C=new Date(Date.now()).toISOString().substring(0,10);t(1,c={payment:{dateString:C,amount:n}})}});function f(){t(1,c.loading=!0,c),r(c.payment)}function h(){l(c.payment)}function p(){u(a)}o.$$.on_mount.push(function(){a===void 0&&!("editedPayment"in e||o.$$.bound[o.$$.props.editedPayment])&&console.warn("<Pay_window> was created without expected prop 'editedPayment'"),r===void 0&&!("onConfirm"in e||o.$$.bound[o.$$.props.onConfirm])&&console.warn("<Pay_window> was created without expected prop 'onConfirm'"),l===void 0&&!("onCancel"in e||o.$$.bound[o.$$.props.onCancel])&&console.warn("<Pay_window> was created without expected prop 'onCancel'"),u===void 0&&!("onDelete"in e||o.$$.bound[o.$$.props.onDelete])&&console.warn("<Pay_window> was created without expected prop 'onDelete'")});const m=["defaultAmount","editedPayment","onConfirm","onCancel","onDelete"];Object.keys(e).forEach(v=>{!~m.indexOf(v)&&v.slice(0,2)!=="$$"&&v!=="slot"&&console.warn(`<Pay_window> was created with unknown prop '${v}'`)});function y(){c.payment.dateString=this.value,t(1,c)}function E(){c.payment.amount=xe(this.value),t(1,c)}function S(){c.payment.note=this.value,t(1,c)}return o.$$set=v=>{"defaultAmount"in v&&t(5,n=v.defaultAmount),"editedPayment"in v&&t(0,a=v.editedPayment),"onConfirm"in v&&t(6,r=v.onConfirm),"onCancel"in v&&t(7,l=v.onCancel),"onDelete"in v&&t(8,u=v.onDelete)},o.$capture_state=()=>({onMount:Te,defaultAmount:n,editedPayment:a,onConfirm:r,onCancel:l,onDelete:u,ui:c,confirmClicked:f,cancelClicked:h,deleteClicked:p}),o.$inject_state=v=>{"defaultAmount"in v&&t(5,n=v.defaultAmount),"editedPayment"in v&&t(0,a=v.editedPayment),"onConfirm"in v&&t(6,r=v.onConfirm),"onCancel"in v&&t(7,l=v.onCancel),"onDelete"in v&&t(8,u=v.onDelete),"ui"in v&&t(1,c=v.ui)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[a,c,f,h,p,n,r,l,u,y,E,S]}class fn extends ve{constructor(e){super(e),ye(this,e,zr,eo,be,{defaultAmount:5,editedPayment:0,onConfirm:6,onCancel:7,onDelete:8}),V("SvelteRegisterComponent",{component:this,tagName:"Pay_window",options:e,id:eo.name})}get defaultAmount(){throw new Error("<Pay_window>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set defaultAmount(e){throw new Error("<Pay_window>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get editedPayment(){throw new Error("<Pay_window>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set editedPayment(e){throw new Error("<Pay_window>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get onConfirm(){throw new Error("<Pay_window>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set onConfirm(e){throw new Error("<Pay_window>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get onCancel(){throw new Error("<Pay_window>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set onCancel(e){throw new Error("<Pay_window>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get onDelete(){throw new Error("<Pay_window>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set onDelete(e){throw new Error("<Pay_window>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}class qe{static getPayTable(e,t,i){if(e&&e.length){if(!i){const s=[...e],n=t==="ars";return n&&s.forEach(a=>{ht.arsToUsdOnDate(a.amount,a.dateString).then(r=>{a.usdAmount=r})}),{payments:s,show:!0,showUsdColumn:n}}return{...i,show:!0}}}static async addPayment(e,t,i,s){const n=!i.editedPayment;i.saving=!0;let a;n?a=await He.addPayment(e._id,t):a=await He.updatePayment(e._id,t),i.saving=!1,e.payments||(e.payments=[]),n?(e.payments.unshift(a),e.payments=e.payments.sort((r,l)=>r.date>l.date?-1:r.date<l.date?1:0),s&&s.payments&&(s.payments.unshift(a),s.payments=s.payments.sort((r,l)=>r.dateString>l.dateString?-1:r.dateString<l.dateString?1:0))):(i.editedPayment.amount=a.amount,i.editedPayment.dateString=a.dateString,i.editedPayment.note=a.note)}static getLastPayment(e){let t;for(const i of e){const s=new Date(i.dateString);(!t||s>t.date)&&(t={date:s,payment:i})}if(t)return t.payment}}const{console:Ci}=Ti,tn="src/lib/components/item/item-see/renders/debt-see-render.svelte";function to(o){let e,t,i=o[1].payInfo+"",s,n,a,r,l,u,c=o[1].payStatus&&no(o),f=o[1].payTable&&o[1].payTable.show&&oo(o),h=o[1].payWindow&&io(o),p=o[1].showPayButton&&ro(o);const m={c:function(){e=w("div"),t=w("div"),s=j(i),n=R(),c&&c.c(),a=R(),f&&f.c(),r=R(),h&&h.c(),l=R(),p&&p.c(),this.h()},l:function(E){e=g(E,"DIV",{class:!0});var S=P(e);t=g(S,"DIV",{});var v=P(t);s=A(v,i),v.forEach(_),n=B(S),c&&c.l(S),a=B(S),f&&f.l(S),r=B(S),h&&h.l(S),l=B(S),p&&p.l(S),S.forEach(_),this.h()},h:function(){k(t,tn,87,2,2704),b(e,"class","debt-see s-GThmGazl23rt"),k(e,tn,86,1,2679)},m:function(E,S){M(E,e,S),d(e,t),d(t,s),d(e,n),c&&c.m(e,null),d(e,a),f&&f.m(e,null),d(e,r),h&&h.m(e,null),d(e,l),p&&p.m(e,null),u=!0},p:function(E,S){(!u||S&2)&&i!==(i=E[1].payInfo+"")&&oe(s,i),E[1].payStatus?c?(c.p(E,S),S&2&&N(c,1)):(c=no(E),c.c(),N(c,1),c.m(e,a)):c&&(ue(),Y(c,1,1,()=>{c=null}),fe()),E[1].payTable&&E[1].payTable.show?f?(f.p(E,S),S&2&&N(f,1)):(f=oo(E),f.c(),N(f,1),f.m(e,r)):f&&(ue(),Y(f,1,1,()=>{f=null}),fe()),E[1].payWindow?h?(h.p(E,S),S&2&&N(h,1)):(h=io(E),h.c(),N(h,1),h.m(e,l)):h&&(ue(),Y(h,1,1,()=>{h=null}),fe()),E[1].showPayButton?p?p.p(E,S):(p=ro(E),p.c(),p.m(e,null)):p&&(p.d(1),p=null)},i:function(E){u||(N(c),N(f),N(h),u=!0)},o:function(E){Y(c),Y(f),Y(h),u=!1},d:function(E){E&&_(e),c&&c.d(),f&&f.d(),h&&h.d(),p&&p.d()}};return V("SvelteRegisterBlock",{block:m,id:to.name,type:"if",source:"(86:0) {#if ui != null}",ctx:o}),m}function no(o){let e,t=o[1].payStatus.statusString+"",i,s,n,a,r,l,u=o[0].currency+"",c,f;n=new Re({props:{value:o[1].payStatus.amount},$$inline:!0}),r=new Re({props:{value:o[1].payStatus.total},$$inline:!0});const h={c:function(){e=w("div"),i=j(t),s=R(),ee(n.$$.fragment),a=j(" of "),ee(r.$$.fragment),l=R(),c=j(u),this.h()},l:function(m){e=g(m,"DIV",{});var y=P(e);i=A(y,t),s=B(y),ie(n.$$.fragment,y),a=A(y," of "),ie(r.$$.fragment,y),l=B(y),c=A(y,u),y.forEach(_),this.h()},h:function(){k(e,tn,89,3,2752)},m:function(m,y){M(m,e,y),d(e,i),d(e,s),te(n,e,null),d(e,a),te(r,e,null),d(e,l),d(e,c),f=!0},p:function(m,y){(!f||y&2)&&t!==(t=m[1].payStatus.statusString+"")&&oe(i,t);const E={};y&2&&(E.value=m[1].payStatus.amount),n.$set(E);const S={};y&2&&(S.value=m[1].payStatus.total),r.$set(S),(!f||y&1)&&u!==(u=m[0].currency+"")&&oe(c,u)},i:function(m){f||(N(n.$$.fragment,m),N(r.$$.fragment,m),f=!0)},o:function(m){Y(n.$$.fragment,m),Y(r.$$.fragment,m),f=!1},d:function(m){m&&_(e),ne(n),ne(r)}};return V("SvelteRegisterBlock",{block:h,id:no.name,type:"if",source:"(89:2) {#if ui.payStatus}",ctx:o}),h}function oo(o){let e,t;e=new un({props:{payments:o[1].payTable.payments,showUsdColumn:o[1].payTable.showUsdColumn,onRowClicked:o[5]},$$inline:!0});const i={c:function(){ee(e.$$.fragment)},l:function(n){ie(e.$$.fragment,n)},m:function(n,a){te(e,n,a),t=!0},p:function(n,a){const r={};a&2&&(r.payments=n[1].payTable.payments),a&2&&(r.showUsdColumn=n[1].payTable.showUsdColumn),e.$set(r)},i:function(n){t||(N(e.$$.fragment,n),t=!0)},o:function(n){Y(e.$$.fragment,n),t=!1},d:function(n){ne(e,n)}};return V("SvelteRegisterBlock",{block:i,id:oo.name,type:"if",source:"(98:2) {#if ui.payTable && ui.payTable.show}",ctx:o}),i}function io(o){let e,t;e=new fn({props:{editedPayment:o[1].payWindow.editedPayment,defaultAmount:o[1].payWindow.defaultAmount,onConfirm:o[3],onCancel:o[2],onDelete:o[6]},$$inline:!0});const i={c:function(){ee(e.$$.fragment)},l:function(n){ie(e.$$.fragment,n)},m:function(n,a){te(e,n,a),t=!0},p:function(n,a){const r={};a&2&&(r.editedPayment=n[1].payWindow.editedPayment),a&2&&(r.defaultAmount=n[1].payWindow.defaultAmount),e.$set(r)},i:function(n){t||(N(e.$$.fragment,n),t=!0)},o:function(n){Y(e.$$.fragment,n),t=!1},d:function(n){ne(e,n)}};return V("SvelteRegisterBlock",{block:i,id:io.name,type:"if",source:"(107:2) {#if ui.payWindow}",ctx:o}),i}function ro(o){let e,t,i,s;const n={c:function(){e=w("button"),t=j("Register payment"),this.h()},l:function(r){e=g(r,"BUTTON",{class:!0});var l=P(e);t=A(l,"Register payment"),l.forEach(_),this.h()},h:function(){b(e,"class","button"),k(e,tn,118,3,3442)},m:function(r,l){M(r,e,l),d(e,t),i||(s=F(e,"click",o[4],!1,!1,!1,!1),i=!0)},p:se,d:function(r){r&&_(e),i=!1,s()}};return V("SvelteRegisterBlock",{block:n,id:ro.name,type:"if",source:"(118:2) {#if ui.showPayButton}",ctx:o}),n}function ao(o){let e,t,i=o[1]!=null&&to(o);const s={c:function(){i&&i.c(),e=ce()},l:function(a){i&&i.l(a),e=ce()},m:function(a,r){i&&i.m(a,r),M(a,e,r),t=!0},p:function(a,[r]){a[1]!=null?i?(i.p(a,r),r&2&&N(i,1)):(i=to(a),i.c(),N(i,1),i.m(e.parentNode,e)):i&&(ue(),Y(i,1,1,()=>{i=null}),fe())},i:function(a){t||(N(i),t=!0)},o:function(a){Y(i),t=!1},d:function(a){i&&i.d(a),a&&_(e)}};return V("SvelteRegisterBlock",{block:s,id:ao.name,type:"component",source:"",ctx:o}),s}function Zr(o,e,t){let{$$slots:i={},$$scope:s}=e;we("Debt_see_render",i,[]);let{data:n}=e;const a=Ze();let r={},l;Te(()=>{l=Ut.$channel.subscribe(S=>{S.type==="itemEdited"&&u()}),u()}),ui(()=>{l&&l.unsubscribe()});function u(){const S=ct.getPaidAmount(n),v=S>=n.amount;t(1,r.showPayButton=!v,r),t(1,r.payInfo=ct.calculatePayStateString(n),r),n.description&&n.description.length>0&&t(1,r.payInfo+=` ${n.description}`,r),t(1,r.payTable=qe.getPayTable(n.payments,n.currency,r.payTable),r),t(1,r.payStatus={isPaid:v,amount:n.theyPayMe&&v||v?S:n.amount-S,total:n.amount,statusString:ct.calculatePayStateString(n)},r)}function c(){t(1,r.payWindow=void 0,r),t(1,r.showPayButton=!0,r),r.payTable&&t(1,r.payTable.show=!0,r)}async function f(S){const v=r.payWindow;try{await qe.addPayment(n,S,v,r.payTable),u(),t(1,r.payWindow=void 0,r),h()}catch(C){console.error(C),v.saving=!1}}function h(){a("update",n)}function p(){t(1,r.showPayButton=!1,r),t(1,r.payWindow={defaultAmount:ct.getOwedAmountOrZero(n)},r)}function m(S){t(1,r.payTable.show=!1,r),t(1,r.payWindow={editedPayment:S,defaultAmount:S.amount},r),t(1,r.showPayButton=!1,r)}function y(){const S=r.payWindow.editedPayment;n.payments.splice(n.payments.indexOf(S),1),He.update(n._id,{payments:n.payments}),t(1,r.payWindow=void 0,r),u()}o.$$.on_mount.push(function(){n===void 0&&!("data"in e||o.$$.bound[o.$$.props.data])&&Ci.warn("<Debt_see_render> was created without expected prop 'data'")});const E=["data"];return Object.keys(e).forEach(S=>{!~E.indexOf(S)&&S.slice(0,2)!=="$$"&&S!=="slot"&&Ci.warn(`<Debt_see_render> was created with unknown prop '${S}'`)}),o.$$set=S=>{"data"in S&&t(0,n=S.data)},o.$capture_state=()=>({createEventDispatcher:Ze,onDestroy:ui,onMount:Te,DebtLogic:ct,NumberFormat:Re,ItemService:He,ModalChannel:Ut,PaymentTable:un,PayWindow:fn,PaymentLogic:qe,data:n,dispatch:a,ui:r,subscription:l,checkPayStatus:u,cancelPay:c,confirmPay:f,triggerOnUpdate:h,payClicked:p,paymentRowClicked:m,deleteCurrentPayment:y}),o.$inject_state=S=>{"data"in S&&t(0,n=S.data),"ui"in S&&t(1,r=S.ui),"subscription"in S&&(l=S.subscription)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[n,r,c,f,p,m,y]}class Ko extends ve{constructor(e){super(e),ye(this,e,Zr,ao,be,{data:0}),V("SvelteRegisterComponent",{component:this,tagName:"Debt_see_render",options:e,id:ao.name})}get data(){throw new Error("<Debt_see_render>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(e){throw new Error("<Debt_see_render>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const We="src/lib/components/item/item-see/renders/service-see-render.svelte";function Ii(o,e,t){const i=o.slice();return i[13]=e[t],i}function so(o){let e,t,i,s,n,a,r=o[1].tabs.show&&co(o),l=o[1].tabs.activeTab==="main"&&uo(o),u=o[1].tabs.activeTab==="payments"&&o[1].payTable&&o[1].payTable.show&&ho(o),c=o[1].payWindow&&po(o),f=o[1].showPayButton&&_o(o);const h={c:function(){e=w("div"),r&&r.c(),t=R(),l&&l.c(),i=R(),u&&u.c(),s=R(),c&&c.c(),n=R(),f&&f.c(),this.h()},l:function(m){e=g(m,"DIV",{class:!0});var y=P(e);r&&r.l(y),t=B(y),l&&l.l(y),i=B(y),u&&u.l(y),s=B(y),c&&c.l(y),n=B(y),f&&f.l(y),y.forEach(_),this.h()},h:function(){b(e,"class","service-see s-_2XEI2wEXzOE"),k(e,We,88,1,2611)},m:function(m,y){M(m,e,y),r&&r.m(e,null),d(e,t),l&&l.m(e,null),d(e,i),u&&u.m(e,null),d(e,s),c&&c.m(e,null),d(e,n),f&&f.m(e,null),a=!0},p:function(m,y){m[1].tabs.show?r?r.p(m,y):(r=co(m),r.c(),r.m(e,t)):r&&(r.d(1),r=null),m[1].tabs.activeTab==="main"?l?l.p(m,y):(l=uo(m),l.c(),l.m(e,i)):l&&(l.d(1),l=null),m[1].tabs.activeTab==="payments"&&m[1].payTable&&m[1].payTable.show?u?(u.p(m,y),y&2&&N(u,1)):(u=ho(m),u.c(),N(u,1),u.m(e,s)):u&&(ue(),Y(u,1,1,()=>{u=null}),fe()),m[1].payWindow?c?(c.p(m,y),y&2&&N(c,1)):(c=po(m),c.c(),N(c,1),c.m(e,n)):c&&(ue(),Y(c,1,1,()=>{c=null}),fe()),m[1].showPayButton?f?f.p(m,y):(f=_o(m),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i:function(m){a||(N(u),N(c),a=!0)},o:function(m){Y(u),Y(c),a=!1},d:function(m){m&&_(e),r&&r.d(),l&&l.d(),u&&u.d(),c&&c.d(),f&&f.d()}};return V("SvelteRegisterBlock",{block:h,id:so.name,type:"if",source:"(88:0) {#if ui}",ctx:o}),h}function co(o){let e,t,i=o[1].tabs.list;Me(i);let s=[];for(let a=0;a<i.length;a+=1)s[a]=lo(Ii(o,i,a));const n={c:function(){e=w("div"),t=w("ul");for(let r=0;r<s.length;r+=1)s[r].c();this.h()},l:function(r){e=g(r,"DIV",{class:!0});var l=P(e);t=g(l,"UL",{});var u=P(t);for(let c=0;c<s.length;c+=1)s[c].l(u);u.forEach(_),l.forEach(_),this.h()},h:function(){k(t,We,91,4,2693),b(e,"class","see-tabs tabs"),k(e,We,90,3,2661)},m:function(r,l){M(r,e,l),d(e,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null)},p:function(r,l){if(l&130){i=r[1].tabs.list,Me(i);let u;for(u=0;u<i.length;u+=1){const c=Ii(r,i,u);s[u]?s[u].p(c,l):(s[u]=lo(c),s[u].c(),s[u].m(t,null))}for(;u<s.length;u+=1)s[u].d(1);s.length=i.length}},d:function(r){r&&_(e),Yo(s,r)}};return V("SvelteRegisterBlock",{block:n,id:co.name,type:"if",source:"(90:2) {#if ui.tabs.show}",ctx:o}),n}function lo(o){let e,t,i=o[13].title+"",s,n,a,r,l;function u(){return o[9](o[13])}const c={c:function(){e=w("li"),t=w("a"),s=j(i),n=R(),this.h()},l:function(h){e=g(h,"LI",{class:!0});var p=P(e);t=g(p,"A",{});var m=P(t);s=A(m,i),m.forEach(_),n=B(p),p.forEach(_),this.h()},h:function(){k(t,We,96,7,2904),b(e,"class",a=o[13].active?"is-active":""),k(e,We,93,6,2737)},m:function(h,p){M(h,e,p),d(e,t),d(t,s),d(e,n),r||(l=F(t,"click",u,!1,!1,!1,!1),r=!0)},p:function(h,p){o=h,p&2&&i!==(i=o[13].title+"")&&oe(s,i),p&2&&a!==(a=o[13].active?"is-active":"")&&b(e,"class",a)},d:function(h){h&&_(e),r=!1,l()}};return V("SvelteRegisterBlock",{block:c,id:lo.name,type:"each",source:"(93:5) {#each ui.tabs.list as tab}",ctx:o}),c}function uo(o){let e,t,i=o[0].name+"",s,n,a,r=o[0].cost+"",l,u,c=o[0].currency+"",f,h,p,m=o[1].lastPayment&&fo(o),y=o[1].showChangePaidDateButton&&mo(o);const E={c:function(){e=w("div"),t=w("div"),s=j(i),n=R(),a=w("div"),l=j(r),u=R(),f=j(c),h=R(),m&&m.c(),p=R(),y&&y.c(),this.h()},l:function(v){e=g(v,"DIV",{class:!0});var C=P(e);t=g(C,"DIV",{});var L=P(t);s=A(L,i),L.forEach(_),n=B(C),a=g(C,"DIV",{});var U=P(a);l=A(U,r),u=B(U),f=A(U,c),U.forEach(_),h=B(C),m&&m.l(C),p=B(C),y&&y.l(C),C.forEach(_),this.h()},h:function(){k(t,We,106,4,3102),k(a,We,107,4,3129),b(e,"class","service-see__body s-_2XEI2wEXzOE"),k(e,We,105,3,3066)},m:function(v,C){M(v,e,C),d(e,t),d(t,s),d(e,n),d(e,a),d(a,l),d(a,u),d(a,f),d(e,h),m&&m.m(e,null),d(e,p),y&&y.m(e,null)},p:function(v,C){C&1&&i!==(i=v[0].name+"")&&oe(s,i),C&1&&r!==(r=v[0].cost+"")&&oe(l,r),C&1&&c!==(c=v[0].currency+"")&&oe(f,c),v[1].lastPayment?m?m.p(v,C):(m=fo(v),m.c(),m.m(e,p)):m&&(m.d(1),m=null),v[1].showChangePaidDateButton?y?y.p(v,C):(y=mo(v),y.c(),y.m(e,null)):y&&(y.d(1),y=null)},d:function(v){v&&_(e),m&&m.d(),y&&y.d()}};return V("SvelteRegisterBlock",{block:E,id:uo.name,type:"if",source:"(105:2) {#if ui.tabs.activeTab === 'main'}",ctx:o}),E}function fo(o){let e,t,i,s,n,a=o[1].lastPayment.dateString+"",r;const l={c:function(){e=w("div"),t=w("div"),i=j("Last pay date:"),s=R(),n=w("div"),r=j(a),this.h()},l:function(c){e=g(c,"DIV",{class:!0});var f=P(e);t=g(f,"DIV",{class:!0});var h=P(t);i=A(h,"Last pay date:"),h.forEach(_),s=B(f),n=g(f,"DIV",{class:!0});var p=P(n);r=A(p,a),p.forEach(_),f.forEach(_),this.h()},h:function(){b(t,"class","value-label"),k(t,We,110,6,3234),b(n,"class","value"),k(n,We,111,6,3286),b(e,"class","label-and-value s-_2XEI2wEXzOE"),k(e,We,109,5,3198)},m:function(c,f){M(c,e,f),d(e,t),d(t,i),d(e,s),d(e,n),d(n,r)},p:function(c,f){f&2&&a!==(a=c[1].lastPayment.dateString+"")&&oe(r,a)},d:function(c){c&&_(e)}};return V("SvelteRegisterBlock",{block:l,id:fo.name,type:"if",source:"(109:4) {#if ui.lastPayment}",ctx:o}),l}function mo(o){let e,t,i,s;const n={c:function(){e=w("button"),t=j("Change Date"),this.h()},l:function(r){e=g(r,"BUTTON",{class:!0});var l=P(e);t=A(l,"Change Date"),l.forEach(_),this.h()},h:function(){b(e,"class","button"),k(e,We,115,5,3404)},m:function(r,l){M(r,e,l),d(e,t),i||(s=F(e,"click",o[3],!1,!1,!1,!1),i=!0)},p:se,d:function(r){r&&_(e),i=!1,s()}};return V("SvelteRegisterBlock",{block:n,id:mo.name,type:"if",source:"(115:4) {#if ui.showChangePaidDateButton}",ctx:o}),n}function ho(o){let e,t;e=new un({props:{payments:o[1].payTable.payments,showUsdColumn:o[1].payTable.showUsdColumn,onRowClicked:o[8]},$$inline:!0});const i={c:function(){ee(e.$$.fragment)},l:function(n){ie(e.$$.fragment,n)},m:function(n,a){te(e,n,a),t=!0},p:function(n,a){const r={};a&2&&(r.payments=n[1].payTable.payments),a&2&&(r.showUsdColumn=n[1].payTable.showUsdColumn),e.$set(r)},i:function(n){t||(N(e.$$.fragment,n),t=!0)},o:function(n){Y(e.$$.fragment,n),t=!1},d:function(n){ne(e,n)}};return V("SvelteRegisterBlock",{block:i,id:ho.name,type:"if",source:"(122:2) {#if ui.tabs.activeTab === 'payments' && ui.payTable && ui.payTable.show}",ctx:o}),i}function po(o){let e,t;e=new fn({props:{editedPayment:o[1].payWindow.editedPayment,defaultAmount:o[1].payWindow.defaultAmount,onConfirm:o[4],onCancel:o[5],onDelete:o[6]},$$inline:!0});const i={c:function(){ee(e.$$.fragment)},l:function(n){ie(e.$$.fragment,n)},m:function(n,a){te(e,n,a),t=!0},p:function(n,a){const r={};a&2&&(r.editedPayment=n[1].payWindow.editedPayment),a&2&&(r.defaultAmount=n[1].payWindow.defaultAmount),e.$set(r)},i:function(n){t||(N(e.$$.fragment,n),t=!0)},o:function(n){Y(e.$$.fragment,n),t=!1},d:function(n){ne(e,n)}};return V("SvelteRegisterBlock",{block:i,id:po.name,type:"if",source:"(130:2) {#if ui.payWindow}",ctx:o}),i}function _o(o){let e,t,i,s;const n={c:function(){e=w("button"),t=j("Register Payment"),this.h()},l:function(r){e=g(r,"BUTTON",{class:!0});var l=P(e);t=A(l,"Register Payment"),l.forEach(_),this.h()},h:function(){b(e,"class","button"),k(e,We,140,3,4010)},m:function(r,l){M(r,e,l),d(e,t),i||(s=F(e,"click",o[2],!1,!1,!1,!1),i=!0)},p:se,d:function(r){r&&_(e),i=!1,s()}};return V("SvelteRegisterBlock",{block:n,id:_o.name,type:"if",source:"(140:2) {#if ui.showPayButton}",ctx:o}),n}function vo(o){let e,t,i=o[1]&&so(o);const s={c:function(){i&&i.c(),e=ce()},l:function(a){i&&i.l(a),e=ce()},m:function(a,r){i&&i.m(a,r),M(a,e,r),t=!0},p:function(a,[r]){a[1]?i?(i.p(a,r),r&2&&N(i,1)):(i=so(a),i.c(),N(i,1),i.m(e.parentNode,e)):i&&(ue(),Y(i,1,1,()=>{i=null}),fe())},i:function(a){t||(N(i),t=!0)},o:function(a){Y(i),t=!1},d:function(a){i&&i.d(a),a&&_(e)}};return V("SvelteRegisterBlock",{block:s,id:vo.name,type:"component",source:"",ctx:o}),s}function xr(o,e,t){let{$$slots:i={},$$scope:s}=e;we("Service_see_render",i,[]);let{data:n}=e;const a=Ze();let r={tabs:{list:[{title:"Service",active:!0,type:"main"},{title:"Payments",type:"payments"}],activeTab:"main"}};Te(()=>{l()});function l(){if(n.isManual){if(n.payments){t(1,r.lastPayment=qe.getLastPayment(n.payments),r);const C=pt.wasThisMonthPaid(n);t(1,r.showPayButton=!C,r),t(1,r.showChangePaidDateButton=C,r)}else t(1,r.showPayButton=!0,r);t(1,r.payTable=qe.getPayTable(n.payments,n.currency,r.payTable),r),t(1,r.tabs.show=n.payments&&n.payments.length>1,r)}}function u(){t(1,r.showPayButton=!1,r),t(1,r.payWindow={defaultAmount:n.cost},r)}function c(){t(1,r.showChangePaidDateButton=!1,r);const C=qe.getLastPayment(n.payments);t(1,r.payWindow={editedPayment:C,defaultAmount:C.amount},r)}async function f(C){await qe.addPayment(n,C,r.payWindow,r.payTable),t(1,r.payWindow=void 0,r),t(1,r.lastPayment=qe.getLastPayment(n.payments),r),l(),h()}function h(){a("update",n)}function p(){t(1,r.payWindow=void 0,r),t(1,r.showPayButton=!0,r),r.payTable&&t(1,r.payTable.show=!0,r)}function m(){const C=r.payWindow.editedPayment;n.payments.splice(n.payments.indexOf(C),1),He.update(n._id,{payments:n.payments}),t(1,r.payWindow=void 0,r),l()}function y(C){r.tabs.list.forEach(L=>L.active=!1),C.active=!0,t(1,r.tabs.activeTab=C.type,r)}function E(C){t(1,r.payTable.show=!1,r),t(1,r.payWindow={editedPayment:C,defaultAmount:C.amount},r),t(1,r.showPayButton=!1,r)}o.$$.on_mount.push(function(){n===void 0&&!("data"in e||o.$$.bound[o.$$.props.data])&&console.warn("<Service_see_render> was created without expected prop 'data'")});const S=["data"];Object.keys(e).forEach(C=>{!~S.indexOf(C)&&C.slice(0,2)!=="$$"&&C!=="slot"&&console.warn(`<Service_see_render> was created with unknown prop '${C}'`)});const v=C=>y(C);return o.$$set=C=>{"data"in C&&t(0,n=C.data)},o.$capture_state=()=>({createEventDispatcher:Ze,onMount:Te,ServiceItem:pt,ItemService:He,PaymentTable:un,PayWindow:fn,PaymentLogic:qe,data:n,dispatch:a,ui:r,checkPayStatus:l,registerPaymentClicked:u,changePaidDateClicked:c,confirmPay:f,triggerOnUpdate:h,cancelPay:p,deletePayment:m,tabClicked:y,paymentRowClicked:E}),o.$inject_state=C=>{"data"in C&&t(0,n=C.data),"ui"in C&&t(1,r=C.ui)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[n,r,u,c,f,p,m,y,E,v]}class Jo extends ve{constructor(e){super(e),ye(this,e,xr,vo,be,{data:0}),V("SvelteRegisterComponent",{component:this,tagName:"Service_see_render",options:e,id:vo.name})}get data(){throw new Error("<Service_see_render>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(e){throw new Error("<Service_see_render>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Rt="src/lib/components/item/item-see/renders/currency-see-render.svelte";function yo(o){let e,t,i,s,n=o[0].currency+"",a,r,l,u,c,f=o[0].currency+"",h,p,m,y,E;u=new Re({props:{value:o[0].total},$$inline:!0});const S={c:function(){e=w("div"),t=w("div"),i=j("This is the total of your accounts in "),s=w("strong"),a=j(n),r=R(),l=w("div"),ee(u.$$.fragment),c=R(),h=j(f),p=R(),m=w("div"),y=j("You can delete this item if you want to delete the currency"),this.h()},l:function(C){e=g(C,"DIV",{class:!0});var L=P(e);t=g(L,"DIV",{});var U=P(t);i=A(U,"This is the total of your accounts in "),s=g(U,"STRONG",{});var D=P(s);a=A(D,n),D.forEach(_),U.forEach(_),r=B(L),l=g(L,"DIV",{class:!0});var I=P(l);ie(u.$$.fragment,I),c=B(I),h=A(I,f),I.forEach(_),p=B(L),m=g(L,"DIV",{});var T=P(m);y=A(T,"You can delete this item if you want to delete the currency"),T.forEach(_),L.forEach(_),this.h()},h:function(){k(s,Rt,6,45,204),k(t,Rt,6,2,161),b(l,"class","currency-total s-LPefd93ANb2D"),k(l,Rt,7,2,245),k(m,Rt,11,2,343),b(e,"class","currency-see s-LPefd93ANb2D"),k(e,Rt,5,1,132)},m:function(C,L){M(C,e,L),d(e,t),d(t,i),d(t,s),d(s,a),d(e,r),d(e,l),te(u,l,null),d(l,c),d(l,h),d(e,p),d(e,m),d(m,y),E=!0},p:function(C,L){(!E||L&1)&&n!==(n=C[0].currency+"")&&oe(a,n);const U={};L&1&&(U.value=C[0].total),u.$set(U),(!E||L&1)&&f!==(f=C[0].currency+"")&&oe(h,f)},i:function(C){E||(N(u.$$.fragment,C),E=!0)},o:function(C){Y(u.$$.fragment,C),E=!1},d:function(C){C&&_(e),ne(u)}};return V("SvelteRegisterBlock",{block:S,id:yo.name,type:"if",source:"(5:0) {#if data != null}",ctx:o}),S}function bo(o){let e,t,i=o[0]!=null&&yo(o);const s={c:function(){i&&i.c(),e=ce()},l:function(a){i&&i.l(a),e=ce()},m:function(a,r){i&&i.m(a,r),M(a,e,r),t=!0},p:function(a,[r]){a[0]!=null?i?(i.p(a,r),r&1&&N(i,1)):(i=yo(a),i.c(),N(i,1),i.m(e.parentNode,e)):i&&(ue(),Y(i,1,1,()=>{i=null}),fe())},i:function(a){t||(N(i),t=!0)},o:function(a){Y(i),t=!1},d:function(a){i&&i.d(a),a&&_(e)}};return V("SvelteRegisterBlock",{block:s,id:bo.name,type:"component",source:"",ctx:o}),s}function ea(o,e,t){let{$$slots:i={},$$scope:s}=e;we("Currency_see_render",i,[]);let{data:n}=e;o.$$.on_mount.push(function(){n===void 0&&!("data"in e||o.$$.bound[o.$$.props.data])&&console.warn("<Currency_see_render> was created without expected prop 'data'")});const a=["data"];return Object.keys(e).forEach(r=>{!~a.indexOf(r)&&r.slice(0,2)!=="$$"&&r!=="slot"&&console.warn(`<Currency_see_render> was created with unknown prop '${r}'`)}),o.$$set=r=>{"data"in r&&t(0,n=r.data)},o.$capture_state=()=>({NumberFormat:Re,data:n}),o.$inject_state=r=>{"data"in r&&t(0,n=r.data)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[n]}class Qo extends ve{constructor(e){super(e),ye(this,e,ea,bo,be,{data:0}),V("SvelteRegisterComponent",{component:this,tagName:"Currency_see_render",options:e,id:bo.name})}get data(){throw new Error("<Currency_see_render>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(e){throw new Error("<Currency_see_render>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Ft="src/lib/components/item/item-edit/renders/currency-edit-render.svelte";function wo(o){let e,t,i,s,n,a,r,l,u,c;const f={c:function(){e=w("div"),t=w("label"),i=j("Abbreviation"),s=R(),n=w("input"),a=R(),r=w("div"),l=j("The total will be calculated automatically with the sum of the account balances"),this.h()},l:function(p){e=g(p,"DIV",{class:!0});var m=P(e);t=g(m,"LABEL",{for:!0});var y=P(t);i=A(y,"Abbreviation"),y.forEach(_),s=B(m),n=g(m,"INPUT",{id:!0,class:!0}),m.forEach(_),a=B(p),r=g(p,"DIV",{class:!0});var E=P(r);l=A(E,"The total will be calculated automatically with the sum of the account balances"),E.forEach(_),this.h()},h:function(){b(t,"for","abbreviation-input"),k(t,Ft,4,1,79),b(n,"id","abbreviation-input"),b(n,"class","input-stretch"),k(n,Ft,5,1,133),b(e,"class","label-and-input"),k(e,Ft,3,0,48),b(r,"class","currency-info s-a1GSFiUMsN2s"),k(r,Ft,8,0,226)},m:function(p,m){M(p,e,m),d(e,t),d(t,i),d(e,s),d(e,n),_e(n,o[0].currency),M(p,a,m),M(p,r,m),d(r,l),u||(c=F(n,"input",o[1]),u=!0)},p:function(p,[m]){m&1&&n.value!==p[0].currency&&_e(n,p[0].currency)},i:se,o:se,d:function(p){p&&_(e),p&&_(a),p&&_(r),u=!1,c()}};return V("SvelteRegisterBlock",{block:f,id:wo.name,type:"component",source:"",ctx:o}),f}function ta(o,e,t){let{$$slots:i={},$$scope:s}=e;we("Currency_edit_render",i,[]);let{config:n}=e;o.$$.on_mount.push(function(){n===void 0&&!("config"in e||o.$$.bound[o.$$.props.config])&&console.warn("<Currency_edit_render> was created without expected prop 'config'")});const a=["config"];Object.keys(e).forEach(l=>{!~a.indexOf(l)&&l.slice(0,2)!=="$$"&&l!=="slot"&&console.warn(`<Currency_edit_render> was created with unknown prop '${l}'`)});function r(){n.currency=this.value,t(0,n)}return o.$$set=l=>{"config"in l&&t(0,n=l.config)},o.$capture_state=()=>({config:n}),o.$inject_state=l=>{"config"in l&&t(0,n=l.config)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[n,r]}class na extends ve{constructor(e){super(e),ye(this,e,ta,wo,be,{config:0}),V("SvelteRegisterComponent",{component:this,tagName:"Currency_edit_render",options:e,id:wo.name})}get config(){throw new Error("<Currency_edit_render>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set config(e){throw new Error("<Currency_edit_render>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const nn={account:"Create an Account to keep track of the balance of an specific bank account or wallet you want to track.",service:"Create a Service to keep track of something you need to pay every month. We will help you identify when was your last payment and the services you need to pay before the month ends.",debt:"Create a Debt to keep track of an amount someone owes you or that you owe to someone. You can mark it as paid when is time.",currency:"Create a Currency to organize your accounts by linking them to it, then you will be able to see the sum of all the accounts in the same currency."};class dn{static getTypeString(){return"account"}static getListRender(){return Yi}static getEditRender(){return en}static getSeeRender(){return ln}static isItemOnQuery(e,t){return!1}}class jt extends dn{static getTypeString(){return"account"}static getListRender(){return Yi}static getEditRender(){return en}static getSeeRender(){return ln}static isItemOnQuery(e,t){const i=t.toLowerCase(),s=e;return!!(s.name.toLowerCase().includes(i)||s.balance.toString().includes(t)||s.currency.toLowerCase().includes(t))}}class pt extends dn{static getTypeString(){return"service"}static getListRender(){return $r}static getEditRender(){return Or}static getSeeRender(){return Jo}static isItemOnQuery(e,t){const i=t.toLowerCase(),s=e;return!!(s.name.toLowerCase().includes(i)||s.cost.toString().includes(t)||s.currency.toLowerCase().includes(t)||s.isManual&&t==="manual"||!s.isManual&&i==="auto")}static wasThisMonthPaid(e){if(!e.payments)return!1;const t=qe.getLastPayment(e.payments);if(t!=null){const i=new Date,s=new Date(t.dateString.substring(0,10));return s!=null&&s.getMonth()===i.getMonth()&&s.getFullYear()===i.getFullYear()}return!1}}class st extends dn{static getTypeString(){return"currency"}static getListRender(){return Jr}static getEditRender(){return na}static getSeeRender(){return Qo}static calculate(e,t){t.total=0;for(let i=0;i<e.length;i++){const s=e[i];if(s.type===jt.getTypeString()){const n=s;n.currency===t.currency&&(t.total+=n.balance)}}}}class go extends dn{static getTypeString(){return"debt"}static getListRender(){return Hr}static getEditRender(){return Vr}static getSeeRender(){return Ko}static isItemOnQuery(e,t){const i=t.toLowerCase(),s=e;return!!(s.withWho.toLowerCase().includes(i)||s.amount.toString().includes(t)||s.currency.toLowerCase().includes(t))}}class ze{static getClassByTypeString(e){const t=this.itemClasses.find(i=>i.getTypeString()===e);if(t!=null)return t}static isItemOnQuery(e,t){var s;const i=t.toLowerCase();return e._id.includes(t)||e.type.toLowerCase().includes(i)?!0:(s=this.getClassByTypeString(e.type))==null?void 0:s.isItemOnQuery(e,t)}static getItemClasses(){return this.itemClasses}}ot(ze,"itemClasses",[jt,pt,go,st]);const mt="src/lib/components/item/item-edit/item-edit.svelte";function Xt(o,e,t){const i=o.slice();return i[6]=e[t],i}function ko(o){let e,t,i,s,n,a,r,l,u=[],c=new Map,f,h,p,m,y,E=!o[0]._id&&o[0].type&&Eo(o),S=o[2].typeOptions;Me(S);const v=D=>D[6];ut(o,S,Xt,v);for(let D=0;D<S.length;D+=1){let I=Xt(o,S,D),T=v(I);c.set(T,u[D]=So(T,I))}var C=o[1];function L(D){return{props:{config:D[0]},$$inline:!0}}C&&(h=Pt(C,L(o)));const U={c:function(){e=w("div"),E&&E.c(),t=R(),i=w("div"),s=w("label"),n=j("Type"),a=R(),r=w("div"),l=w("select");for(let I=0;I<u.length;I+=1)u[I].c();f=R(),h&&ee(h.$$.fragment),this.h()},l:function(I){e=g(I,"DIV",{class:!0});var T=P(e);E&&E.l(T),t=B(T),i=g(T,"DIV",{class:!0});var O=P(i);s=g(O,"LABEL",{for:!0});var H=P(s);n=A(H,"Type"),H.forEach(_),a=B(O),r=g(O,"DIV",{class:!0});var $=P(r);l=g($,"SELECT",{id:!0,class:!0});var Q=P(l);for(let G=0;G<u.length;G+=1)u[G].l(Q);Q.forEach(_),$.forEach(_),O.forEach(_),f=B(T),h&&ie(h.$$.fragment,T),T.forEach(_),this.h()},h:function(){b(s,"for","type-input"),k(s,mt,29,3,877),b(l,"id","type-input"),b(l,"class","w-100"),o[0].type===void 0&&Lo(()=>o[4].call(l)),k(l,mt,31,4,956),b(r,"class","select input-stretch"),k(r,mt,30,3,917),b(i,"class","label-and-input clickable-height"),k(i,mt,28,2,827),b(e,"class","form"),k(e,mt,24,1,712)},m:function(I,T){M(I,e,T),E&&E.m(e,null),d(e,t),d(e,i),d(i,s),d(s,n),d(i,a),d(i,r),d(r,l);for(let O=0;O<u.length;O+=1)u[O]&&u[O].m(l,null);gt(l,o[0].type),d(e,f),h&&te(h,e,null),p=!0,m||(y=[F(l,"change",o[4]),F(l,"change",o[3],!1,!1,!1,!1)],m=!0)},p:function(I,T){!I[0]._id&&I[0].type?E?E.p(I,T):(E=Eo(I),E.c(),E.m(e,t)):E&&(E.d(1),E=null),T&4&&(S=I[2].typeOptions,Me(S),ut(I,S,Xt,v),u=rn(u,T,v,1,I,S,c,l,_r,So,null,Xt)),T&5&&gt(l,I[0].type);const O={};if(T&1&&(O.config=I[0]),T&2&&C!==(C=I[1])){if(h){ue();const H=h;Y(H.$$.fragment,1,0,()=>{ne(H,1)}),fe()}C?(h=Pt(C,L(I)),ee(h.$$.fragment),N(h.$$.fragment,1),te(h,e,null)):h=null}else C&&h.$set(O)},i:function(I){p||(h&&N(h.$$.fragment,I),p=!0)},o:function(I){h&&Y(h.$$.fragment,I),p=!1},d:function(I){I&&_(e),E&&E.d();for(let T=0;T<u.length;T+=1)u[T].d();h&&ne(h),m=!1,$e(y)}};return V("SvelteRegisterBlock",{block:U,id:ko.name,type:"if",source:"(24:0) {#if ui != null}",ctx:o}),U}function Eo(o){let e,t=o[2].help[o[0].type]+"",i;const s={c:function(){e=w("div"),i=j(t),this.h()},l:function(a){e=g(a,"DIV",{class:!0});var r=P(e);i=A(r,t),r.forEach(_),this.h()},h:function(){b(e,"class","help-string s-vxhKHE1vtjXt"),k(e,mt,26,3,765)},m:function(a,r){M(a,e,r),d(e,i)},p:function(a,r){r&5&&t!==(t=a[2].help[a[0].type]+"")&&oe(i,t)},d:function(a){a&&_(e)}};return V("SvelteRegisterBlock",{block:s,id:Eo.name,type:"if",source:"(26:2) {#if !data._id && data.type}",ctx:o}),s}function So(o,e){let t,i=e[6]+"",s,n;const a={key:o,first:null,c:function(){t=w("option"),s=j(i),this.h()},l:function(l){t=g(l,"OPTION",{});var u=P(t);s=A(u,i),u.forEach(_),this.h()},h:function(){t.__value=n=e[6],t.value=t.__value,k(t,mt,33,6,1101),this.first=t},m:function(l,u){M(l,t,u),d(t,s)},p:function(l,u){e=l,u&4&&i!==(i=e[6]+"")&&oe(s,i),u&4&&n!==(n=e[6])&&(Ho(t,"__value",n),t.value=t.__value)},d:function(l){l&&_(t)}};return V("SvelteRegisterBlock",{block:a,id:So.name,type:"each",source:"(33:5) {#each ui.typeOptions as option (option)}",ctx:e}),a}function Po(o){let e,t,i=o[2]!=null&&ko(o);const s={c:function(){i&&i.c(),e=ce()},l:function(a){i&&i.l(a),e=ce()},m:function(a,r){i&&i.m(a,r),M(a,e,r),t=!0},p:function(a,[r]){a[2]!=null?i?(i.p(a,r),r&4&&N(i,1)):(i=ko(a),i.c(),N(i,1),i.m(e.parentNode,e)):i&&(ue(),Y(i,1,1,()=>{i=null}),fe())},i:function(a){t||(N(i),t=!0)},o:function(a){Y(i),t=!1},d:function(a){i&&i.d(a),a&&_(e)}};return V("SvelteRegisterBlock",{block:s,id:Po.name,type:"component",source:"",ctx:o}),s}function oa(o,e,t){let{$$slots:i={},$$scope:s}=e;we("Item_edit",i,[]);let{data:n}=e,a=en,r;Te(()=>{t(2,r={typeOptions:ze.getItemClasses().map(h=>h.getTypeString()),help:nn})});function l(h){const p=h.target.value;t(1,a=u(p)),t(0,n.type=p,n)}function u(h){return ze.getClassByTypeString(h).getEditRender()}o.$$.on_mount.push(function(){n===void 0&&!("data"in e||o.$$.bound[o.$$.props.data])&&console.warn("<Item_edit> was created without expected prop 'data'")});const c=["data"];Object.keys(e).forEach(h=>{!~c.indexOf(h)&&h.slice(0,2)!=="$$"&&h!=="slot"&&console.warn(`<Item_edit> was created with unknown prop '${h}'`)});function f(){n.type=Mo(this),t(0,n),t(2,r)}return o.$$set=h=>{"data"in h&&t(0,n=h.data)},o.$capture_state=()=>({onMount:Te,ItemHelpText:nn,ItemHelper:ze,AccountConfig:en,data:n,currentComponent:a,ui:r,typeSelectChanged:l,getEditRenderer:u}),o.$inject_state=h=>{"data"in h&&t(0,n=h.data),"currentComponent"in h&&t(1,a=h.currentComponent),"ui"in h&&t(2,r=h.ui)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),o.$$.update=()=>{o.$$.dirty&1&&t(1,a=u(n.type))},[n,a,r,l,f]}class Fo extends ve{constructor(e){super(e),ye(this,e,oa,Po,be,{data:0}),V("SvelteRegisterComponent",{component:this,tagName:"Item_edit",options:e,id:Po.name})}get data(){throw new Error("<Item_edit>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(e){throw new Error("<Item_edit>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const ia="src/lib/components/item/item-list/item-list.svelte";function Co(o){let e,t,i,s,n;var a=o[1];function r(u){return{props:{data:u[0]},$$inline:!0}}a&&(t=Pt(a,r(o)));const l={c:function(){e=w("button"),t&&ee(t.$$.fragment),this.h()},l:function(c){e=g(c,"BUTTON",{class:!0});var f=P(e);t&&ie(t.$$.fragment,f),f.forEach(_),this.h()},h:function(){b(e,"class","square white-button"),k(e,ia,10,0,333)},m:function(c,f){M(c,e,f),t&&te(t,e,null),i=!0,s||(n=F(e,"click",o[2],!1,!1,!1,!1),s=!0)},p:function(c,[f]){const h={};if(f&1&&(h.data=c[0]),a!==(a=c[1])){if(t){ue();const p=t;Y(p.$$.fragment,1,0,()=>{ne(p,1)}),fe()}a?(t=Pt(a,r(c)),ee(t.$$.fragment),N(t.$$.fragment,1),te(t,e,null)):t=null}else a&&t.$set(h)},i:function(c){i||(t&&N(t.$$.fragment,c),i=!0)},o:function(c){t&&Y(t.$$.fragment,c),i=!1},d:function(c){c&&_(e),t&&ne(t),s=!1,n()}};return V("SvelteRegisterBlock",{block:l,id:Co.name,type:"component",source:"",ctx:o}),l}function ra(o,e,t){let{$$slots:i={},$$scope:s}=e;we("Item_list",i,[]);let{data:n}=e,a=ze.getClassByTypeString(n.type).getListRender();const r=Ze();function l(){r("click",n)}o.$$.on_mount.push(function(){n===void 0&&!("data"in e||o.$$.bound[o.$$.props.data])&&console.warn("<Item_list> was created without expected prop 'data'")});const u=["data"];return Object.keys(e).forEach(c=>{!~u.indexOf(c)&&c.slice(0,2)!=="$$"&&c!=="slot"&&console.warn(`<Item_list> was created with unknown prop '${c}'`)}),o.$$set=c=>{"data"in c&&t(0,n=c.data)},o.$capture_state=()=>({createEventDispatcher:Ze,ItemHelper:ze,data:n,currentItemRenderComponent:a,dispatch:r,clicked:l}),o.$inject_state=c=>{"data"in c&&t(0,n=c.data),"currentItemRenderComponent"in c&&t(1,a=c.currentItemRenderComponent)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[n,a,l]}class er extends ve{constructor(e){super(e),ye(this,e,ra,Co,be,{data:0}),V("SvelteRegisterComponent",{component:this,tagName:"Item_list",options:e,id:Co.name})}get data(){throw new Error("<Item_list>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(e){throw new Error("<Item_list>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}function Io(o){let e,t,i;var s=o[1];function n(r){return{props:{data:r[0]},$$inline:!0}}s&&(e=Pt(s,n(o)),e.$on("update",o[2]));const a={c:function(){e&&ee(e.$$.fragment),t=ce()},l:function(l){e&&ie(e.$$.fragment,l),t=ce()},m:function(l,u){e&&te(e,l,u),M(l,t,u),i=!0},p:function(l,[u]){const c={};if(u&1&&(c.data=l[0]),s!==(s=l[1])){if(e){ue();const f=e;Y(f.$$.fragment,1,0,()=>{ne(f,1)}),fe()}s?(e=Pt(s,n(l)),e.$on("update",l[2]),ee(e.$$.fragment),N(e.$$.fragment,1),te(e,t.parentNode,t)):e=null}else s&&e.$set(c)},i:function(l){i||(e&&N(e.$$.fragment,l),i=!0)},o:function(l){e&&Y(e.$$.fragment,l),i=!1},d:function(l){l&&_(t),e&&ne(e,l)}};return V("SvelteRegisterBlock",{block:a,id:Io.name,type:"component",source:"",ctx:o}),a}function aa(o,e,t){let{$$slots:i={},$$scope:s}=e;we("Item_see",i,[]);let{data:n}=e;const a=Ze();let r=ze.getClassByTypeString(n.type).getSeeRender();function l(c){a("update",c.detail)}o.$$.on_mount.push(function(){n===void 0&&!("data"in e||o.$$.bound[o.$$.props.data])&&console.warn("<Item_see> was created without expected prop 'data'")});const u=["data"];return Object.keys(e).forEach(c=>{!~u.indexOf(c)&&c.slice(0,2)!=="$$"&&c!=="slot"&&console.warn(`<Item_see> was created with unknown prop '${c}'`)}),o.$$set=c=>{"data"in c&&t(0,n=c.data)},o.$capture_state=()=>({createEventDispatcher:Ze,ItemHelper:ze,data:n,dispatch:a,currentConfigComponent:r,passUpdate:l}),o.$inject_state=c=>{"data"in c&&t(0,n=c.data),"currentConfigComponent"in c&&t(1,r=c.currentConfigComponent)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[n,r,l]}class tr extends ve{constructor(e){super(e),ye(this,e,aa,Io,be,{data:0}),V("SvelteRegisterComponent",{component:this,tagName:"Item_see",options:e,id:Io.name})}get data(){throw new Error("<Item_see>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(e){throw new Error("<Item_see>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Bt="src/lib/components/modal.svelte",sa=o=>({}),Di=o=>({});function Do(o){let e,t,i,s,n,a,r,l,u,c;const f=o[3].default,h=fi(f,o,o[2],null),p=o[3].footer,m=fi(p,o,o[2],Di),y={c:function(){e=w("div"),t=w("button"),i=R(),s=w("div"),n=w("div"),h&&h.c(),a=R(),r=w("div"),m&&m.c(),this.h()},l:function(S){e=g(S,"DIV",{class:!0});var v=P(e);t=g(v,"BUTTON",{class:!0}),P(t).forEach(_),i=B(v),s=g(v,"DIV",{class:!0});var C=P(s);n=g(C,"DIV",{class:!0});var L=P(n);h&&h.l(L),L.forEach(_),a=B(C),r=g(C,"DIV",{class:!0});var U=P(r);m&&m.l(U),U.forEach(_),C.forEach(_),v.forEach(_),this.h()},h:function(){b(t,"class","modal-background s-2bKfpBUBwHrG"),k(t,Bt,17,1,428),b(n,"class","modal-body s-2bKfpBUBwHrG"),k(n,Bt,19,2,524),b(r,"class","modal-footer s-2bKfpBUBwHrG"),k(r,Bt,20,2,565),b(s,"class","modal-content s-2bKfpBUBwHrG"),k(s,Bt,18,1,494),b(e,"class","modal s-2bKfpBUBwHrG"),k(e,Bt,16,0,407)},m:function(S,v){M(S,e,v),d(e,t),d(e,i),d(e,s),d(s,n),h&&h.m(n,null),d(s,a),d(s,r),m&&m.m(r,null),l=!0,u||(c=[F(window,"keyup",o[0],!1,!1,!1,!1),F(t,"click",o[1],!1,!1,!1,!1)],u=!0)},p:function(S,[v]){h&&h.p&&(!l||v&4)&&di(h,f,S,S[2],l?hi(f,S[2],v,null):mi(S[2]),null),m&&m.p&&(!l||v&4)&&di(m,p,S,S[2],l?hi(p,S[2],v,sa):mi(S[2]),Di)},i:function(S){l||(N(h,S),N(m,S),l=!0)},o:function(S){Y(h,S),Y(m,S),l=!1},d:function(S){S&&_(e),h&&h.d(S),m&&m.d(S),u=!1,$e(c)}};return V("SvelteRegisterBlock",{block:y,id:Do.name,type:"component",source:"",ctx:o}),y}function ca(o,e,t){let{$$slots:i={},$$scope:s}=e;we("Modal",i,["default","footer"]);const n=Ze();function a(u){u.key==="Escape"?n("escapeKeyUp"):u.key==="Enter"&&n("enterKeyUp")}function r(){n("backgroundClick")}const l=[];return Object.keys(e).forEach(u=>{!~l.indexOf(u)&&u.slice(0,2)!=="$$"&&u!=="slot"&&console.warn(`<Modal> was created with unknown prop '${u}'`)}),o.$$set=u=>{"$$scope"in u&&t(2,s=u.$$scope)},o.$capture_state=()=>({createEventDispatcher:Ze,dispatch:n,handleKeyUp:a,backgroundClicked:r}),[a,r,s,i]}class mn extends ve{constructor(e){super(e),ye(this,e,ca,Do,be,{}),V("SvelteRegisterComponent",{component:this,tagName:"Modal",options:e,id:Do.name})}}function on(o){return Array.isArray(o)?o.map(e=>on(e)):o instanceof Date?new Date(o.getTime()):o&&typeof o=="object"?Object.getOwnPropertyNames(o).reduce((e,t)=>(Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t)),e[t]=on(o[t]),e),Object.create(Object.getPrototypeOf(o))):o}const{console:la}=Ti,x="src/lib/components/item/items.svelte";function Gt(o,e,t){const i=o.slice();return i[26]=e[t],i}function nr(o){let e,t;const i={c:function(){e=w("div"),t=j("Loading, please wait..."),this.h()},l:function(n){e=g(n,"DIV",{class:!0});var a=P(e);t=A(a,"Loading, please wait..."),a.forEach(_),this.h()},h:function(){b(e,"class","loading s-0PLtKbwb1-Dp"),k(e,x,234,2,7313)},m:function(n,a){M(n,e,a),d(e,t)},p:se,i:se,o:se,d:function(n){n&&_(e)}};return V("SvelteRegisterBlock",{block:i,id:nr.name,type:"else",source:"(233:1) {:else}",ctx:o}),i}function or(o){let e,t,i,s;const n=[rr,ir],a=[];function r(u,c){return u[1].list.length||u[0]?0:1}e=r(o),t=a[e]=n[e](o);const l={c:function(){t.c(),i=ce()},l:function(c){t.l(c),i=ce()},m:function(c,f){a[e].m(c,f),M(c,i,f),s=!0},p:function(c,f){let h=e;e=r(c),e===h?a[e].p(c,f):(ue(),Y(a[h],1,1,()=>{a[h]=null}),fe(),t=a[e],t?t.p(c,f):(t=a[e]=n[e](c),t.c()),N(t,1),t.m(i.parentNode,i))},i:function(c){s||(N(t),s=!0)},o:function(c){Y(t),s=!1},d:function(c){a[e].d(c),c&&_(i)}};return V("SvelteRegisterBlock",{block:l,id:or.name,type:"if",source:"(184:1) {#if ui.list}",ctx:o}),l}function ir(o){let e,t,i,s,n,a,r,l,u,c=o[1].help.account+"",f,h,p,m,y,E,S,v,C,L,U=o[1].help.service+"",D,I,T,O,H,$,Q,G,re,z,K=o[1].help.debt+"",q,le,J,Z,ae,W,X,de,ke,Se,pe=o[1].help.currency+"",Ce,Le,Pe,Ee,Ve,Ae;const et={c:function(){e=w("div"),t=w("div"),i=j("Welcome, let's start creating your first Item, choose one of the following:"),s=R(),n=w("div"),a=w("div"),r=j("Account"),l=R(),u=w("div"),f=j(c),h=R(),p=w("button"),m=j("Create Account"),y=R(),E=w("div"),S=w("div"),v=j("Service"),C=R(),L=w("div"),D=j(U),I=R(),T=w("button"),O=j("Create Service"),H=R(),$=w("div"),Q=w("div"),G=j("Debt"),re=R(),z=w("div"),q=j(K),le=R(),J=w("button"),Z=j("Create Debt"),ae=R(),W=w("div"),X=w("div"),de=j("Currency"),ke=R(),Se=w("div"),Ce=j(pe),Le=R(),Pe=w("button"),Ee=j("Create Currency"),this.h()},l:function(Be){e=g(Be,"DIV",{id:!0,class:!0});var ge=P(e);t=g(ge,"DIV",{id:!0,class:!0});var Ke=P(t);i=A(Ke,"Welcome, let's start creating your first Item, choose one of the following:"),Ke.forEach(_),s=B(ge),n=g(ge,"DIV",{});var Ne=P(n);a=g(Ne,"DIV",{class:!0});var _t=P(a);r=A(_t,"Account"),_t.forEach(_),l=B(Ne),u=g(Ne,"DIV",{class:!0});var vt=P(u);f=A(vt,c),vt.forEach(_),h=B(Ne),p=g(Ne,"BUTTON",{class:!0});var Fe=P(p);m=A(Fe,"Create Account"),Fe.forEach(_),Ne.forEach(_),y=B(ge),E=g(ge,"DIV",{});var Oe=P(E);S=g(Oe,"DIV",{class:!0});var yt=P(S);v=A(yt,"Service"),yt.forEach(_),C=B(Oe),L=g(Oe,"DIV",{class:!0});var ft=P(L);D=A(ft,U),ft.forEach(_),I=B(Oe),T=g(Oe,"BUTTON",{class:!0});var bt=P(T);O=A(bt,"Create Service"),bt.forEach(_),Oe.forEach(_),H=B(ge),$=g(ge,"DIV",{});var tt=P($);Q=g(tt,"DIV",{class:!0});var It=P(Q);G=A(It,"Debt"),It.forEach(_),re=B(tt),z=g(tt,"DIV",{class:!0});var nt=P(z);q=A(nt,K),nt.forEach(_),le=B(tt),J=g(tt,"BUTTON",{class:!0});var De=P(J);Z=A(De,"Create Debt"),De.forEach(_),tt.forEach(_),ae=B(ge),W=g(ge,"DIV",{});var Ue=P(W);X=g(Ue,"DIV",{class:!0});var dt=P(X);de=A(dt,"Currency"),dt.forEach(_),ke=B(Ue),Se=g(Ue,"DIV",{class:!0});var Dt=P(Se);Ce=A(Dt,pe),Dt.forEach(_),Le=B(Ue),Pe=g(Ue,"BUTTON",{class:!0});var Tt=P(Pe);Ee=A(Tt,"Create Currency"),Tt.forEach(_),Ue.forEach(_),ge.forEach(_),this.h()},h:function(){b(t,"id","empty-state-welcome"),b(t,"class","s-0PLtKbwb1-Dp"),k(t,x,207,4,6390),b(a,"class","title"),k(a,x,211,5,6528),b(u,"class","description"),k(u,x,212,5,6566),b(p,"class","button"),k(p,x,213,5,6620),k(n,x,210,4,6517),b(S,"class","title"),k(S,x,216,5,6718),b(L,"class","description"),k(L,x,217,5,6756),b(T,"class","button"),k(T,x,218,5,6810),k(E,x,215,4,6707),b(Q,"class","title"),k(Q,x,221,5,6908),b(z,"class","description"),k(z,x,222,5,6943),b(J,"class","button"),k(J,x,223,5,6994),k($,x,220,4,6897),b(X,"class","title"),k(X,x,226,5,7086),b(Se,"class","description"),k(Se,x,227,5,7125),b(Pe,"class","button"),k(Pe,x,228,5,7180),k(W,x,225,4,7075),b(e,"id","empty-state"),b(e,"class","s-0PLtKbwb1-Dp"),k(e,x,206,3,6363)},m:function(Be,ge){M(Be,e,ge),d(e,t),d(t,i),d(e,s),d(e,n),d(n,a),d(a,r),d(n,l),d(n,u),d(u,f),d(n,h),d(n,p),d(p,m),d(e,y),d(e,E),d(E,S),d(S,v),d(E,C),d(E,L),d(L,D),d(E,I),d(E,T),d(T,O),d(e,H),d(e,$),d($,Q),d(Q,G),d($,re),d($,z),d(z,q),d($,le),d($,J),d(J,Z),d(e,ae),d(e,W),d(W,X),d(X,de),d(W,ke),d(W,Se),d(Se,Ce),d(W,Le),d(W,Pe),d(Pe,Ee),Ve||(Ae=[F(p,"click",o[12],!1,!1,!1,!1),F(T,"click",o[13],!1,!1,!1,!1),F(J,"click",o[14],!1,!1,!1,!1),F(Pe,"click",o[15],!1,!1,!1,!1)],Ve=!0)},p:function(Be,ge){ge&2&&c!==(c=Be[1].help.account+"")&&oe(f,c),ge&2&&U!==(U=Be[1].help.service+"")&&oe(D,U),ge&2&&K!==(K=Be[1].help.debt+"")&&oe(q,K),ge&2&&pe!==(pe=Be[1].help.currency+"")&&oe(Ce,pe)},i:se,o:se,d:function(Be){Be&&_(e),Ve=!1,$e(Ae)}};return V("SvelteRegisterBlock",{block:et,id:ir.name,type:"else",source:"(205:2) {:else}",ctx:o}),et}function rr(o){let e,t,i,s,n,a,r,l,u,c,f,h,p,m=[],y=new Map,E,S,v,C=o[1].list;Me(C);const L=D=>D[26]._id+D[26].type+D[26].updateDate;ut(o,C,Gt,L);for(let D=0;D<C.length;D+=1){let I=Gt(o,C,D),T=L(I);y.set(T,m[D]=To(T,I))}const U={c:function(){e=w("header"),t=w("div"),i=w("p"),s=w("input"),n=R(),a=w("span"),r=w("i"),l=R(),u=w("main"),c=w("button"),f=w("div"),h=j("Add"),p=R();for(let I=0;I<m.length;I+=1)m[I].c();this.h()},l:function(I){e=g(I,"HEADER",{id:!0,class:!0});var T=P(e);t=g(T,"DIV",{class:!0});var O=P(t);i=g(O,"P",{class:!0});var H=P(i);s=g(H,"INPUT",{class:!0}),n=B(H),a=g(H,"SPAN",{class:!0});var $=P(a);r=g($,"I",{class:!0}),P(r).forEach(_),$.forEach(_),H.forEach(_),O.forEach(_),T.forEach(_),l=B(I),u=g(I,"MAIN",{id:!0,class:!0});var Q=P(u);c=g(Q,"BUTTON",{class:!0});var G=P(c);f=g(G,"DIV",{class:!0});var re=P(f);h=A(re,"Add"),re.forEach(_),G.forEach(_),p=B(Q);for(let z=0;z<m.length;z+=1)m[z].l(Q);Q.forEach(_),this.h()},h:function(){b(s,"class","search-bar input"),k(s,x,189,6,5838),b(r,"class","fa-solid fa-magnifying-glass"),k(r,x,191,7,5953),b(a,"class","icon is-small is-left"),k(a,x,190,6,5909),b(i,"class","control has-icons-left"),k(i,x,188,5,5797),b(t,"class","field"),k(t,x,187,4,5772),b(e,"id","header"),b(e,"class","s-0PLtKbwb1-Dp"),k(e,x,186,3,5747),b(f,"class","title"),k(f,x,198,5,6138),b(c,"class","square white-button"),k(c,x,197,4,6074),b(u,"id","whiteboard"),b(u,"class","s-0PLtKbwb1-Dp"),k(u,x,196,3,6047)},m:function(I,T){M(I,e,T),d(e,t),d(t,i),d(i,s),d(i,n),d(i,a),d(a,r),M(I,l,T),M(I,u,T),d(u,c),d(c,f),d(f,h),d(u,p);for(let O=0;O<m.length;O+=1)m[O]&&m[O].m(u,null);E=!0,S||(v=[F(s,"input",o[11],!1,!1,!1,!1),F(c,"click",o[2],!1,!1,!1,!1)],S=!0)},p:function(I,T){T&34&&(C=I[1].list,Me(C),ue(),ut(I,C,Gt,L),m=rn(m,T,L,1,I,C,y,u,Wo,To,null,Gt),fe())},i:function(I){if(!E){for(let T=0;T<C.length;T+=1)N(m[T]);E=!0}},o:function(I){for(let T=0;T<m.length;T+=1)Y(m[T]);E=!1},d:function(I){I&&_(e),I&&_(l),I&&_(u);for(let T=0;T<m.length;T+=1)m[T].d();S=!1,$e(v)}};return V("SvelteRegisterBlock",{block:U,id:rr.name,type:"if",source:"(185:2) {#if ui.list.length || currentSearchQuery}",ctx:o}),U}function To(o,e){let t,i,s;i=new er({props:{data:e[26]},$$inline:!0}),i.$on("click",e[5]);const n={key:o,first:null,c:function(){t=ce(),ee(i.$$.fragment),this.h()},l:function(r){t=ce(),ie(i.$$.fragment,r),this.h()},h:function(){this.first=t},m:function(r,l){M(r,t,l),te(i,r,l),s=!0},p:function(r,l){e=r;const u={};l&2&&(u.data=e[26]),i.$set(u)},i:function(r){s||(N(i.$$.fragment,r),s=!0)},o:function(r){Y(i.$$.fragment,r),s=!1},d:function(r){r&&_(t),ne(i,r)}};return V("SvelteRegisterBlock",{block:n,id:To.name,type:"each",source:"(201:4) {#each ui.list as item (item._id + item.type + item.updateDate)}",ctx:e}),n}function Ro(o){let e,t;e=new mn({props:{$$slots:{footer:[sr],default:[ar]},$$scope:{ctx:o}},$$inline:!0}),e.$on("backgroundClick",o[4]),e.$on("escapeKeyUp",o[4]),e.$on("enterKeyUp",o[3]);const i={c:function(){ee(e.$$.fragment)},l:function(n){ie(e.$$.fragment,n)},m:function(n,a){te(e,n,a),t=!0},p:function(n,a){const r={};a&536870914&&(r.$$scope={dirty:a,ctx:n}),e.$set(r)},i:function(n){t||(N(e.$$.fragment,n),t=!0)},o:function(n){Y(e.$$.fragment,n),t=!1},d:function(n){ne(e,n)}};return V("SvelteRegisterBlock",{block:i,id:Ro.name,type:"if",source:"(240:0) {#if ui.creationModal}",ctx:o}),i}function ar(o){let e,t;e=new Fo({props:{data:o[1].creationModal.data},$$inline:!0});const i={c:function(){ee(e.$$.fragment)},l:function(n){ie(e.$$.fragment,n)},m:function(n,a){te(e,n,a),t=!0},p:function(n,a){const r={};a&2&&(r.data=n[1].creationModal.data),e.$set(r)},i:function(n){t||(N(e.$$.fragment,n),t=!0)},o:function(n){Y(e.$$.fragment,n),t=!1},d:function(n){ne(e,n)}};return V("SvelteRegisterBlock",{block:i,id:ar.name,type:"slot",source:"(241:1) <Modal   on:backgroundClick={closeCreationModal}   on:escapeKeyUp={closeCreationModal}   on:enterKeyUp={saveCreationModal}  >",ctx:o}),i}function sr(o){let e,t,i,s,n,a,r,l,u;const c={c:function(){e=w("div"),t=w("button"),i=j("Save"),n=R(),a=w("button"),r=j("Cancel"),this.h()},l:function(h){e=g(h,"DIV",{slot:!0,class:!0});var p=P(e);t=g(p,"BUTTON",{class:!0});var m=P(t);i=A(m,"Save"),m.forEach(_),n=B(p),a=g(p,"BUTTON",{class:!0});var y=P(a);r=A(y,"Cancel"),y.forEach(_),p.forEach(_),this.h()},h:function(){b(t,"class",s="button is-primary "+(o[1].creationModal.saving?"is-loading":"")),k(t,x,247,3,7643),b(a,"class","button"),k(a,x,251,3,7781),b(e,"slot","footer"),b(e,"class","modal-footer-buttons s-0PLtKbwb1-Dp"),k(e,x,246,2,7591)},m:function(h,p){M(h,e,p),d(e,t),d(t,i),d(e,n),d(e,a),d(a,r),l||(u=[F(t,"click",o[3],!1,!1,!1,!1),F(a,"click",o[4],!1,!1,!1,!1)],l=!0)},p:function(h,p){p&2&&s!==(s="button is-primary "+(h[1].creationModal.saving?"is-loading":""))&&b(t,"class",s)},d:function(h){h&&_(e),l=!1,$e(u)}};return V("SvelteRegisterBlock",{block:c,id:sr.name,type:"slot",source:"(247:2) ",ctx:o}),c}function Bo(o){let e,t;e=new mn({props:{$$slots:{footer:[lr],default:[cr]},$$scope:{ctx:o}},$$inline:!0}),e.$on("backgroundClick",o[6]),e.$on("escapeKeyUp",o[6]),e.$on("enterKeyUp",o[6]);const i={c:function(){ee(e.$$.fragment)},l:function(n){ie(e.$$.fragment,n)},m:function(n,a){te(e,n,a),t=!0},p:function(n,a){const r={};a&536870914&&(r.$$scope={dirty:a,ctx:n}),e.$set(r)},i:function(n){t||(N(e.$$.fragment,n),t=!0)},o:function(n){Y(e.$$.fragment,n),t=!1},d:function(n){ne(e,n)}};return V("SvelteRegisterBlock",{block:i,id:Bo.name,type:"if",source:"(256:0) {#if ui.seeModal}",ctx:o}),i}function cr(o){let e,t;e=new tr({props:{data:o[1].seeModal.item},$$inline:!0}),e.$on("update",o[7]);const i={c:function(){ee(e.$$.fragment)},l:function(n){ie(e.$$.fragment,n)},m:function(n,a){te(e,n,a),t=!0},p:function(n,a){const r={};a&2&&(r.data=n[1].seeModal.item),e.$set(r)},i:function(n){t||(N(e.$$.fragment,n),t=!0)},o:function(n){Y(e.$$.fragment,n),t=!1},d:function(n){ne(e,n)}};return V("SvelteRegisterBlock",{block:i,id:cr.name,type:"slot",source:"(257:1) <Modal   on:backgroundClick={closeSeeModal}   on:escapeKeyUp={closeSeeModal}   on:enterKeyUp={closeSeeModal}  >",ctx:o}),i}function lr(o){let e,t,i,s,n,a,r,l,u,c,f,h;const p={c:function(){e=w("div"),t=w("button"),i=j("Edit"),s=R(),n=w("button"),a=j("Delete"),l=R(),u=w("button"),c=j("Close"),this.h()},l:function(y){e=g(y,"DIV",{slot:!0,class:!0});var E=P(e);t=g(E,"BUTTON",{class:!0});var S=P(t);i=A(S,"Edit"),S.forEach(_),s=B(E),n=g(E,"BUTTON",{class:!0});var v=P(n);a=A(v,"Delete"),v.forEach(_),l=B(E),u=g(E,"BUTTON",{class:!0});var C=P(u);c=A(C,"Close"),C.forEach(_),E.forEach(_),this.h()},h:function(){b(t,"class","button"),k(t,x,263,3,8122),b(n,"class",r="button is-danger "+(o[1].seeModal.deleting?"is-loading":"")),k(n,x,264,3,8194),b(u,"class","button"),k(u,x,268,3,8330),b(e,"slot","footer"),b(e,"class","modal-footer-buttons s-0PLtKbwb1-Dp"),k(e,x,262,2,8070)},m:function(y,E){M(y,e,E),d(e,t),d(t,i),d(e,s),d(e,n),d(n,a),d(e,l),d(e,u),d(u,c),f||(h=[F(t,"click",o[8],!1,!1,!1,!1),F(n,"click",o[16],!1,!1,!1,!1),F(u,"click",o[6],!1,!1,!1,!1)],f=!0)},p:function(y,E){E&2&&r!==(r="button is-danger "+(y[1].seeModal.deleting?"is-loading":""))&&b(n,"class",r)},d:function(y){y&&_(e),f=!1,$e(h)}};return V("SvelteRegisterBlock",{block:p,id:lr.name,type:"slot",source:"(263:2) ",ctx:o}),p}function jo(o){let e,t;e=new mn({props:{$$slots:{footer:[fr],default:[ur]},$$scope:{ctx:o}},$$inline:!0}),e.$on("backgroundClick",o[10]),e.$on("escapeKeyUp",o[10]);const i={c:function(){ee(e.$$.fragment)},l:function(n){ie(e.$$.fragment,n)},m:function(n,a){te(e,n,a),t=!0},p:function(n,a){const r={};a&536870914&&(r.$$scope={dirty:a,ctx:n}),e.$set(r)},i:function(n){t||(N(e.$$.fragment,n),t=!0)},o:function(n){Y(e.$$.fragment,n),t=!1},d:function(n){ne(e,n)}};return V("SvelteRegisterBlock",{block:i,id:jo.name,type:"if",source:"(273:0) {#if ui.editModal}",ctx:o}),i}function ur(o){let e,t,i;function s(r){o[17](r)}let n={};o[1].editModal.item!==void 0&&(n.data=o[1].editModal.item),e=new Fo({props:n,$$inline:!0}),kt.push(()=>Et(e,"data",s));const a={c:function(){ee(e.$$.fragment)},l:function(l){ie(e.$$.fragment,l)},m:function(l,u){te(e,l,u),i=!0},p:function(l,u){const c={};!t&&u&2&&(t=!0,c.data=l[1].editModal.item,St(()=>t=!1)),e.$set(c)},i:function(l){i||(N(e.$$.fragment,l),i=!0)},o:function(l){Y(e.$$.fragment,l),i=!1},d:function(l){ne(e,l)}};return V("SvelteRegisterBlock",{block:a,id:ur.name,type:"slot",source:"(274:1) <Modal on:backgroundClick={closeEditModal} on:escapeKeyUp={closeEditModal}>",ctx:o}),a}function fr(o){let e,t,i,s,n,a,r,l,u;const c={c:function(){e=w("div"),t=w("button"),i=j("Save"),n=R(),a=w("button"),r=j("Cancel"),this.h()},l:function(h){e=g(h,"DIV",{slot:!0,class:!0});var p=P(e);t=g(p,"BUTTON",{class:!0});var m=P(t);i=A(m,"Save"),m.forEach(_),n=B(p),a=g(p,"BUTTON",{class:!0});var y=P(a);r=A(y,"Cancel"),y.forEach(_),p.forEach(_),this.h()},h:function(){b(t,"class",s="button is-primary "+(o[1].editModal.saving?"is-loading":"")),k(t,x,276,3,8613),b(a,"class","button"),k(a,x,280,3,8743),b(e,"slot","footer"),b(e,"class","modal-footer-buttons s-0PLtKbwb1-Dp"),k(e,x,275,2,8561)},m:function(h,p){M(h,e,p),d(e,t),d(t,i),d(e,n),d(e,a),d(a,r),l||(u=[F(t,"click",o[9],!1,!1,!1,!1),F(a,"click",o[10],!1,!1,!1,!1)],l=!0)},p:function(h,p){p&2&&s!==(s="button is-primary "+(h[1].editModal.saving?"is-loading":""))&&b(t,"class",s)},d:function(h){h&&_(e),l=!1,$e(u)}};return V("SvelteRegisterBlock",{block:c,id:fr.name,type:"slot",source:"(276:2) ",ctx:o}),c}function Ao(o){let e,t,i,s,n,a,r,l,u;const c=[or,nr],f=[];function h(S,v){return S[1].list?0:1}i=h(o),s=f[i]=c[i](o);let p=o[1].creationModal&&Ro(o),m=o[1].seeModal&&Bo(o),y=o[1].editModal&&jo(o);const E={c:function(){e=R(),t=w("div"),s.c(),n=R(),p&&p.c(),a=R(),m&&m.c(),r=R(),y&&y.c(),l=ce(),this.h()},l:function(v){vr("svelte-bvgx4w",document.head).forEach(_),e=B(v),t=g(v,"DIV",{class:!0});var L=P(t);s.l(L),L.forEach(_),n=B(v),p&&p.l(v),a=B(v),m&&m.l(v),r=B(v),y&&y.l(v),l=ce(),this.h()},h:function(){document.title="Finances",b(t,"class","items s-0PLtKbwb1-Dp"),k(t,x,182,0,5629)},m:function(v,C){M(v,e,C),M(v,t,C),f[i].m(t,null),M(v,n,C),p&&p.m(v,C),M(v,a,C),m&&m.m(v,C),M(v,r,C),y&&y.m(v,C),M(v,l,C),u=!0},p:function(v,[C]){let L=i;i=h(v),i===L?f[i].p(v,C):(ue(),Y(f[L],1,1,()=>{f[L]=null}),fe(),s=f[i],s?s.p(v,C):(s=f[i]=c[i](v),s.c()),N(s,1),s.m(t,null)),v[1].creationModal?p?(p.p(v,C),C&2&&N(p,1)):(p=Ro(v),p.c(),N(p,1),p.m(a.parentNode,a)):p&&(ue(),Y(p,1,1,()=>{p=null}),fe()),v[1].seeModal?m?(m.p(v,C),C&2&&N(m,1)):(m=Bo(v),m.c(),N(m,1),m.m(r.parentNode,r)):m&&(ue(),Y(m,1,1,()=>{m=null}),fe()),v[1].editModal?y?(y.p(v,C),C&2&&N(y,1)):(y=jo(v),y.c(),N(y,1),y.m(l.parentNode,l)):y&&(ue(),Y(y,1,1,()=>{y=null}),fe())},i:function(v){u||(N(s),N(p),N(m),N(y),u=!0)},o:function(v){Y(s),Y(p),Y(m),Y(y),u=!1},d:function(v){v&&_(e),v&&_(t),f[i].d(),v&&_(n),p&&p.d(v),v&&_(a),m&&m.d(v),v&&_(r),y&&y.d(v),v&&_(l)}};return V("SvelteRegisterBlock",{block:E,id:Ao.name,type:"component",source:"",ctx:o}),E}function bn(o){o.updateDate=new Date}function ua(o,e,t){let{$$slots:i={},$$scope:s}=e;we("Items",i,[]);let n=[],a="";const r={help:nn};let l;const u={getCurrencies:lt.getCurrencies,onGoToCreation:Q};pi(lt.contextKey,u),Te(()=>{c(),lt.currencyAddedSubject.subscribe({next:K=>{console.log(`Currency added received in items, currency: ${K}`)}})});function c(){He.getItems().then(K=>{n=K,D()})}function f(){const K=n.filter(q=>q.type===st.getTypeString());for(const q of K)st.calculate(n,q)}function h(){t(1,r.creationModal={data:{type:jt.getTypeString()}},r)}async function p(){if(r.creationModal){t(1,r.creationModal.saving=!0,r);try{let K;r.creationModal.data.type!="currency"?K=await He.create(r.creationModal.data):K=await ht.create(r.creationModal.data),n=[K,...n],D(),f(),r.creationModal.data.type!==st.getTypeString()?m():(t(1,r.creationModal.saving=!1,r),G())}catch(K){console.error(K),t(1,r.creationModal.saving=!1,r)}}}function m(){t(1,r.creationModal=void 0,r)}function y(K){t(1,r.seeModal={item:K.detail},r)}function E(){t(1,r.seeModal=void 0,r)}function S(K){bn(K.detail),f()}function v(){t(1,r.editModal={item:{...r.seeModal.item}},r)}async function C(){if(r.editModal){t(1,r.editModal.saving=!0,r);try{const K=r.editModal.item,q=await He.update(K._id,K),le=n.findIndex(J=>J._id===q._id);n[le]=q,D(),f(),L(),Ut.$channel.next({type:"itemEdited",data:{item:K}}),bn(q),r.seeModal&&t(1,r.seeModal.item=q,r)}catch(K){console.error(K),t(1,r.editModal.saving=!1,r)}}}function L(){f(),t(1,r.editModal=void 0,r)}function U(K){t(0,a=K.target.value),D()}function D(){t(1,r.list=n==null?void 0:n.filter(K=>ze.isItemOnQuery(K,a)),r)}function I(){t(1,r.creationModal={data:{type:jt.getTypeString()}},r)}function T(){t(1,r.creationModal={data:{type:pt.getTypeString()}},r)}function O(){t(1,r.creationModal={data:{type:go.getTypeString()}},r)}function H(){t(1,r.creationModal={data:{type:st.getTypeString()}},r)}async function $(){if(!r.seeModal)return;t(1,r.seeModal.deleting=!0,r);const K=r.seeModal.item;try{await He.delete(K._id),n=n.filter(q=>q._id!=K._id),f(),D(),E()}catch(q){console.error(q)}r.seeModal&&t(1,r.seeModal.deleting=!1,r)}function Q(){r.creationModal==null?t(1,r.creationModal={data:{type:st.getTypeString()}},r):(l={creationModal:on(r.creationModal)},t(1,r.creationModal.data={type:st.getTypeString()},r))}function G(){if(l!=null&&r.creationModal!=null&&l.creationModal!=null){const q=r.creationModal.data.currency;t(1,r.creationModal=l.creationModal,r),t(1,r.creationModal.data.currency=q,r),l=void 0}else m()}const re=[];Object.keys(e).forEach(K=>{!~re.indexOf(K)&&K.slice(0,2)!=="$$"&&K!=="slot"&&la.warn(`<Items> was created with unknown prop '${K}'`)});function z(K){o.$$.not_equal(r.editModal.item,K)&&(r.editModal.item=K,t(1,r))}return o.$capture_state=()=>({onMount:Te,setContext:pi,AccountItem:jt,DebtItem:go,ItemHelper:ze,ServiceItem:pt,CurrencyItem:st,ItemHelpText:nn,ItemEdit:Fo,ItemList:er,ItemSee:tr,Modal:mn,CurrencyLogic:lt,deepCopy:on,ItemService:He,CurrencyService:ht,ModalChannel:Ut,list:n,currentSearchQuery:a,ui:r,afterCurrencyCreated:l,currencyContext:u,loadItems:c,calculateCurrencyItems:f,addClicked:h,saveCreationModal:p,closeCreationModal:m,itemClicked:y,closeSeeModal:E,itemUpdated:S,reRenderUpdatedItem:bn,openEditModalFromSee:v,saveEditModal:C,closeEditModal:L,searchInputChanged:U,calculateUiList:D,createAccount:I,createService:T,createDebt:O,createCurrency:H,deleteCurrentItem:$,switchToCurrencyCreation:Q,currencyCreated:G}),o.$inject_state=K=>{"list"in K&&(n=K.list),"currentSearchQuery"in K&&t(0,a=K.currentSearchQuery),"afterCurrencyCreated"in K&&(l=K.afterCurrencyCreated)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),[a,r,h,p,m,y,E,S,v,C,L,U,I,T,O,H,$,z]}class dr extends ve{constructor(e){super(e),ye(this,e,ua,Ao,be,{}),V("SvelteRegisterComponent",{component:this,tagName:"Items",options:e,id:Ao.name})}}const me="src/lib/components/welcome.svelte";function Uo(o){let e,t,i,s,n,a,r,l,u,c,f,h,p,m,y,E,S,v,C,L,U,D,I,T,O,H,$,Q,G,re,z,K,q,le,J,Z,ae,W,X,de,ke,Se,pe,Ce,Le,Pe,Ee,Ve,Ae,et,Ie,Be,ge,Ke,Ne,_t,vt,Fe,Oe,yt,ft,bt,tt;E=new ln({props:{data:o[0].examples.account},$$inline:!0}),$=new Jo({props:{data:o[0].examples.service},$$inline:!0}),W=new Ko({props:{data:o[0].examples.debt},$$inline:!0}),Ae=new Qo({props:{data:o[0].examples.currency},$$inline:!0});const It={c:function(){e=w("div"),t=w("div"),i=w("p"),s=j("Welcome, I can help you remember about your finances."),n=R(),a=w("p"),r=j("Here are the things I can help you with:"),l=R(),u=w("div"),c=w("div"),f=w("h3"),h=j("Accounts"),p=R(),m=w("div"),y=w("div"),ee(E.$$.fragment),S=R(),v=w("div"),C=j("You can have a list of all your accounts with their balance and currency"),L=R(),U=w("div"),D=w("h3"),I=j("Services"),T=R(),O=w("div"),H=w("div"),ee($.$$.fragment),Q=R(),G=w("div"),re=j(`You can store the services you need to pay every month, and see which ones you've already
					paid`),z=R(),K=w("div"),q=w("h3"),le=j("Debts"),J=R(),Z=w("div"),ae=w("div"),ee(W.$$.fragment),X=R(),de=w("div"),ke=j("I can remind you of debts you need to pay or if someone owes you"),Se=R(),pe=w("div"),Ce=w("h3"),Le=j("Currencies"),Pe=R(),Ee=w("div"),Ve=w("div"),ee(Ae.$$.fragment),et=R(),Ie=w("div"),Be=j("You can create currencies and track the total sum of all the accounts in that currency."),ge=R(),Ke=w("div"),Ne=w("div"),_t=j("Ready?"),vt=R(),Fe=w("a"),Oe=w("button"),yt=j("Start Now"),this.h()},l:function(De){e=g(De,"DIV",{class:!0});var Ue=P(e);t=g(Ue,"DIV",{class:!0});var dt=P(t);i=g(dt,"P",{class:!0});var Dt=P(i);s=A(Dt,"Welcome, I can help you remember about your finances."),Dt.forEach(_),n=B(dt),a=g(dt,"P",{class:!0});var Tt=P(a);r=A(Tt,"Here are the things I can help you with:"),Tt.forEach(_),dt.forEach(_),l=B(Ue),u=g(Ue,"DIV",{class:!0});var at=P(u);c=g(at,"DIV",{class:!0});var Vt=P(c);f=g(Vt,"H3",{class:!0});var Xo=P(f);h=A(Xo,"Accounts"),Xo.forEach(_),p=B(Vt),m=g(Vt,"DIV",{class:!0});var Nt=P(m);y=g(Nt,"DIV",{class:!0});var Go=P(y);ie(E.$$.fragment,Go),Go.forEach(_),S=B(Nt),v=g(Nt,"DIV",{class:!0});var qo=P(v);C=A(qo,"You can have a list of all your accounts with their balance and currency"),qo.forEach(_),Nt.forEach(_),Vt.forEach(_),L=B(at),U=g(at,"DIV",{class:!0});var Ot=P(U);D=g(Ot,"H3",{class:!0});var zo=P(D);I=A(zo,"Services"),zo.forEach(_),T=B(Ot),O=g(Ot,"DIV",{class:!0});var Mt=P(O);H=g(Mt,"DIV",{class:!0});var Zo=P(H);ie($.$$.fragment,Zo),Zo.forEach(_),Q=B(Mt),G=g(Mt,"DIV",{class:!0});var xo=P(G);re=A(xo,`You can store the services you need to pay every month, and see which ones you've already
					paid`),xo.forEach(_),Mt.forEach(_),Ot.forEach(_),z=B(at),K=g(at,"DIV",{class:!0});var Lt=P(K);q=g(Lt,"H3",{class:!0});var ei=P(q);le=A(ei,"Debts"),ei.forEach(_),J=B(Lt),Z=g(Lt,"DIV",{class:!0});var Yt=P(Z);ae=g(Yt,"DIV",{class:!0});var ti=P(ae);ie(W.$$.fragment,ti),ti.forEach(_),X=B(Yt),de=g(Yt,"DIV",{class:!0});var ni=P(de);ke=A(ni,"I can remind you of debts you need to pay or if someone owes you"),ni.forEach(_),Yt.forEach(_),Lt.forEach(_),Se=B(at),pe=g(at,"DIV",{class:!0});var Ht=P(pe);Ce=g(Ht,"H3",{class:!0});var oi=P(Ce);Le=A(oi,"Currencies"),oi.forEach(_),Pe=B(Ht),Ee=g(Ht,"DIV",{class:!0});var Wt=P(Ee);Ve=g(Wt,"DIV",{class:!0});var ii=P(Ve);ie(Ae.$$.fragment,ii),ii.forEach(_),et=B(Wt),Ie=g(Wt,"DIV",{class:!0});var ri=P(Ie);Be=A(ri,"You can create currencies and track the total sum of all the accounts in that currency."),ri.forEach(_),Wt.forEach(_),Ht.forEach(_),at.forEach(_),ge=B(Ue),Ke=g(Ue,"DIV",{class:!0});var $t=P(Ke);Ne=g($t,"DIV",{class:!0});var ai=P(Ne);_t=A(ai,"Ready?"),ai.forEach(_),vt=B($t),Fe=g($t,"A",{});var si=P(Fe);Oe=g(si,"BUTTON",{class:!0});var ci=P(Oe);yt=A(ci,"Start Now"),ci.forEach(_),si.forEach(_),$t.forEach(_),Ue.forEach(_),this.h()},h:function(){b(i,"class","main-info s-j2YPaHmUjYXA"),k(i,me,46,2,1344),b(a,"class","main-info s-j2YPaHmUjYXA"),k(a,me,47,2,1425),b(t,"class","main-info-container s-j2YPaHmUjYXA"),k(t,me,45,1,1308),b(f,"class","example-item-title s-j2YPaHmUjYXA"),k(f,me,51,3,1564),b(y,"class","item-square s-j2YPaHmUjYXA"),k(y,me,53,4,1644),b(v,"class","example-item-info"),k(v,me,56,4,1738),b(m,"class","item-and-info s-j2YPaHmUjYXA"),k(m,me,52,3,1612),b(c,"class","example-item"),k(c,me,50,2,1534),b(D,"class","example-item-title s-j2YPaHmUjYXA"),k(D,me,62,3,1910),b(H,"class","item-square s-j2YPaHmUjYXA"),k(H,me,64,4,1990),b(G,"class","example-item-info"),k(G,me,67,4,2084),b(O,"class","item-and-info s-j2YPaHmUjYXA"),k(O,me,63,3,1958),b(U,"class","example-item"),k(U,me,61,2,1880),b(q,"class","example-item-title s-j2YPaHmUjYXA"),k(q,me,74,3,2283),b(ae,"class","item-square s-j2YPaHmUjYXA"),k(ae,me,76,4,2360),b(de,"class","example-item-info"),k(de,me,79,4,2448),b(Z,"class","item-and-info s-j2YPaHmUjYXA"),k(Z,me,75,3,2328),b(K,"class","example-item"),k(K,me,73,2,2253),b(Ce,"class","example-item-title s-j2YPaHmUjYXA"),k(Ce,me,85,3,2612),b(Ve,"class","item-square s-j2YPaHmUjYXA"),k(Ve,me,87,4,2694),b(Ie,"class","example-item-info"),k(Ie,me,90,4,2790),b(Ee,"class","item-and-info s-j2YPaHmUjYXA"),k(Ee,me,86,3,2662),b(pe,"class","example-item"),k(pe,me,84,2,2582),b(u,"class","example-item-list s-j2YPaHmUjYXA"),k(u,me,49,1,1500),b(Ne,"class","call-to-action-info"),k(Ne,me,97,2,2985),b(Oe,"class","call-to-action-button button is-primary"),k(Oe,me,99,3,3067),k(Fe,me,98,2,3033),b(Ke,"class","call-to-action s-j2YPaHmUjYXA"),k(Ke,me,96,1,2954),b(e,"class","welcome s-j2YPaHmUjYXA"),k(e,me,44,0,1285)},m:function(De,Ue){M(De,e,Ue),d(e,t),d(t,i),d(i,s),d(t,n),d(t,a),d(a,r),d(e,l),d(e,u),d(u,c),d(c,f),d(f,h),d(c,p),d(c,m),d(m,y),te(E,y,null),d(m,S),d(m,v),d(v,C),d(u,L),d(u,U),d(U,D),d(D,I),d(U,T),d(U,O),d(O,H),te($,H,null),d(O,Q),d(O,G),d(G,re),d(u,z),d(u,K),d(K,q),d(q,le),d(K,J),d(K,Z),d(Z,ae),te(W,ae,null),d(Z,X),d(Z,de),d(de,ke),d(u,Se),d(u,pe),d(pe,Ce),d(Ce,Le),d(pe,Pe),d(pe,Ee),d(Ee,Ve),te(Ae,Ve,null),d(Ee,et),d(Ee,Ie),d(Ie,Be),d(e,ge),d(e,Ke),d(Ke,Ne),d(Ne,_t),d(Ke,vt),d(Ke,Fe),d(Fe,Oe),d(Oe,yt),ft=!0,bt||(tt=F(Fe,"click",o[1],!1,!1,!1,!1),bt=!0)},p:se,i:function(De){ft||(N(E.$$.fragment,De),N($.$$.fragment,De),N(W.$$.fragment,De),N(Ae.$$.fragment,De),ft=!0)},o:function(De){Y(E.$$.fragment,De),Y($.$$.fragment,De),Y(W.$$.fragment,De),Y(Ae.$$.fragment,De),ft=!1},d:function(De){De&&_(e),ne(E),ne($),ne(W),ne(Ae),bt=!1,tt()}};return V("SvelteRegisterBlock",{block:It,id:Uo.name,type:"component",source:"",ctx:o}),It}function fa(o,e,t){let{$$slots:i={},$$scope:s}=e;we("Welcome",i,[]);const n={examples:{account:{_id:"account",type:"account",name:"Bank Account",balance:5700,currency:"usd"},service:{_id:"service",type:"service",name:"Service",cost:200,currency:"usd",isManual:!0},debt:{_id:"debt",type:"debt",withWho:"Pedro",description:"Pizzas",amount:20,currency:"usd",theyPayMe:!1},currency:{_id:"currency",type:"currency",currency:"usd",total:8600}}};function a(){At("auth/create")}const r=[];return Object.keys(e).forEach(l=>{!~r.indexOf(l)&&l.slice(0,2)!=="$$"&&l!=="slot"&&console.warn(`<Welcome> was created with unknown prop '${l}'`)}),o.$capture_state=()=>({AccountSeeRender:ln,ServiceSeeRender:Jo,DebtSeeRender:Ko,CurrencySeeRender:Qo,goto:At,ui:n,startNowClicked:a}),[n,a]}class mr extends ve{constructor(e){super(e),ye(this,e,fa,Uo,be,{}),V("SvelteRegisterComponent",{component:this,tagName:"Welcome",options:e,id:Uo.name})}}const da="src/routes/+page.svelte";function Vo(o){let e,t;e=new mr({$$inline:!0});const i={c:function(){ee(e.$$.fragment)},l:function(n){ie(e.$$.fragment,n)},m:function(n,a){te(e,n,a),t=!0},i:function(n){t||(N(e.$$.fragment,n),t=!0)},o:function(n){Y(e.$$.fragment,n),t=!1},d:function(n){ne(e,n)}};return V("SvelteRegisterBlock",{block:i,id:Vo.name,type:"if",source:"(26:1) {#if ui.showNewcomerWelcome}",ctx:o}),i}function No(o){let e,t;e=new dr({$$inline:!0});const i={c:function(){ee(e.$$.fragment)},l:function(n){ie(e.$$.fragment,n)},m:function(n,a){te(e,n,a),t=!0},i:function(n){t||(N(e.$$.fragment,n),t=!0)},o:function(n){Y(e.$$.fragment,n),t=!1},d:function(n){ne(e,n)}};return V("SvelteRegisterBlock",{block:i,id:No.name,type:"if",source:"(29:1) {#if ui.showItems}",ctx:o}),i}function Oo(o){let e,t,i,s=o[0].showNewcomerWelcome&&Vo(o),n=o[0].showItems&&No(o);const a={c:function(){e=w("div"),s&&s.c(),t=R(),n&&n.c(),this.h()},l:function(l){e=g(l,"DIV",{class:!0});var u=P(e);s&&s.l(u),t=B(u),n&&n.l(u),u.forEach(_),this.h()},h:function(){b(e,"class","home s-y_bCXRrkrYfP"),k(e,da,24,0,659)},m:function(l,u){M(l,e,u),s&&s.m(e,null),d(e,t),n&&n.m(e,null),i=!0},p:function(l,[u]){l[0].showNewcomerWelcome?s?u&1&&N(s,1):(s=Vo(l),s.c(),N(s,1),s.m(e,t)):s&&(ue(),Y(s,1,1,()=>{s=null}),fe()),l[0].showItems?n?u&1&&N(n,1):(n=No(l),n.c(),N(n,1),n.m(e,null)):n&&(ue(),Y(n,1,1,()=>{n=null}),fe())},i:function(l){i||(N(s),N(n),i=!0)},o:function(l){Y(s),Y(n),i=!1},d:function(l){l&&_(e),s&&s.d(),n&&n.d()}};return V("SvelteRegisterBlock",{block:a,id:Oo.name,type:"component",source:"",ctx:o}),a}function ma(o,e,t){let{$$slots:i={},$$scope:s}=e;we("Page",i,[]);const n={};Te(()=>{hn.isSyncEnabled()?wn.hasValidToken()?t(0,n.showItems=!0,n):At("auth/login"):hn.hasLocalData()||t(0,n.showNewcomerWelcome=!0,n)});const a=[];return Object.keys(e).forEach(r=>{!~a.indexOf(r)&&r.slice(0,2)!=="$$"&&r!=="slot"&&console.warn(`<Page> was created with unknown prop '${r}'`)}),o.$capture_state=()=>({onMount:Te,UserStore:hn,Items:dr,Welcome:mr,AuthService:wn,goto:At,ui:n}),[n]}class ya extends ve{constructor(e){super(e),ye(this,e,ma,Oo,be,{}),V("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:Oo.name})}}export{ya as default};
