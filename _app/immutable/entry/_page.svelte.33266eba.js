var yr=Object.defineProperty;var br=(a,e,t)=>e in a?yr(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var Ue=(a,e,t)=>(br(a,typeof e!="symbol"?e+"":e,t),t);import{S as ae,i as se,s as ie,k as b,q as D,a as S,l as g,m as k,r as P,h as d,c as T,n as v,b as V,D as c,H as J,J as gr,o as Ne,K as xn,e as ee,L as H,M as er,N as vt,O as tr,P as ke,u as te,w as Xe,Q as xe,y as q,z,R as ue,A as K,T as et,U as He,g as A,d as O,B as F,v as re,f as le,V as Mt,W as nr,X as lt,Y as wr,x as tt,Z as kr,C as ln,E as an,F as sn,G as on,_ as Er,$ as $r}from"../chunks/index.02c9dc20.js";import{P as Ir,A as rr,g as Ut,U as cn}from"../chunks/auth.service.e7550806.js";import{e as Sr}from"../chunks/singletons.9e648c24.js";var Tt=function(a,e){return Tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])},Tt(a,e)};function wt(a,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Tt(a,e);function t(){this.constructor=a}a.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function Ct(a){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&a[e],n=0;if(t)return t.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&n>=a.length&&(a=void 0),{value:a&&a[n++],done:!a}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function yt(a,e){var t=typeof Symbol=="function"&&a[Symbol.iterator];if(!t)return a;var n=t.call(a),l,r=[],s;try{for(;(e===void 0||e-- >0)&&!(l=n.next()).done;)r.push(l.value)}catch(i){s={error:i}}finally{try{l&&!l.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return r}function bt(a,e,t){if(t||arguments.length===2)for(var n=0,l=e.length,r;n<l;n++)(r||!(n in e))&&(r||(r=Array.prototype.slice.call(e,0,n)),r[n]=e[n]);return a.concat(r||Array.prototype.slice.call(e))}function Oe(a){return typeof a=="function"}function lr(a){var e=function(n){Error.call(n),n.stack=new Error().stack},t=a(e);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var It=lr(function(a){return function(t){a(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(n,l){return l+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function Dt(a,e){if(a){var t=a.indexOf(e);0<=t&&a.splice(t,1)}}var kt=function(){function a(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return a.prototype.unsubscribe=function(){var e,t,n,l,r;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var i=Ct(s),o=i.next();!o.done;o=i.next()){var f=o.value;f.remove(this)}}catch(y){e={error:y}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}else s.remove(this);var h=this.initialTeardown;if(Oe(h))try{h()}catch(y){r=y instanceof It?y.errors:[y]}var u=this._finalizers;if(u){this._finalizers=null;try{for(var p=Ct(u),m=p.next();!m.done;m=p.next()){var _=m.value;try{un(_)}catch(y){r=r??[],y instanceof It?r=bt(bt([],yt(r)),yt(y.errors)):r.push(y)}}}catch(y){n={error:y}}finally{try{m&&!m.done&&(l=p.return)&&l.call(p)}finally{if(n)throw n.error}}}if(r)throw new It(r)}},a.prototype.add=function(e){var t;if(e&&e!==this)if(this.closed)un(e);else{if(e instanceof a){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}},a.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},a.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},a.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&Dt(t,e)},a.prototype.remove=function(e){var t=this._finalizers;t&&Dt(t,e),e instanceof a&&e._removeParent(this)},a.EMPTY=function(){var e=new a;return e.closed=!0,e}(),a}(),ar=kt.EMPTY;function sr(a){return a instanceof kt||a&&"closed"in a&&Oe(a.remove)&&Oe(a.add)&&Oe(a.unsubscribe)}function un(a){Oe(a)?a():a.unsubscribe()}var ir={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Pt={setTimeout:function(a,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];var l=Pt.delegate;return l!=null&&l.setTimeout?l.setTimeout.apply(l,bt([a,e],yt(t))):setTimeout.apply(void 0,bt([a,e],yt(t)))},clearTimeout:function(a){var e=Pt.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(a)},delegate:void 0};function Tr(a){Pt.setTimeout(function(){throw a})}function fn(){}function _t(a){a()}var or=function(a){wt(e,a);function e(t){var n=a.call(this)||this;return n.isStopped=!1,t?(n.destination=t,sr(t)&&t.add(n)):n.destination=Ar,n}return e.create=function(t,n,l){return new At(t,n,l)},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,a.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(kt),Cr=Function.prototype.bind;function St(a,e){return Cr.call(a,e)}var Dr=function(){function a(e){this.partialObserver=e}return a.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(n){mt(n)}},a.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(n){mt(n)}else mt(e)},a.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){mt(t)}},a}(),At=function(a){wt(e,a);function e(t,n,l){var r=a.call(this)||this,s;if(Oe(t)||!t)s={next:t??void 0,error:n??void 0,complete:l??void 0};else{var i;r&&ir.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=function(){return r.unsubscribe()},s={next:t.next&&St(t.next,i),error:t.error&&St(t.error,i),complete:t.complete&&St(t.complete,i)}):s=t}return r.destination=new Dr(s),r}return e}(or);function mt(a){Tr(a)}function Pr(a){throw a}var Ar={closed:!0,next:fn,error:Pr,complete:fn},Vr=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Mr(a){return a}function Ur(a){return a.length===0?Mr:a.length===1?a[0]:function(t){return a.reduce(function(n,l){return l(n)},t)}}var dn=function(){function a(e){e&&(this._subscribe=e)}return a.prototype.lift=function(e){var t=new a;return t.source=this,t.operator=e,t},a.prototype.subscribe=function(e,t,n){var l=this,r=Lr(e)?e:new At(e,t,n);return _t(function(){var s=l,i=s.operator,o=s.source;r.add(i?i.call(r,o):o?l._subscribe(r):l._trySubscribe(r))}),r},a.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},a.prototype.forEach=function(e,t){var n=this;return t=hn(t),new t(function(l,r){var s=new At({next:function(i){try{e(i)}catch(o){r(o),s.unsubscribe()}},error:r,complete:l});n.subscribe(s)})},a.prototype._subscribe=function(e){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(e)},a.prototype[Vr]=function(){return this},a.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ur(e)(this)},a.prototype.toPromise=function(e){var t=this;return e=hn(e),new e(function(n,l){var r;t.subscribe(function(s){return r=s},function(s){return l(s)},function(){return n(r)})})},a.create=function(e){return new a(e)},a}();function hn(a){var e;return(e=a??ir.Promise)!==null&&e!==void 0?e:Promise}function Or(a){return a&&Oe(a.next)&&Oe(a.error)&&Oe(a.complete)}function Lr(a){return a&&a instanceof or||Or(a)&&sr(a)}var Nr=lr(function(a){return function(){a(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Ot=function(a){wt(e,a);function e(){var t=a.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return e.prototype.lift=function(t){var n=new pn(this,this);return n.operator=t,n},e.prototype._throwIfClosed=function(){if(this.closed)throw new Nr},e.prototype.next=function(t){var n=this;_t(function(){var l,r;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var s=Ct(n.currentObservers),i=s.next();!i.done;i=s.next()){var o=i.value;o.next(t)}}catch(f){l={error:f}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(l)throw l.error}}}})},e.prototype.error=function(t){var n=this;_t(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=t;for(var l=n.observers;l.length;)l.shift().error(t)}})},e.prototype.complete=function(){var t=this;_t(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var n=t.observers;n.length;)n.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(t){return this._throwIfClosed(),a.prototype._trySubscribe.call(this,t)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var n=this,l=this,r=l.hasError,s=l.isStopped,i=l.observers;return r||s?ar:(this.currentObservers=null,i.push(t),new kt(function(){n.currentObservers=null,Dt(i,t)}))},e.prototype._checkFinalizedStatuses=function(t){var n=this,l=n.hasError,r=n.thrownError,s=n.isStopped;l?t.error(r):s&&t.complete()},e.prototype.asObservable=function(){var t=new dn;return t.source=this,t},e.create=function(t,n){return new pn(t,n)},e}(dn),pn=function(a){wt(e,a);function e(t,n){var l=a.call(this)||this;return l.destination=t,l.source=n,l}return e.prototype.next=function(t){var n,l;(l=(n=this.destination)===null||n===void 0?void 0:n.next)===null||l===void 0||l.call(n,t)},e.prototype.error=function(t){var n,l;(l=(n=this.destination)===null||n===void 0?void 0:n.error)===null||l===void 0||l.call(n,t)},e.prototype.complete=function(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)},e.prototype._subscribe=function(t){var n,l;return(l=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&l!==void 0?l:ar},e}(Ot);class we{static getUrl(){return this.url}static getHeaders(){return{Authorization:`Bearer ${rr.getToken()}`}}static async interceptResponse(e){const t=await e.json();if(e.status!==200&&e.status!==201)throw e.status===401&&Ut(`${Sr}/auth/login`),new Error(t);return t}}Ue(we,"url",Ir);class Br{static async create(e){const t=await fetch(this.getUrl(),{method:"POST",body:JSON.stringify(e),headers:this.getHeaders()});return we.interceptResponse(t)}static getUrl(){return`${we.getUrl()}/payments`}static getHeaders(){return we.getHeaders()}}class je{static async getItems(){const e=await fetch(this.getUrl(),{method:"GET",headers:this.getHeaders()}),t=await we.interceptResponse(e);return t.filter(l=>l.type==="currency").forEach(l=>{const r=t.filter(s=>s.type==="account"&&s.currency===l.currency);r&&r.length?l.total=r.map(s=>s.balance).reduce((s,i)=>s+i):l.total=0}),t}static async create(e){const t=await fetch(this.getUrl(),{method:"POST",body:JSON.stringify(e),headers:this.getHeaders()});return we.interceptResponse(t)}static async update(e,t){const n=await fetch(`${this.getUrl()}/${e}`,{method:"PATCH",body:JSON.stringify(t),headers:this.getHeaders()});return we.interceptResponse(n)}static async delete(e){const t=await fetch(`${this.getUrl()}/${e}`,{method:"DELETE",headers:this.getHeaders()});return we.interceptResponse(t)}static addPayment(e,t){return Br.create({...t,itemId:e})}static getUrl(){return`${we.getUrl()}/items`}static getHeaders(){return we.getHeaders()}}class Je{static async getList(){if(!this.list){const e=await fetch(this.getUrl(),{method:"GET",headers:this.getHeaders()});this.list=await we.interceptResponse(e)}return this.list}static async create(e){const t=await je.create(e);return this.list&&this.list.unshift(t),t}static async arsToUsd(e){const t=await this.getUsdToArsRatio();return e/t}static async getUsdToArsRatio(){if(!this.usdToArsRatio){const e=await fetch("https://api.bluelytics.com.ar/v2/latest",{method:"GET"});if(e.status==200){const t=await e.json();this.usdToArsRatio=t.blue.value_avg}}if(!this.usdToArsRatio)throw new Error("Couldn't get usd price");return this.usdToArsRatio}static async arsToUsdOnDate(e,t){if(!this.historicalUsdToArs[t]){const n=`https://api.bluelytics.com.ar/v2/historical?day=${t}`,l=await fetch(n,{method:"GET"});if(l.status==200){const r=await l.json();this.historicalUsdToArs[t]=r.blue.value_avg}}if(!this.historicalUsdToArs[t])throw new Error("Couldn't get usd price");return e/this.historicalUsdToArs[t]}static getUrl(){return`${we.getUrl()}/currency`}static getHeaders(){return we.getHeaders()}}Ue(Je,"list"),Ue(Je,"usdToArsRatio"),Ue(Je,"historicalUsdToArs",{});class Ze{static getCurrencies(){return Je.getList()}}Ue(Ze,"contextKey","currencyContext"),Ue(Ze,"currencyAddedSubject",new Ot);function mn(a,e,t){const n=a.slice();return n[6]=e[t],n}function Rr(a){let e,t;return{c(){e=b("div"),t=D("Loading currencies..."),this.h()},l(n){e=g(n,"DIV",{class:!0});var l=k(e);t=P(l,"Loading currencies..."),l.forEach(d),this.h()},h(){v(e,"class","loading")},m(n,l){V(n,e,l),c(e,t)},p:J,d(n){n&&d(e)}}}function Wr(a){let e;function t(r,s){return r[1].list.length?Hr:jr}let n=t(a),l=n(a);return{c(){l.c(),e=ee()},l(r){l.l(r),e=ee()},m(r,s){l.m(r,s),V(r,e,s)},p(r,s){n===(n=t(r))&&l?l.p(r,s):(l.d(1),l=n(r),l&&(l.c(),l.m(e.parentNode,e)))},d(r){l.d(r),r&&d(e)}}}function jr(a){let e,t,n,l,r,s;return{c(){e=b("div"),t=D("You don't have currencies "),n=b("button"),l=D("Create one"),this.h()},l(i){e=g(i,"DIV",{class:!0});var o=k(e);t=P(o,"You don't have currencies "),n=g(o,"BUTTON",{});var f=k(n);l=P(f,"Create one"),f.forEach(d),o.forEach(d),this.h()},h(){v(e,"class","create-currency-info svelte-1qu231b")},m(i,o){V(i,e,o),c(e,t),c(e,n),c(n,l),r||(s=H(n,"click",a[3]),r=!0)},p:J,d(i){i&&d(e),r=!1,s()}}}function Hr(a){let e,t,n,l,r,s,i=a[1].list,o=[];for(let f=0;f<i.length;f+=1)o[f]=_n(mn(a,i,f));return{c(){e=b("div"),t=b("select");for(let f=0;f<o.length;f+=1)o[f].c();n=b("option"),l=D("Create new currency"),this.h()},l(f){e=g(f,"DIV",{class:!0});var h=k(e);t=g(h,"SELECT",{id:!0,class:!0});var u=k(t);for(let m=0;m<o.length;m+=1)o[m].l(u);n=g(u,"OPTION",{});var p=k(n);l=P(p,"Create new currency"),p.forEach(d),u.forEach(d),h.forEach(d),this.h()},h(){n.__value="create-new",n.value=n.__value,v(t,"id","currency-input"),v(t,"class","w-100"),a[0]===void 0&&er(()=>a[4].call(t)),v(e,"class","select input-stretch")},m(f,h){V(f,e,h),c(e,t);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(t,null);c(t,n),c(n,l),vt(t,a[0]),r||(s=[H(n,"click",a[3]),H(t,"change",a[4]),H(t,"change",a[2])],r=!0)},p(f,h){if(h&2){i=f[1].list;let u;for(u=0;u<i.length;u+=1){const p=mn(f,i,u);o[u]?o[u].p(p,h):(o[u]=_n(p),o[u].c(),o[u].m(t,n))}for(;u<o.length;u+=1)o[u].d(1);o.length=i.length}h&3&&vt(t,f[0])},d(f){f&&d(e),tr(o,f),r=!1,ke(s)}}}function _n(a){let e,t=a[6]+"",n,l;return{c(){e=b("option"),n=D(t),this.h()},l(r){e=g(r,"OPTION",{});var s=k(e);n=P(s,t),s.forEach(d),this.h()},h(){e.__value=l=a[6],e.value=e.__value},m(r,s){V(r,e,s),c(e,n)},p(r,s){s&2&&t!==(t=r[6]+"")&&te(n,t),s&2&&l!==(l=r[6])&&(e.__value=l,e.value=e.__value)},d(r){r&&d(e)}}}function Yr(a){let e,t,n,l;function r(o,f){return o[1].list?Wr:Rr}let s=r(a),i=s(a);return{c(){e=b("div"),t=b("label"),n=D("Currency"),l=S(),i.c(),this.h()},l(o){e=g(o,"DIV",{class:!0});var f=k(e);t=g(f,"LABEL",{for:!0});var h=k(t);n=P(h,"Currency"),h.forEach(d),l=T(f),i.l(f),f.forEach(d),this.h()},h(){v(t,"for","currency-input"),v(e,"class","label-and-input")},m(o,f){V(o,e,f),c(e,t),c(t,n),c(e,l),i.m(e,null)},p(o,[f]){s===(s=r(o))&&i?i.p(o,f):(i.d(1),i=s(o),i&&(i.c(),i.m(e,null)))},i:J,o:J,d(o){o&&d(e),i.d()}}}function qr(a,e,t){let{value:n="ars"}=e;const l=gr(Ze.contextKey),r={createNewKey:"create-new"};Ne(async()=>{t(1,r.list=(await l.getCurrencies()).map(f=>f.currency),r)});function s(f){f.target.value===r.createNewKey&&i()}function i(){l.onGoToCreation()}function o(){n=xn(this),t(0,n),t(1,r)}return a.$$set=f=>{"value"in f&&t(0,n=f.value)},[n,r,s,i,o]}class Lt extends ae{constructor(e){super(),se(this,e,qr,Yr,ie,{value:0})}}function Kr(a){let e,t,n,l,r,s,i,o,f,h,u,p,m,_,y,w,$;function M(I){a[2](I)}let C={};return a[0].currency!==void 0&&(C.value=a[0].currency),i=new Lt({props:C}),Xe.push(()=>xe(i,"value",M)),{c(){e=b("div"),t=b("label"),n=D("Name"),l=S(),r=b("input"),s=S(),q(i.$$.fragment),f=S(),h=b("div"),u=b("label"),p=D("Balance"),m=S(),_=b("input"),this.h()},l(I){e=g(I,"DIV",{class:!0});var E=k(e);t=g(E,"LABEL",{for:!0});var U=k(t);n=P(U,"Name"),U.forEach(d),l=T(E),r=g(E,"INPUT",{id:!0,class:!0}),E.forEach(d),s=T(I),z(i.$$.fragment,I),f=T(I),h=g(I,"DIV",{class:!0});var j=k(h);u=g(j,"LABEL",{for:!0});var N=k(u);p=P(N,"Balance"),N.forEach(d),m=T(j),_=g(j,"INPUT",{id:!0,type:!0,class:!0}),j.forEach(d),this.h()},h(){v(t,"for","name-input"),v(r,"id","name-input"),v(r,"class","input-stretch"),v(e,"class","label-and-input"),v(u,"for","balance-input"),v(_,"id","balance-input"),v(_,"type","number"),v(_,"class","input-stretch"),v(h,"class","label-and-input")},m(I,E){V(I,e,E),c(e,t),c(t,n),c(e,l),c(e,r),ue(r,a[0].name),V(I,s,E),K(i,I,E),V(I,f,E),V(I,h,E),c(h,u),c(u,p),c(h,m),c(h,_),ue(_,a[0].balance),y=!0,w||($=[H(r,"input",a[1]),H(_,"input",a[3])],w=!0)},p(I,[E]){E&1&&r.value!==I[0].name&&ue(r,I[0].name);const U={};!o&&E&1&&(o=!0,U.value=I[0].currency,et(()=>o=!1)),i.$set(U),E&1&&He(_.value)!==I[0].balance&&ue(_,I[0].balance)},i(I){y||(A(i.$$.fragment,I),y=!0)},o(I){O(i.$$.fragment,I),y=!1},d(I){I&&d(e),I&&d(s),F(i,I),I&&d(f),I&&d(h),w=!1,ke($)}}}function Fr(a,e,t){let{config:n}=e;function l(){n.name=this.value,t(0,n)}function r(i){a.$$.not_equal(n.currency,i)&&(n.currency=i,t(0,n))}function s(){n.balance=He(this.value),t(0,n)}return a.$$set=i=>{"config"in i&&t(0,n=i.config)},[n,l,r,s]}class Nt extends ae{constructor(e){super(),se(this,e,Fr,Kr,ie,{config:0})}}function Qr(a){let e,t,n,l,r,s;return{c(){e=b("label"),t=b("input"),n=S(),l=b("span"),this.h()},l(i){e=g(i,"LABEL",{class:!0});var o=k(e);t=g(o,"INPUT",{type:!0,class:!0}),n=T(o),l=g(o,"SPAN",{class:!0}),k(l).forEach(d),o.forEach(d),this.h()},h(){v(t,"type","checkbox"),v(t,"class","svelte-1ufkol1"),v(l,"class","slider svelte-1ufkol1"),v(e,"class","switch svelte-1ufkol1")},m(i,o){V(i,e,o),c(e,t),t.checked=a[0],c(e,n),c(e,l),r||(s=H(t,"change",a[1]),r=!0)},p(i,[o]){o&1&&(t.checked=i[0])},i:J,o:J,d(i){i&&d(e),r=!1,s()}}}function Gr(a,e,t){let{checked:n}=e;function l(){n=this.checked,t(0,n)}return a.$$set=r=>{"checked"in r&&t(0,n=r.checked)},[n,l]}class cr extends ae{constructor(e){super(),se(this,e,Gr,Qr,ie,{checked:0})}}function zr(a){let e,t,n,l,r,s,i,o,f,h,u,p,m,_,y,w,$,M,C,I,E,U,j,N,B,Y,X,Q,R,Z,he;function ne(L){a[3](L)}let W={};a[0].currency!==void 0&&(W.value=a[0].currency),m=new Lt({props:W}),Xe.push(()=>xe(m,"value",ne));function x(L){a[4](L)}let oe={};return a[0].theyPayMe!==void 0&&(oe.checked=a[0].theyPayMe),E=new cr({props:oe}),Xe.push(()=>xe(E,"checked",x)),{c(){e=b("div"),t=b("label"),n=D("With who"),l=S(),r=b("input"),s=S(),i=b("div"),o=b("label"),f=D("Amount"),h=S(),u=b("input"),p=S(),q(m.$$.fragment),y=S(),w=b("div"),$=b("label"),M=D("They Pay Me"),C=S(),I=b("div"),q(E.$$.fragment),j=S(),N=b("div"),B=b("label"),Y=D("Description"),X=S(),Q=b("input"),this.h()},l(L){e=g(L,"DIV",{class:!0});var G=k(e);t=g(G,"LABEL",{for:!0});var ce=k(t);n=P(ce,"With who"),ce.forEach(d),l=T(G),r=g(G,"INPUT",{id:!0,class:!0}),G.forEach(d),s=T(L),i=g(L,"DIV",{class:!0});var fe=k(i);o=g(fe,"LABEL",{for:!0});var me=k(o);f=P(me,"Amount"),me.forEach(d),h=T(fe),u=g(fe,"INPUT",{id:!0,type:!0,class:!0}),fe.forEach(d),p=T(L),z(m.$$.fragment,L),y=T(L),w=g(L,"DIV",{class:!0});var _e=k(w);$=g(_e,"LABEL",{for:!0});var be=k($);M=P(be,"They Pay Me"),be.forEach(d),C=T(_e),I=g(_e,"DIV",{class:!0});var ve=k(I);z(E.$$.fragment,ve),ve.forEach(d),_e.forEach(d),j=T(L),N=g(L,"DIV",{class:!0});var ye=k(N);B=g(ye,"LABEL",{for:!0});var Te=k(B);Y=P(Te,"Description"),Te.forEach(d),X=T(ye),Q=g(ye,"INPUT",{id:!0,class:!0}),ye.forEach(d),this.h()},h(){v(t,"for","who-input"),v(r,"id","who-input"),v(r,"class","input-stretch"),v(e,"class","label-and-input"),v(o,"for","amount-input"),v(u,"id","amount-input"),v(u,"type","number"),v(u,"class","input-stretch"),v(i,"class","label-and-input"),v($,"for","is-manual-input"),v(I,"class","switch-container"),v(w,"class","label-and-input"),v(B,"for","description-input"),v(Q,"id","description-input"),v(Q,"class","input-stretch"),v(N,"class","label-and-input")},m(L,G){V(L,e,G),c(e,t),c(t,n),c(e,l),c(e,r),ue(r,a[0].withWho),V(L,s,G),V(L,i,G),c(i,o),c(o,f),c(i,h),c(i,u),ue(u,a[0].amount),V(L,p,G),K(m,L,G),V(L,y,G),V(L,w,G),c(w,$),c($,M),c(w,C),c(w,I),K(E,I,null),V(L,j,G),V(L,N,G),c(N,B),c(B,Y),c(N,X),c(N,Q),ue(Q,a[0].description),R=!0,Z||(he=[H(r,"input",a[1]),H(u,"input",a[2]),H(Q,"input",a[5])],Z=!0)},p(L,[G]){G&1&&r.value!==L[0].withWho&&ue(r,L[0].withWho),G&1&&He(u.value)!==L[0].amount&&ue(u,L[0].amount);const ce={};!_&&G&1&&(_=!0,ce.value=L[0].currency,et(()=>_=!1)),m.$set(ce);const fe={};!U&&G&1&&(U=!0,fe.checked=L[0].theyPayMe,et(()=>U=!1)),E.$set(fe),G&1&&Q.value!==L[0].description&&ue(Q,L[0].description)},i(L){R||(A(m.$$.fragment,L),A(E.$$.fragment,L),R=!0)},o(L){O(m.$$.fragment,L),O(E.$$.fragment,L),R=!1},d(L){L&&d(e),L&&d(s),L&&d(i),L&&d(p),F(m,L),L&&d(y),L&&d(w),F(E),L&&d(j),L&&d(N),Z=!1,ke(he)}}}function Jr(a,e,t){let{config:n}=e;function l(){n.withWho=this.value,t(0,n)}function r(){n.amount=He(this.value),t(0,n)}function s(f){a.$$.not_equal(n.currency,f)&&(n.currency=f,t(0,n))}function i(f){a.$$.not_equal(n.theyPayMe,f)&&(n.theyPayMe=f,t(0,n))}function o(){n.description=this.value,t(0,n)}return a.$$set=f=>{"config"in f&&t(0,n=f.config)},[n,l,r,s,i,o]}class Zr extends ae{constructor(e){super(),se(this,e,Jr,zr,ie,{config:0})}}function Xr(a){let e,t,n,l,r,s,i,o,f,h,u,p,m,_,y,w,$,M,C,I,E,U,j,N,B,Y,X,Q;function R(W){a[2](W)}let Z={};a[0].currency!==void 0&&(Z.value=a[0].currency),i=new Lt({props:Z}),Xe.push(()=>xe(i,"value",R));function he(W){a[4](W)}let ne={};return a[0].isManual!==void 0&&(ne.checked=a[0].isManual),E=new cr({props:ne}),Xe.push(()=>xe(E,"checked",he)),{c(){e=b("div"),t=b("label"),n=D("Name"),l=S(),r=b("input"),s=S(),q(i.$$.fragment),f=S(),h=b("div"),u=b("label"),p=D("Cost"),m=S(),_=b("input"),y=S(),w=b("div"),$=b("label"),M=D("Is Manual"),C=S(),I=b("div"),q(E.$$.fragment),j=S(),N=b("div"),B=D(`Mark the service as manual if you want to mark it as paid every month. You can change this setting\r
	later.`),this.h()},l(W){e=g(W,"DIV",{class:!0});var x=k(e);t=g(x,"LABEL",{for:!0});var oe=k(t);n=P(oe,"Name"),oe.forEach(d),l=T(x),r=g(x,"INPUT",{id:!0,class:!0}),x.forEach(d),s=T(W),z(i.$$.fragment,W),f=T(W),h=g(W,"DIV",{class:!0});var L=k(h);u=g(L,"LABEL",{for:!0});var G=k(u);p=P(G,"Cost"),G.forEach(d),m=T(L),_=g(L,"INPUT",{id:!0,type:!0,class:!0}),L.forEach(d),y=T(W),w=g(W,"DIV",{class:!0});var ce=k(w);$=g(ce,"LABEL",{for:!0});var fe=k($);M=P(fe,"Is Manual"),fe.forEach(d),C=T(ce),I=g(ce,"DIV",{class:!0});var me=k(I);z(E.$$.fragment,me),me.forEach(d),ce.forEach(d),j=T(W),N=g(W,"DIV",{});var _e=k(N);B=P(_e,`Mark the service as manual if you want to mark it as paid every month. You can change this setting\r
	later.`),_e.forEach(d),this.h()},h(){v(t,"for","name-input"),v(r,"id","name-input"),v(r,"class","input-stretch"),v(e,"class","label-and-input"),v(u,"for","cost-input"),v(_,"id","cost-input"),v(_,"type","number"),v(_,"class","input-stretch"),v(h,"class","label-and-input"),v($,"for","is-manual-input"),v(I,"class","switch-container svelte-1chm4va"),v(w,"class","label-and-input")},m(W,x){V(W,e,x),c(e,t),c(t,n),c(e,l),c(e,r),ue(r,a[0].name),V(W,s,x),K(i,W,x),V(W,f,x),V(W,h,x),c(h,u),c(u,p),c(h,m),c(h,_),ue(_,a[0].cost),V(W,y,x),V(W,w,x),c(w,$),c($,M),c(w,C),c(w,I),K(E,I,null),V(W,j,x),V(W,N,x),c(N,B),Y=!0,X||(Q=[H(r,"input",a[1]),H(_,"input",a[3])],X=!0)},p(W,[x]){x&1&&r.value!==W[0].name&&ue(r,W[0].name);const oe={};!o&&x&1&&(o=!0,oe.value=W[0].currency,et(()=>o=!1)),i.$set(oe),x&1&&He(_.value)!==W[0].cost&&ue(_,W[0].cost);const L={};!U&&x&1&&(U=!0,L.checked=W[0].isManual,et(()=>U=!1)),E.$set(L)},i(W){Y||(A(i.$$.fragment,W),A(E.$$.fragment,W),Y=!0)},o(W){O(i.$$.fragment,W),O(E.$$.fragment,W),Y=!1},d(W){W&&d(e),W&&d(s),F(i,W),W&&d(f),W&&d(h),W&&d(y),W&&d(w),F(E),W&&d(j),W&&d(N),X=!1,ke(Q)}}}function xr(a,e,t){let{config:n}=e;function l(){n.name=this.value,t(0,n)}function r(o){a.$$.not_equal(n.currency,o)&&(n.currency=o,t(0,n))}function s(){n.cost=He(this.value),t(0,n)}function i(o){a.$$.not_equal(n.isManual,o)&&(n.isManual=o,t(0,n))}return a.$$set=o=>{"config"in o&&t(0,n=o.config)},[n,l,r,s,i]}class el extends ae{constructor(e){super(),se(this,e,xr,Xr,ie,{config:0})}}function vn(a){let e,t,n;return{c(){e=b("span"),t=D("."),n=D(a[0]),this.h()},l(l){e=g(l,"SPAN",{class:!0});var r=k(e);t=P(r,"."),n=P(r,a[0]),r.forEach(d),this.h()},h(){v(e,"class","decimal-part svelte-7b3tfn")},m(l,r){V(l,e,r),c(e,t),c(e,n)},p(l,r){r&1&&te(n,l[0])},d(l){l&&d(e)}}}function tl(a){let e,t,n,l=a[0]!="0"&&vn(a);return{c(){e=b("span"),t=D(a[1]),l&&l.c(),n=ee(),this.h()},l(r){e=g(r,"SPAN",{class:!0});var s=k(e);t=P(s,a[1]),s.forEach(d),l&&l.l(r),n=ee(),this.h()},h(){v(e,"class","int-part")},m(r,s){V(r,e,s),c(e,t),l&&l.m(r,s),V(r,n,s)},p(r,[s]){s&2&&te(t,r[1]),r[0]!="0"?l?l.p(r,s):(l=vn(r),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},i:J,o:J,d(r){r&&d(e),l&&l.d(r),r&&d(n)}}}function nl(a,e,t){let n,l,{value:r}=e;return a.$$set=s=>{"value"in s&&t(2,r=s.value)},a.$$.update=()=>{a.$$.dirty&4&&t(1,n=Math.floor(r).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),a.$$.dirty&4&&t(0,l=((r-Math.floor(r))*100).toFixed(0))},[l,n,r]}class Le extends ae{constructor(e){super(),se(this,e,nl,tl,ie,{value:2})}}function rl(a){let e,t=a[0].name+"",n,l,r,s,i,o=a[0].currency+"",f,h;return s=new Le({props:{value:a[0].balance}}),{c(){e=b("div"),n=D(t),l=S(),r=b("div"),q(s.$$.fragment),i=S(),f=D(o),this.h()},l(u){e=g(u,"DIV",{class:!0});var p=k(e);n=P(p,t),p.forEach(d),l=T(u),r=g(u,"DIV",{class:!0});var m=k(r);z(s.$$.fragment,m),i=T(m),f=P(m,o),m.forEach(d),this.h()},h(){v(e,"class","name"),v(r,"class","data")},m(u,p){V(u,e,p),c(e,n),V(u,l,p),V(u,r,p),K(s,r,null),c(r,i),c(r,f),h=!0},p(u,[p]){(!h||p&1)&&t!==(t=u[0].name+"")&&te(n,t);const m={};p&1&&(m.value=u[0].balance),s.$set(m),(!h||p&1)&&o!==(o=u[0].currency+"")&&te(f,o)},i(u){h||(A(s.$$.fragment,u),h=!0)},o(u){O(s.$$.fragment,u),h=!1},d(u){u&&d(e),u&&d(l),u&&d(r),F(s)}}}function ll(a,e,t){let{data:n}=e;return a.$$set=l=>{"data"in l&&t(0,n=l.data)},[n]}class ur extends ae{constructor(e){super(),se(this,e,ll,rl,ie,{data:0})}}class ze{static calculatePayStateString(e){const n=this.getPaidAmount(e)>=e.amount,l=e.withWho;let r=`${l} owes`;const s=e.theyPayMe;return s&&n?`${l} paid`:!s&&n?`You paid ${l}`:!s&&!n?`You owe ${l}`:r}static getPaidAmount(e){let t=0;return e.payments&&e.payments.forEach(n=>t+=n.amount),t}static getOwedAmountOrZero(e){const t=this.getPaidAmount(e),n=e.amount-t;return n>0?n:0}}function yn(a){let e,t,n=a[1].payDirectionString+"",l,r,s,i,o,f=a[0].currency+"",h,u,p;return i=new Le({props:{value:a[1].amountToShow}}),{c(){e=b("div"),t=b("div"),l=D(n),r=S(),s=b("div"),q(i.$$.fragment),o=S(),h=D(f),this.h()},l(m){e=g(m,"DIV",{class:!0});var _=k(e);t=g(_,"DIV",{});var y=k(t);l=P(y,n),y.forEach(d),r=T(_),s=g(_,"DIV",{class:!0});var w=k(s);z(i.$$.fragment,w),o=T(w),h=P(w,f),w.forEach(d),_.forEach(d),this.h()},h(){v(s,"class","data"),v(e,"class",u=a[1].containerClass)},m(m,_){V(m,e,_),c(e,t),c(t,l),c(e,r),c(e,s),K(i,s,null),c(s,o),c(s,h),p=!0},p(m,_){(!p||_&2)&&n!==(n=m[1].payDirectionString+"")&&te(l,n);const y={};_&2&&(y.value=m[1].amountToShow),i.$set(y),(!p||_&1)&&f!==(f=m[0].currency+"")&&te(h,f),(!p||_&2&&u!==(u=m[1].containerClass))&&v(e,"class",u)},i(m){p||(A(i.$$.fragment,m),p=!0)},o(m){O(i.$$.fragment,m),p=!1},d(m){m&&d(e),F(i)}}}function al(a){let e,t,n=a[1]!=null&&yn(a);return{c(){n&&n.c(),e=ee()},l(l){n&&n.l(l),e=ee()},m(l,r){n&&n.m(l,r),V(l,e,r),t=!0},p(l,[r]){l[1]!=null?n?(n.p(l,r),r&2&&A(n,1)):(n=yn(l),n.c(),A(n,1),n.m(e.parentNode,e)):n&&(re(),O(n,1,1,()=>{n=null}),le())},i(l){t||(A(n),t=!0)},o(l){O(n),t=!1},d(l){n&&n.d(l),l&&d(e)}}}function sl(a,e,t){let{data:n}=e,l;return Ne(()=>{const r=ze.getPaidAmount(n),s=r>=n.amount;t(1,l={containerClass:s?"paid":"unpaid",payDirectionString:ze.calculatePayStateString(n),amountToShow:s?r:n.amount-r})}),a.$$set=r=>{"data"in r&&t(0,n=r.data)},[n,l]}class il extends ae{constructor(e){super(),se(this,e,sl,al,ie,{data:0})}}function ol(a){let e,t,n=a[0].name+"",l,r,s,i,o,f=a[0].currency+"",h,u,p;return i=new Le({props:{value:a[0].cost}}),{c(){e=b("div"),t=b("div"),l=D(n),r=S(),s=b("div"),q(i.$$.fragment),o=S(),h=D(f),this.h()},l(m){e=g(m,"DIV",{class:!0});var _=k(e);t=g(_,"DIV",{class:!0});var y=k(t);l=P(y,n),y.forEach(d),r=T(_),s=g(_,"DIV",{class:!0});var w=k(s);z(i.$$.fragment,w),o=T(w),h=P(w,f),w.forEach(d),_.forEach(d),this.h()},h(){v(t,"class","name"),v(s,"class","data"),v(e,"class",u=a[1].containerClass)},m(m,_){V(m,e,_),c(e,t),c(t,l),c(e,r),c(e,s),K(i,s,null),c(s,o),c(s,h),p=!0},p(m,[_]){(!p||_&1)&&n!==(n=m[0].name+"")&&te(l,n);const y={};_&1&&(y.value=m[0].cost),i.$set(y),(!p||_&1)&&f!==(f=m[0].currency+"")&&te(h,f),(!p||_&2&&u!==(u=m[1].containerClass))&&v(e,"class",u)},i(m){p||(A(i.$$.fragment,m),p=!0)},o(m){O(i.$$.fragment,m),p=!1},d(m){m&&d(e),F(i)}}}function cl(a,e,t){let{data:n}=e;const l={};return Ne(()=>{n.isManual&&($t.wasThisMonthPaid(n)?t(1,l.containerClass="paid",l):t(1,l.containerClass="unpaid",l))}),a.$$set=r=>{"data"in r&&t(0,n=r.data)},[n,l]}class ul extends ae{constructor(e){super(),se(this,e,cl,ol,ie,{data:0})}}function fl(a){let e,t=a[0].currency+"",n,l,r,s,i,o=a[0].currency+"",f,h;return s=new Le({props:{value:a[0].total}}),{c(){e=b("div"),n=D(t),l=S(),r=b("div"),q(s.$$.fragment),i=S(),f=D(o)},l(u){e=g(u,"DIV",{});var p=k(e);n=P(p,t),p.forEach(d),l=T(u),r=g(u,"DIV",{});var m=k(r);z(s.$$.fragment,m),i=T(m),f=P(m,o),m.forEach(d)},m(u,p){V(u,e,p),c(e,n),V(u,l,p),V(u,r,p),K(s,r,null),c(r,i),c(r,f),h=!0},p(u,[p]){(!h||p&1)&&t!==(t=u[0].currency+"")&&te(n,t);const m={};p&1&&(m.value=u[0].total),s.$set(m),(!h||p&1)&&o!==(o=u[0].currency+"")&&te(f,o)},i(u){h||(A(s.$$.fragment,u),h=!0)},o(u){O(s.$$.fragment,u),h=!1},d(u){u&&d(e),u&&d(l),u&&d(r),F(s)}}}function dl(a,e,t){let{data:n}=e;return a.$$set=l=>{"data"in l&&t(0,n=l.data)},[n]}class hl extends ae{constructor(e){super(),se(this,e,dl,fl,ie,{data:0})}}function bn(a){let e,t,n=a[0].name+"",l,r,s,i=a[0].balance+"",o,f,h=a[0].currency+"",u;return{c(){e=b("div"),t=b("div"),l=D(n),r=S(),s=b("div"),o=D(i),f=S(),u=D(h),this.h()},l(p){e=g(p,"DIV",{class:!0});var m=k(e);t=g(m,"DIV",{});var _=k(t);l=P(_,n),_.forEach(d),r=T(m),s=g(m,"DIV",{});var y=k(s);o=P(y,i),f=T(y),u=P(y,h),y.forEach(d),m.forEach(d),this.h()},h(){v(e,"class","account-see svelte-fip3ym")},m(p,m){V(p,e,m),c(e,t),c(t,l),c(e,r),c(e,s),c(s,o),c(s,f),c(s,u)},p(p,m){m&1&&n!==(n=p[0].name+"")&&te(l,n),m&1&&i!==(i=p[0].balance+"")&&te(o,i),m&1&&h!==(h=p[0].currency+"")&&te(u,h)},d(p){p&&d(e)}}}function pl(a){let e,t=a[0]!=null&&bn(a);return{c(){t&&t.c(),e=ee()},l(n){t&&t.l(n),e=ee()},m(n,l){t&&t.m(n,l),V(n,e,l)},p(n,[l]){n[0]!=null?t?t.p(n,l):(t=bn(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:J,o:J,d(n){t&&t.d(n),n&&d(e)}}}function ml(a,e,t){let{data:n}=e;return a.$$set=l=>{"data"in l&&t(0,n=l.data)},[n]}class Bt extends ae{constructor(e){super(),se(this,e,ml,pl,ie,{data:0})}}class Rt{}Ue(Rt,"$channel",new Ot);function gn(a,e,t){const n=a.slice();return n[5]=e[t],n}function _l(a){let e;return{c(){e=D("Loading payments...")},l(t){e=P(t,"Loading payments...")},m(t,n){V(t,e,n)},p:J,i:J,o:J,d(t){t&&d(e)}}}function vl(a){let e,t,n,l,r,s,i,o,f,h,u,p,m,_,y,w,$=[],M=new Map,C,I,E=a[1]&&wn(),U=a[0];const j=N=>N[5].amount+"//"+N[5].dateString+N[5].note;for(let N=0;N<U.length;N+=1){let B=gn(a,U,N),Y=j(B);M.set(Y,$[N]=En(Y,B))}return{c(){e=b("div"),t=b("div"),n=D("Payments"),l=S(),r=b("div"),s=b("div"),i=b("div"),o=D("Amount"),f=S(),h=b("div"),u=D("Date"),p=S(),E&&E.c(),m=S(),_=b("div"),y=D("Notes"),w=S();for(let N=0;N<$.length;N+=1)$[N].c();this.h()},l(N){e=g(N,"DIV",{class:!0});var B=k(e);t=g(B,"DIV",{class:!0});var Y=k(t);n=P(Y,"Payments"),Y.forEach(d),l=T(B),r=g(B,"DIV",{class:!0,role:!0});var X=k(r);s=g(X,"DIV",{class:!0,role:!0});var Q=k(s);i=g(Q,"DIV",{class:!0});var R=k(i);o=P(R,"Amount"),R.forEach(d),f=T(Q),h=g(Q,"DIV",{class:!0});var Z=k(h);u=P(Z,"Date"),Z.forEach(d),p=T(Q),E&&E.l(Q),m=T(Q),_=g(Q,"DIV",{class:!0});var he=k(_);y=P(he,"Notes"),he.forEach(d),Q.forEach(d),w=T(X);for(let ne=0;ne<$.length;ne+=1)$[ne].l(X);X.forEach(d),B.forEach(d),this.h()},h(){v(t,"class","pay-table__title svelte-1y83l8o"),v(i,"class","pay-table__column svelte-1y83l8o"),v(h,"class","pay-table__column svelte-1y83l8o"),v(_,"class","pay-table__column svelte-1y83l8o"),v(s,"class","pay-table__header pay-table__row svelte-1y83l8o"),v(s,"role","rowgroup"),v(r,"class",C="pay-table__table "+(a[1]?"pay-table__table_4-columns":"pay-table__table_3-columns")+" svelte-1y83l8o"),v(r,"role","table"),v(e,"class","pay-table svelte-1y83l8o")},m(N,B){V(N,e,B),c(e,t),c(t,n),c(e,l),c(e,r),c(r,s),c(s,i),c(i,o),c(s,f),c(s,h),c(h,u),c(s,p),E&&E.m(s,null),c(s,m),c(s,_),c(_,y),c(r,w);for(let Y=0;Y<$.length;Y+=1)$[Y]&&$[Y].m(r,null);I=!0},p(N,B){N[1]?E||(E=wn(),E.c(),E.m(s,m)):E&&(E.d(1),E=null),B&7&&(U=N[0],re(),$=Mt($,B,j,1,N,U,M,r,nr,En,null,gn),le()),(!I||B&2&&C!==(C="pay-table__table "+(N[1]?"pay-table__table_4-columns":"pay-table__table_3-columns")+" svelte-1y83l8o"))&&v(r,"class",C)},i(N){if(!I){for(let B=0;B<U.length;B+=1)A($[B]);I=!0}},o(N){for(let B=0;B<$.length;B+=1)O($[B]);I=!1},d(N){N&&d(e),E&&E.d();for(let B=0;B<$.length;B+=1)$[B].d()}}}function wn(a){let e,t;return{c(){e=b("div"),t=D("USD"),this.h()},l(n){e=g(n,"DIV",{class:!0});var l=k(e);t=P(l,"USD"),l.forEach(d),this.h()},h(){v(e,"class","pay-table__column svelte-1y83l8o")},m(n,l){V(n,e,l),c(e,t)},d(n){n&&d(e)}}}function kn(a){let e,t,n,l;const r=[bl,yl],s=[];function i(o,f){return o[5].usdAmount?0:1}return t=i(a),n=s[t]=r[t](a),{c(){e=b("div"),n.c(),this.h()},l(o){e=g(o,"DIV",{class:!0,role:!0});var f=k(e);n.l(f),f.forEach(d),this.h()},h(){v(e,"class","pay-table__column pay-table__usd svelte-1y83l8o"),v(e,"role","cell")},m(o,f){V(o,e,f),s[t].m(e,null),l=!0},p(o,f){let h=t;t=i(o),t===h?s[t].p(o,f):(re(),O(s[h],1,1,()=>{s[h]=null}),le(),n=s[t],n?n.p(o,f):(n=s[t]=r[t](o),n.c()),A(n,1),n.m(e,null))},i(o){l||(A(n),l=!0)},o(o){O(n),l=!1},d(o){o&&d(e),s[t].d()}}}function yl(a){let e;return{c(){e=D("Loading...")},l(t){e=P(t,"Loading...")},m(t,n){V(t,e,n)},p:J,i:J,o:J,d(t){t&&d(e)}}}function bl(a){let e,t;return e=new Le({props:{value:a[5].usdAmount}}),{c(){q(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,l){K(e,n,l),t=!0},p(n,l){const r={};l&1&&(r.value=n[5].usdAmount),e.$set(r)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){O(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function En(a,e){let t,n,l,r,s,i=e[5].dateString+"",o,f,h,u,p=(e[5].note??"-")+"",m,_,y,w,$;l=new Le({props:{value:e[5].amount}});let M=e[1]&&kn(e);function C(){return e[4](e[5])}return{key:a,first:null,c(){t=b("div"),n=b("div"),q(l.$$.fragment),r=S(),s=b("div"),o=D(i),f=S(),M&&M.c(),h=S(),u=b("div"),m=D(p),_=S(),this.h()},l(I){t=g(I,"DIV",{class:!0,role:!0});var E=k(t);n=g(E,"DIV",{class:!0,role:!0});var U=k(n);z(l.$$.fragment,U),U.forEach(d),r=T(E),s=g(E,"DIV",{class:!0,role:!0});var j=k(s);o=P(j,i),j.forEach(d),f=T(E),M&&M.l(E),h=T(E),u=g(E,"DIV",{class:!0,role:!0});var N=k(u);m=P(N,p),N.forEach(d),_=T(E),E.forEach(d),this.h()},h(){v(n,"class","pay-table__column pay-table__amount svelte-1y83l8o"),v(n,"role","cell"),v(s,"class","pay-table__column pay-table__date svelte-1y83l8o"),v(s,"role","cell"),v(u,"class","pay-table__column pay-table__note svelte-1y83l8o"),v(u,"role","cell"),v(t,"class","pay-table__row pay-table__row_clickable svelte-1y83l8o"),v(t,"role","rowgroup"),this.first=t},m(I,E){V(I,t,E),c(t,n),K(l,n,null),c(t,r),c(t,s),c(s,o),c(t,f),M&&M.m(t,null),c(t,h),c(t,u),c(u,m),c(t,_),y=!0,w||($=H(t,"click",C),w=!0)},p(I,E){e=I;const U={};E&1&&(U.value=e[5].amount),l.$set(U),(!y||E&1)&&i!==(i=e[5].dateString+"")&&te(o,i),e[1]?M?(M.p(e,E),E&2&&A(M,1)):(M=kn(e),M.c(),A(M,1),M.m(t,h)):M&&(re(),O(M,1,1,()=>{M=null}),le()),(!y||E&1)&&p!==(p=(e[5].note??"-")+"")&&te(m,p)},i(I){y||(A(l.$$.fragment,I),A(M),y=!0)},o(I){O(l.$$.fragment,I),O(M),y=!1},d(I){I&&d(t),F(l),M&&M.d(),w=!1,$()}}}function gl(a){let e,t,n,l;const r=[vl,_l],s=[];function i(o,f){return o[0]?0:1}return e=i(a),t=s[e]=r[e](a),{c(){t.c(),n=ee()},l(o){t.l(o),n=ee()},m(o,f){s[e].m(o,f),V(o,n,f),l=!0},p(o,[f]){let h=e;e=i(o),e===h?s[e].p(o,f):(re(),O(s[h],1,1,()=>{s[h]=null}),le(),t=s[e],t?t.p(o,f):(t=s[e]=r[e](o),t.c()),A(t,1),t.m(n.parentNode,n))},i(o){l||(A(t),l=!0)},o(o){O(t),l=!1},d(o){s[e].d(o),o&&d(n)}}}function wl(a,e,t){let{onRowClicked:n}=e,{payments:l}=e,{showUsdColumn:r}=e;function s(o){n(o)}const i=o=>s(o);return a.$$set=o=>{"onRowClicked"in o&&t(3,n=o.onRowClicked),"payments"in o&&t(0,l=o.payments),"showUsdColumn"in o&&t(1,r=o.showUsdColumn)},[l,r,s,n,i]}class fr extends ae{constructor(e){super(),se(this,e,wl,gl,ie,{onRowClicked:3,payments:0,showUsdColumn:1})}}function $n(a){let e,t,n,l,r,s,i,o,f,h,u,p,m,_,y,w,$,M,C=a[0]&&In(a);return{c(){e=b("div"),C&&C.c(),t=S(),n=b("input"),l=S(),r=b("input"),s=S(),i=b("input"),o=S(),f=b("div"),h=b("button"),u=D("Confirm"),m=S(),_=b("button"),y=D("Cancel"),this.h()},l(I){e=g(I,"DIV",{class:!0});var E=k(e);C&&C.l(E),t=T(E),n=g(E,"INPUT",{type:!0,class:!0,placeholder:!0}),l=T(E),r=g(E,"INPUT",{class:!0,type:!0,placeholder:!0}),s=T(E),i=g(E,"INPUT",{class:!0,type:!0,placeholder:!0}),o=T(E),f=g(E,"DIV",{class:!0});var U=k(f);h=g(U,"BUTTON",{class:!0});var j=k(h);u=P(j,"Confirm"),j.forEach(d),m=T(U),_=g(U,"BUTTON",{class:!0});var N=k(_);y=P(N,"Cancel"),N.forEach(d),U.forEach(d),E.forEach(d),this.h()},h(){v(n,"type","date"),v(n,"class","input"),v(n,"placeholder","Date"),v(r,"class","input"),v(r,"type","number"),v(r,"placeholder","Amount"),v(i,"class","input"),v(i,"type","text"),v(i,"placeholder","Note"),v(h,"class",p="button "+(a[1].loading?"is-loading":"")),_.disabled=w=a[1].loading,v(_,"class","button is-danger"),v(f,"class","pay-window__footer svelte-og27j9"),v(e,"class","pay-window")},m(I,E){V(I,e,E),C&&C.m(e,null),c(e,t),c(e,n),ue(n,a[1].payment.dateString),c(e,l),c(e,r),ue(r,a[1].payment.amount),c(e,s),c(e,i),ue(i,a[1].payment.note),c(e,o),c(e,f),c(f,h),c(h,u),c(f,m),c(f,_),c(_,y),$||(M=[H(n,"input",a[9]),H(r,"input",a[10]),H(i,"input",a[11]),H(h,"click",a[2]),H(_,"click",a[3])],$=!0)},p(I,E){I[0]?C?C.p(I,E):(C=In(I),C.c(),C.m(e,t)):C&&(C.d(1),C=null),E&2&&ue(n,I[1].payment.dateString),E&2&&He(r.value)!==I[1].payment.amount&&ue(r,I[1].payment.amount),E&2&&i.value!==I[1].payment.note&&ue(i,I[1].payment.note),E&2&&p!==(p="button "+(I[1].loading?"is-loading":""))&&v(h,"class",p),E&2&&w!==(w=I[1].loading)&&(_.disabled=w)},d(I){I&&d(e),C&&C.d(),$=!1,ke(M)}}}function In(a){let e,t,n,l,r,s,i,o;return{c(){e=b("div"),t=b("div"),n=D("Editing Payment"),l=S(),r=b("button"),s=D("Delete"),this.h()},l(f){e=g(f,"DIV",{class:!0});var h=k(e);t=g(h,"DIV",{class:!0});var u=k(t);n=P(u,"Editing Payment"),u.forEach(d),l=T(h),r=g(h,"BUTTON",{class:!0});var p=k(r);s=P(p,"Delete"),p.forEach(d),h.forEach(d),this.h()},h(){v(t,"class","pay-window__editing-title"),v(r,"class","button"),v(e,"class","pay-window__editing-header svelte-og27j9")},m(f,h){V(f,e,h),c(e,t),c(t,n),c(e,l),c(e,r),c(r,s),i||(o=H(r,"click",a[4]),i=!0)},p:J,d(f){f&&d(e),i=!1,o()}}}function kl(a){let e,t=a[1]&&$n(a);return{c(){t&&t.c(),e=ee()},l(n){t&&t.l(n),e=ee()},m(n,l){t&&t.m(n,l),V(n,e,l)},p(n,[l]){n[1]?t?t.p(n,l):(t=$n(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:J,o:J,d(n){t&&t.d(n),n&&d(e)}}}function El(a,e,t){let{defaultAmount:n=0}=e,{editedPayment:l}=e,{onConfirm:r}=e,{onCancel:s}=e,{onDelete:i}=e,o;Ne(()=>{if(l)t(1,o={payment:{...l}});else{const w=new Date(Date.now()).toISOString().substring(0,10);t(1,o={payment:{dateString:w,amount:n}})}});function f(){t(1,o.loading=!0,o),r(o.payment)}function h(){s(o.payment)}function u(){i(l)}function p(){o.payment.dateString=this.value,t(1,o)}function m(){o.payment.amount=He(this.value),t(1,o)}function _(){o.payment.note=this.value,t(1,o)}return a.$$set=y=>{"defaultAmount"in y&&t(5,n=y.defaultAmount),"editedPayment"in y&&t(0,l=y.editedPayment),"onConfirm"in y&&t(6,r=y.onConfirm),"onCancel"in y&&t(7,s=y.onCancel),"onDelete"in y&&t(8,i=y.onDelete)},[l,o,f,h,u,n,r,s,i,p,m,_]}class dr extends ae{constructor(e){super(),se(this,e,El,kl,ie,{defaultAmount:5,editedPayment:0,onConfirm:6,onCancel:7,onDelete:8})}}class We{static getPayTable(e,t,n){if(e&&e.length){if(!n){const l=[...e],r=t==="ars";return r&&l.forEach(s=>{Je.arsToUsdOnDate(s.amount,s.dateString).then(i=>{s.usdAmount=i})}),{payments:l,show:!0,showUsdColumn:r}}return{...n,show:!0}}}static async addPayment(e,t,n,l){n.saving=!0;const r=await je.addPayment(e._id,t);n.saving=!1,e.payments||(e.payments=[]),n.editedPayment?(n.editedPayment.amount=r.amount,n.editedPayment.dateString=r.dateString,n.editedPayment.note=r.note):(e.payments.unshift(r),e.payments=e.payments.sort((s,i)=>s.date>i.date?-1:s.date<i.date?1:0),l&&l.payments&&(l.payments.unshift(r),l.payments=l.payments.sort((s,i)=>s.dateString>i.dateString?-1:s.dateString<i.dateString?1:0)))}static getLastPayment(e){let t;for(const n of e){const l=new Date(n.dateString);(!t||l>t.date)&&(t={date:l,payment:n})}if(t)return t.payment}}function Sn(a){let e,t,n=a[1].payInfo+"",l,r,s,i,o,f,h=a[1].payStatus&&Tn(a),u=a[1].payTable&&a[1].payTable.show&&Cn(a),p=a[1].payWindow&&Dn(a),m=a[1].showPayButton&&Pn(a);return{c(){e=b("div"),t=b("div"),l=D(n),r=S(),h&&h.c(),s=S(),u&&u.c(),i=S(),p&&p.c(),o=S(),m&&m.c(),this.h()},l(_){e=g(_,"DIV",{class:!0});var y=k(e);t=g(y,"DIV",{});var w=k(t);l=P(w,n),w.forEach(d),r=T(y),h&&h.l(y),s=T(y),u&&u.l(y),i=T(y),p&&p.l(y),o=T(y),m&&m.l(y),y.forEach(d),this.h()},h(){v(e,"class","debt-see svelte-7eluyi")},m(_,y){V(_,e,y),c(e,t),c(t,l),c(e,r),h&&h.m(e,null),c(e,s),u&&u.m(e,null),c(e,i),p&&p.m(e,null),c(e,o),m&&m.m(e,null),f=!0},p(_,y){(!f||y&2)&&n!==(n=_[1].payInfo+"")&&te(l,n),_[1].payStatus?h?(h.p(_,y),y&2&&A(h,1)):(h=Tn(_),h.c(),A(h,1),h.m(e,s)):h&&(re(),O(h,1,1,()=>{h=null}),le()),_[1].payTable&&_[1].payTable.show?u?(u.p(_,y),y&2&&A(u,1)):(u=Cn(_),u.c(),A(u,1),u.m(e,i)):u&&(re(),O(u,1,1,()=>{u=null}),le()),_[1].payWindow?p?(p.p(_,y),y&2&&A(p,1)):(p=Dn(_),p.c(),A(p,1),p.m(e,o)):p&&(re(),O(p,1,1,()=>{p=null}),le()),_[1].showPayButton?m?m.p(_,y):(m=Pn(_),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},i(_){f||(A(h),A(u),A(p),f=!0)},o(_){O(h),O(u),O(p),f=!1},d(_){_&&d(e),h&&h.d(),u&&u.d(),p&&p.d(),m&&m.d()}}}function Tn(a){let e,t=a[1].payStatus.statusString+"",n,l,r,s,i,o,f=a[0].currency+"",h,u;return r=new Le({props:{value:a[1].payStatus.amount}}),i=new Le({props:{value:a[1].payStatus.total}}),{c(){e=b("div"),n=D(t),l=S(),q(r.$$.fragment),s=D(" of "),q(i.$$.fragment),o=S(),h=D(f)},l(p){e=g(p,"DIV",{});var m=k(e);n=P(m,t),l=T(m),z(r.$$.fragment,m),s=P(m," of "),z(i.$$.fragment,m),o=T(m),h=P(m,f),m.forEach(d)},m(p,m){V(p,e,m),c(e,n),c(e,l),K(r,e,null),c(e,s),K(i,e,null),c(e,o),c(e,h),u=!0},p(p,m){(!u||m&2)&&t!==(t=p[1].payStatus.statusString+"")&&te(n,t);const _={};m&2&&(_.value=p[1].payStatus.amount),r.$set(_);const y={};m&2&&(y.value=p[1].payStatus.total),i.$set(y),(!u||m&1)&&f!==(f=p[0].currency+"")&&te(h,f)},i(p){u||(A(r.$$.fragment,p),A(i.$$.fragment,p),u=!0)},o(p){O(r.$$.fragment,p),O(i.$$.fragment,p),u=!1},d(p){p&&d(e),F(r),F(i)}}}function Cn(a){let e,t;return e=new fr({props:{payments:a[1].payTable.payments,showUsdColumn:a[1].payTable.showUsdColumn,onRowClicked:a[5]}}),{c(){q(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,l){K(e,n,l),t=!0},p(n,l){const r={};l&2&&(r.payments=n[1].payTable.payments),l&2&&(r.showUsdColumn=n[1].payTable.showUsdColumn),e.$set(r)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){O(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Dn(a){let e,t;return e=new dr({props:{editedPayment:a[1].payWindow.editedPayment,defaultAmount:a[1].payWindow.defaultAmount,onConfirm:a[3],onCancel:a[2],onDelete:a[6]}}),{c(){q(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,l){K(e,n,l),t=!0},p(n,l){const r={};l&2&&(r.editedPayment=n[1].payWindow.editedPayment),l&2&&(r.defaultAmount=n[1].payWindow.defaultAmount),e.$set(r)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){O(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Pn(a){let e,t,n,l;return{c(){e=b("button"),t=D("Register payment"),this.h()},l(r){e=g(r,"BUTTON",{class:!0});var s=k(e);t=P(s,"Register payment"),s.forEach(d),this.h()},h(){v(e,"class","button")},m(r,s){V(r,e,s),c(e,t),n||(l=H(e,"click",a[4]),n=!0)},p:J,d(r){r&&d(e),n=!1,l()}}}function $l(a){let e,t,n=a[1]!=null&&Sn(a);return{c(){n&&n.c(),e=ee()},l(l){n&&n.l(l),e=ee()},m(l,r){n&&n.m(l,r),V(l,e,r),t=!0},p(l,[r]){l[1]!=null?n?(n.p(l,r),r&2&&A(n,1)):(n=Sn(l),n.c(),A(n,1),n.m(e.parentNode,e)):n&&(re(),O(n,1,1,()=>{n=null}),le())},i(l){t||(A(n),t=!0)},o(l){O(n),t=!1},d(l){n&&n.d(l),l&&d(e)}}}function Il(a,e,t){let{data:n}=e;const l=lt();let r={},s;Ne(()=>{s=Rt.$channel.subscribe(_=>{_.type==="itemEdited"&&i()}),i()}),wr(()=>{s&&s.unsubscribe()});function i(){const _=ze.getPaidAmount(n),y=_>=n.amount;t(1,r.showPayButton=!y,r),t(1,r.payInfo=ze.calculatePayStateString(n),r),n.description&&n.description.length>0&&t(1,r.payInfo+=` ${n.description}`,r),t(1,r.payTable=We.getPayTable(n.payments,n.currency,r.payTable),r),t(1,r.payStatus={isPaid:y,amount:n.theyPayMe&&y||y?_:n.amount-_,total:n.amount,statusString:ze.calculatePayStateString(n)},r)}function o(){t(1,r.payWindow=void 0,r),t(1,r.showPayButton=!0,r),r.payTable&&t(1,r.payTable.show=!0,r)}async function f(_){const y=r.payWindow;try{await We.addPayment(n,_,y,r.payTable),i(),t(1,r.payWindow=void 0,r),h()}catch(w){console.error(w),y.saving=!1}}function h(){l("update",n)}function u(){t(1,r.showPayButton=!1,r),t(1,r.payWindow={defaultAmount:ze.getOwedAmountOrZero(n)},r)}function p(_){t(1,r.payTable.show=!1,r),t(1,r.payWindow={editedPayment:_,defaultAmount:_.amount},r),t(1,r.showPayButton=!1,r)}function m(){const _=r.payWindow.editedPayment;n.payments.splice(n.payments.indexOf(_),1),je.update(n._id,{payments:n.payments}),t(1,r.payWindow=void 0,r),i()}return a.$$set=_=>{"data"in _&&t(0,n=_.data)},[n,r,o,f,u,p,m]}class hr extends ae{constructor(e){super(),se(this,e,Il,$l,ie,{data:0})}}function An(a,e,t){const n=a.slice();return n[13]=e[t],n}function Vn(a){let e,t,n,l,r,s,i=a[1].tabs.show&&Mn(a),o=a[1].tabs.activeTab==="main"&&On(a),f=a[1].tabs.activeTab==="payments"&&a[1].payTable&&a[1].payTable.show&&Bn(a),h=a[1].payWindow&&Rn(a),u=a[1].showPayButton&&Wn(a);return{c(){e=b("div"),i&&i.c(),t=S(),o&&o.c(),n=S(),f&&f.c(),l=S(),h&&h.c(),r=S(),u&&u.c(),this.h()},l(p){e=g(p,"DIV",{class:!0});var m=k(e);i&&i.l(m),t=T(m),o&&o.l(m),n=T(m),f&&f.l(m),l=T(m),h&&h.l(m),r=T(m),u&&u.l(m),m.forEach(d),this.h()},h(){v(e,"class","service-see svelte-tac2q1")},m(p,m){V(p,e,m),i&&i.m(e,null),c(e,t),o&&o.m(e,null),c(e,n),f&&f.m(e,null),c(e,l),h&&h.m(e,null),c(e,r),u&&u.m(e,null),s=!0},p(p,m){p[1].tabs.show?i?i.p(p,m):(i=Mn(p),i.c(),i.m(e,t)):i&&(i.d(1),i=null),p[1].tabs.activeTab==="main"?o?o.p(p,m):(o=On(p),o.c(),o.m(e,n)):o&&(o.d(1),o=null),p[1].tabs.activeTab==="payments"&&p[1].payTable&&p[1].payTable.show?f?(f.p(p,m),m&2&&A(f,1)):(f=Bn(p),f.c(),A(f,1),f.m(e,l)):f&&(re(),O(f,1,1,()=>{f=null}),le()),p[1].payWindow?h?(h.p(p,m),m&2&&A(h,1)):(h=Rn(p),h.c(),A(h,1),h.m(e,r)):h&&(re(),O(h,1,1,()=>{h=null}),le()),p[1].showPayButton?u?u.p(p,m):(u=Wn(p),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},i(p){s||(A(f),A(h),s=!0)},o(p){O(f),O(h),s=!1},d(p){p&&d(e),i&&i.d(),o&&o.d(),f&&f.d(),h&&h.d(),u&&u.d()}}}function Mn(a){let e,t,n=a[1].tabs.list,l=[];for(let r=0;r<n.length;r+=1)l[r]=Un(An(a,n,r));return{c(){e=b("div"),t=b("ul");for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l(r){e=g(r,"DIV",{class:!0});var s=k(e);t=g(s,"UL",{});var i=k(t);for(let o=0;o<l.length;o+=1)l[o].l(i);i.forEach(d),s.forEach(d),this.h()},h(){v(e,"class","service-tabs tabs svelte-tac2q1")},m(r,s){V(r,e,s),c(e,t);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(t,null)},p(r,s){if(s&130){n=r[1].tabs.list;let i;for(i=0;i<n.length;i+=1){const o=An(r,n,i);l[i]?l[i].p(o,s):(l[i]=Un(o),l[i].c(),l[i].m(t,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=n.length}},d(r){r&&d(e),tr(l,r)}}}function Un(a){let e,t,n=a[13].title+"",l,r,s,i,o;function f(){return a[9](a[13])}return{c(){e=b("li"),t=b("a"),l=D(n),r=S(),this.h()},l(h){e=g(h,"LI",{class:!0});var u=k(e);t=g(u,"A",{});var p=k(t);l=P(p,n),p.forEach(d),r=T(u),u.forEach(d),this.h()},h(){v(e,"class",s=a[13].active?"is-active":"")},m(h,u){V(h,e,u),c(e,t),c(t,l),c(e,r),i||(o=H(t,"click",f),i=!0)},p(h,u){a=h,u&2&&n!==(n=a[13].title+"")&&te(l,n),u&2&&s!==(s=a[13].active?"is-active":"")&&v(e,"class",s)},d(h){h&&d(e),i=!1,o()}}}function On(a){let e,t,n=a[0].name+"",l,r,s,i=a[0].cost+"",o,f,h=a[0].currency+"",u,p,m,_=a[1].lastPayment&&Ln(a),y=a[1].showChangePaidDateButton&&Nn(a);return{c(){e=b("div"),t=b("div"),l=D(n),r=S(),s=b("div"),o=D(i),f=S(),u=D(h),p=S(),_&&_.c(),m=S(),y&&y.c(),this.h()},l(w){e=g(w,"DIV",{class:!0});var $=k(e);t=g($,"DIV",{});var M=k(t);l=P(M,n),M.forEach(d),r=T($),s=g($,"DIV",{});var C=k(s);o=P(C,i),f=T(C),u=P(C,h),C.forEach(d),p=T($),_&&_.l($),m=T($),y&&y.l($),$.forEach(d),this.h()},h(){v(e,"class","service-see__body svelte-tac2q1")},m(w,$){V(w,e,$),c(e,t),c(t,l),c(e,r),c(e,s),c(s,o),c(s,f),c(s,u),c(e,p),_&&_.m(e,null),c(e,m),y&&y.m(e,null)},p(w,$){$&1&&n!==(n=w[0].name+"")&&te(l,n),$&1&&i!==(i=w[0].cost+"")&&te(o,i),$&1&&h!==(h=w[0].currency+"")&&te(u,h),w[1].lastPayment?_?_.p(w,$):(_=Ln(w),_.c(),_.m(e,m)):_&&(_.d(1),_=null),w[1].showChangePaidDateButton?y?y.p(w,$):(y=Nn(w),y.c(),y.m(e,null)):y&&(y.d(1),y=null)},d(w){w&&d(e),_&&_.d(),y&&y.d()}}}function Ln(a){let e,t,n,l,r,s=a[1].lastPayment.dateString+"",i;return{c(){e=b("div"),t=b("div"),n=D("Last pay date:"),l=S(),r=b("div"),i=D(s),this.h()},l(o){e=g(o,"DIV",{class:!0});var f=k(e);t=g(f,"DIV",{class:!0});var h=k(t);n=P(h,"Last pay date:"),h.forEach(d),l=T(f),r=g(f,"DIV",{class:!0});var u=k(r);i=P(u,s),u.forEach(d),f.forEach(d),this.h()},h(){v(t,"class","value-label"),v(r,"class","value"),v(e,"class","label-and-value svelte-tac2q1")},m(o,f){V(o,e,f),c(e,t),c(t,n),c(e,l),c(e,r),c(r,i)},p(o,f){f&2&&s!==(s=o[1].lastPayment.dateString+"")&&te(i,s)},d(o){o&&d(e)}}}function Nn(a){let e,t,n,l;return{c(){e=b("button"),t=D("Change Date"),this.h()},l(r){e=g(r,"BUTTON",{class:!0});var s=k(e);t=P(s,"Change Date"),s.forEach(d),this.h()},h(){v(e,"class","button")},m(r,s){V(r,e,s),c(e,t),n||(l=H(e,"click",a[3]),n=!0)},p:J,d(r){r&&d(e),n=!1,l()}}}function Bn(a){let e,t;return e=new fr({props:{payments:a[1].payTable.payments,showUsdColumn:a[1].payTable.showUsdColumn,onRowClicked:a[8]}}),{c(){q(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,l){K(e,n,l),t=!0},p(n,l){const r={};l&2&&(r.payments=n[1].payTable.payments),l&2&&(r.showUsdColumn=n[1].payTable.showUsdColumn),e.$set(r)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){O(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Rn(a){let e,t;return e=new dr({props:{editedPayment:a[1].payWindow.editedPayment,defaultAmount:a[1].payWindow.defaultAmount,onConfirm:a[4],onCancel:a[5],onDelete:a[6]}}),{c(){q(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,l){K(e,n,l),t=!0},p(n,l){const r={};l&2&&(r.editedPayment=n[1].payWindow.editedPayment),l&2&&(r.defaultAmount=n[1].payWindow.defaultAmount),e.$set(r)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){O(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Wn(a){let e,t,n,l;return{c(){e=b("button"),t=D("Register Payment"),this.h()},l(r){e=g(r,"BUTTON",{class:!0});var s=k(e);t=P(s,"Register Payment"),s.forEach(d),this.h()},h(){v(e,"class","button")},m(r,s){V(r,e,s),c(e,t),n||(l=H(e,"click",a[2]),n=!0)},p:J,d(r){r&&d(e),n=!1,l()}}}function Sl(a){let e,t,n=a[1]&&Vn(a);return{c(){n&&n.c(),e=ee()},l(l){n&&n.l(l),e=ee()},m(l,r){n&&n.m(l,r),V(l,e,r),t=!0},p(l,[r]){l[1]?n?(n.p(l,r),r&2&&A(n,1)):(n=Vn(l),n.c(),A(n,1),n.m(e.parentNode,e)):n&&(re(),O(n,1,1,()=>{n=null}),le())},i(l){t||(A(n),t=!0)},o(l){O(n),t=!1},d(l){n&&n.d(l),l&&d(e)}}}function Tl(a,e,t){let{data:n}=e;const l=lt();let r={tabs:{list:[{title:"Service",active:!0,type:"main"},{title:"Payments",type:"payments"}],activeTab:"main"}};Ne(()=>{s()});function s(){if(n.isManual){if(n.payments){t(1,r.lastPayment=We.getLastPayment(n.payments),r);const w=$t.wasThisMonthPaid(n);t(1,r.showPayButton=!w,r),t(1,r.showChangePaidDateButton=w,r)}else t(1,r.showPayButton=!0,r);t(1,r.payTable=We.getPayTable(n.payments,n.currency,r.payTable),r),t(1,r.tabs.show=n.payments&&n.payments.length>1,r)}}function i(){t(1,r.showPayButton=!1,r),t(1,r.payWindow={defaultAmount:n.cost},r)}function o(){t(1,r.showChangePaidDateButton=!1,r);const w=We.getLastPayment(n.payments);t(1,r.payWindow={editedPayment:w,defaultAmount:w.amount},r)}async function f(w){await We.addPayment(n,w,r.payWindow,r.payTable),t(1,r.payWindow=void 0,r),t(1,r.lastPayment=We.getLastPayment(n.payments),r),s(),h()}function h(){l("update",n)}function u(){t(1,r.payWindow=void 0,r),t(1,r.showPayButton=!0,r),r.payTable&&t(1,r.payTable.show=!0,r)}function p(){const w=r.payWindow.editedPayment;n.payments.splice(n.payments.indexOf(w),1),je.update(n._id,{payments:n.payments}),t(1,r.payWindow=void 0,r),s()}function m(w){r.tabs.list.forEach($=>$.active=!1),w.active=!0,t(1,r.tabs.activeTab=w.type,r)}function _(w){t(1,r.payTable.show=!1,r),t(1,r.payWindow={editedPayment:w,defaultAmount:w.amount},r),t(1,r.showPayButton=!1,r)}const y=w=>m(w);return a.$$set=w=>{"data"in w&&t(0,n=w.data)},[n,r,i,o,f,u,p,m,_,y]}class pr extends ae{constructor(e){super(),se(this,e,Tl,Sl,ie,{data:0})}}function jn(a){let e,t,n,l,r=a[0].currency+"",s,i,o,f,h,u=a[0].currency+"",p,m,_,y,w;return f=new Le({props:{value:a[0].total}}),{c(){e=b("div"),t=b("div"),n=D("This is the total of your accounts in "),l=b("strong"),s=D(r),i=S(),o=b("div"),q(f.$$.fragment),h=S(),p=D(u),m=S(),_=b("div"),y=D("You can delete this item if you want to delete the currency"),this.h()},l($){e=g($,"DIV",{class:!0});var M=k(e);t=g(M,"DIV",{});var C=k(t);n=P(C,"This is the total of your accounts in "),l=g(C,"STRONG",{});var I=k(l);s=P(I,r),I.forEach(d),C.forEach(d),i=T(M),o=g(M,"DIV",{class:!0});var E=k(o);z(f.$$.fragment,E),h=T(E),p=P(E,u),E.forEach(d),m=T(M),_=g(M,"DIV",{});var U=k(_);y=P(U,"You can delete this item if you want to delete the currency"),U.forEach(d),M.forEach(d),this.h()},h(){v(o,"class","currency-total svelte-qphfhg"),v(e,"class","currency-see svelte-qphfhg")},m($,M){V($,e,M),c(e,t),c(t,n),c(t,l),c(l,s),c(e,i),c(e,o),K(f,o,null),c(o,h),c(o,p),c(e,m),c(e,_),c(_,y),w=!0},p($,M){(!w||M&1)&&r!==(r=$[0].currency+"")&&te(s,r);const C={};M&1&&(C.value=$[0].total),f.$set(C),(!w||M&1)&&u!==(u=$[0].currency+"")&&te(p,u)},i($){w||(A(f.$$.fragment,$),w=!0)},o($){O(f.$$.fragment,$),w=!1},d($){$&&d(e),F(f)}}}function Cl(a){let e,t,n=a[0]!=null&&jn(a);return{c(){n&&n.c(),e=ee()},l(l){n&&n.l(l),e=ee()},m(l,r){n&&n.m(l,r),V(l,e,r),t=!0},p(l,[r]){l[0]!=null?n?(n.p(l,r),r&1&&A(n,1)):(n=jn(l),n.c(),A(n,1),n.m(e.parentNode,e)):n&&(re(),O(n,1,1,()=>{n=null}),le())},i(l){t||(A(n),t=!0)},o(l){O(n),t=!1},d(l){n&&n.d(l),l&&d(e)}}}function Dl(a,e,t){let{data:n}=e;return a.$$set=l=>{"data"in l&&t(0,n=l.data)},[n]}class mr extends ae{constructor(e){super(),se(this,e,Dl,Cl,ie,{data:0})}}function Pl(a){let e,t,n,l,r,s,i,o,f,h;return{c(){e=b("div"),t=b("label"),n=D("Abbreviation"),l=S(),r=b("input"),s=S(),i=b("div"),o=D("The total will be calculated automatically with the sum of the account balances"),this.h()},l(u){e=g(u,"DIV",{class:!0});var p=k(e);t=g(p,"LABEL",{for:!0});var m=k(t);n=P(m,"Abbreviation"),m.forEach(d),l=T(p),r=g(p,"INPUT",{id:!0,class:!0}),p.forEach(d),s=T(u),i=g(u,"DIV",{class:!0});var _=k(i);o=P(_,"The total will be calculated automatically with the sum of the account balances"),_.forEach(d),this.h()},h(){v(t,"for","abbreviation-input"),v(r,"id","abbreviation-input"),v(r,"class","input-stretch"),v(e,"class","label-and-input"),v(i,"class","currency-info svelte-697qay")},m(u,p){V(u,e,p),c(e,t),c(t,n),c(e,l),c(e,r),ue(r,a[0].currency),V(u,s,p),V(u,i,p),c(i,o),f||(h=H(r,"input",a[1]),f=!0)},p(u,[p]){p&1&&r.value!==u[0].currency&&ue(r,u[0].currency)},i:J,o:J,d(u){u&&d(e),u&&d(s),u&&d(i),f=!1,h()}}}function Al(a,e,t){let{config:n}=e;function l(){n.currency=this.value,t(0,n)}return a.$$set=r=>{"config"in r&&t(0,n=r.config)},[n,l]}class Vl extends ae{constructor(e){super(),se(this,e,Al,Pl,ie,{config:0})}}class Et{static getTypeString(){return"account"}static getListRender(){return ur}static getEditRender(){return Nt}static getSeeRender(){return Bt}static isItemOnQuery(e,t){return!1}}class gt extends Et{static getTypeString(){return"account"}static getListRender(){return ur}static getEditRender(){return Nt}static getSeeRender(){return Bt}static isItemOnQuery(e,t){const n=t.toLowerCase(),l=e;return!!(l.name.toLowerCase().includes(n)||l.balance.toString().includes(t)||l.currency.toLowerCase().includes(t))}}class $t extends Et{static getTypeString(){return"service"}static getListRender(){return ul}static getEditRender(){return el}static getSeeRender(){return pr}static isItemOnQuery(e,t){const n=t.toLowerCase(),l=e;return!!(l.name.toLowerCase().includes(n)||l.cost.toString().includes(t)||l.currency.toLowerCase().includes(t)||l.isManual&&t==="manual"||!l.isManual&&n==="auto")}static wasThisMonthPaid(e){if(!e.payments)return!1;const t=We.getLastPayment(e.payments);if(t!=null){const n=new Date,l=new Date(t.dateString.substring(0,10));return l!=null&&l.getMonth()===n.getMonth()&&l.getFullYear()===n.getFullYear()}return!1}}class Ye extends Et{static getTypeString(){return"currency"}static getListRender(){return hl}static getEditRender(){return Vl}static getSeeRender(){return mr}static calculate(e,t){t.total=0;for(let n=0;n<e.length;n++){const l=e[n];if(l.type===gt.getTypeString()){const r=l;r.currency===t.currency&&(t.total+=r.balance)}}}}class _r extends Et{static getTypeString(){return"debt"}static getListRender(){return il}static getEditRender(){return Zr}static getSeeRender(){return hr}static isItemOnQuery(e,t){const n=t.toLowerCase(),l=e;return!!(l.withWho.toLowerCase().includes(n)||l.amount.toString().includes(t)||l.currency.toLowerCase().includes(t))}}class nt{static getClassByTypeString(e){const t=this.itemClasses.find(n=>n.getTypeString()===e);if(t!=null)return t}static isItemOnQuery(e,t){var l;const n=t.toLowerCase();return e._id.includes(t)||e.type.toLowerCase().includes(n)?!0:(l=this.getClassByTypeString(e.type))==null?void 0:l.isItemOnQuery(e,t)}static getItemClasses(){return this.itemClasses}}Ue(nt,"itemClasses",[gt,$t,_r,Ye]);function Hn(a,e,t){const n=a.slice();return n[6]=e[t],n}function Yn(a){let e,t,n,l,r,s,i,o=[],f=new Map,h,u,p,m,_,y=a[2].typeOptions;const w=C=>C[6];for(let C=0;C<y.length;C+=1){let I=Hn(a,y,C),E=w(I);f.set(E,o[C]=qn(E,I))}var $=a[1];function M(C){return{props:{config:C[0]}}}return $&&(u=tt($,M(a))),{c(){e=b("div"),t=b("div"),n=b("label"),l=D("Type"),r=S(),s=b("div"),i=b("select");for(let C=0;C<o.length;C+=1)o[C].c();h=S(),u&&q(u.$$.fragment),this.h()},l(C){e=g(C,"DIV",{class:!0});var I=k(e);t=g(I,"DIV",{class:!0});var E=k(t);n=g(E,"LABEL",{for:!0});var U=k(n);l=P(U,"Type"),U.forEach(d),r=T(E),s=g(E,"DIV",{class:!0});var j=k(s);i=g(j,"SELECT",{id:!0,class:!0});var N=k(i);for(let B=0;B<o.length;B+=1)o[B].l(N);N.forEach(d),j.forEach(d),E.forEach(d),h=T(I),u&&z(u.$$.fragment,I),I.forEach(d),this.h()},h(){v(n,"for","type-input"),v(i,"id","type-input"),v(i,"class","w-100"),a[0].type===void 0&&er(()=>a[4].call(i)),v(s,"class","select input-stretch"),v(t,"class","label-and-input clickable-height"),v(e,"class","form svelte-1cl463d")},m(C,I){V(C,e,I),c(e,t),c(t,n),c(n,l),c(t,r),c(t,s),c(s,i);for(let E=0;E<o.length;E+=1)o[E]&&o[E].m(i,null);vt(i,a[0].type),c(e,h),u&&K(u,e,null),p=!0,m||(_=[H(i,"change",a[4]),H(i,"change",a[3])],m=!0)},p(C,I){I&4&&(y=C[2].typeOptions,o=Mt(o,I,w,1,C,y,f,i,kr,qn,null,Hn)),I&5&&vt(i,C[0].type);const E={};if(I&1&&(E.config=C[0]),I&2&&$!==($=C[1])){if(u){re();const U=u;O(U.$$.fragment,1,0,()=>{F(U,1)}),le()}$?(u=tt($,M(C)),q(u.$$.fragment),A(u.$$.fragment,1),K(u,e,null)):u=null}else $&&u.$set(E)},i(C){p||(u&&A(u.$$.fragment,C),p=!0)},o(C){u&&O(u.$$.fragment,C),p=!1},d(C){C&&d(e);for(let I=0;I<o.length;I+=1)o[I].d();u&&F(u),m=!1,ke(_)}}}function qn(a,e){let t,n=e[6]+"",l,r;return{key:a,first:null,c(){t=b("option"),l=D(n),this.h()},l(s){t=g(s,"OPTION",{});var i=k(t);l=P(i,n),i.forEach(d),this.h()},h(){t.__value=r=e[6],t.value=t.__value,this.first=t},m(s,i){V(s,t,i),c(t,l)},p(s,i){e=s,i&4&&n!==(n=e[6]+"")&&te(l,n),i&4&&r!==(r=e[6])&&(t.__value=r,t.value=t.__value)},d(s){s&&d(t)}}}function Ml(a){let e,t,n=a[2]!=null&&Yn(a);return{c(){n&&n.c(),e=ee()},l(l){n&&n.l(l),e=ee()},m(l,r){n&&n.m(l,r),V(l,e,r),t=!0},p(l,[r]){l[2]!=null?n?(n.p(l,r),r&4&&A(n,1)):(n=Yn(l),n.c(),A(n,1),n.m(e.parentNode,e)):n&&(re(),O(n,1,1,()=>{n=null}),le())},i(l){t||(A(n),t=!0)},o(l){O(n),t=!1},d(l){n&&n.d(l),l&&d(e)}}}function Ul(a,e,t){let{data:n}=e,l=Nt,r;Ne(()=>{t(2,r={typeOptions:nt.getItemClasses().map(f=>f.getTypeString())})});function s(f){const h=f.target.value;t(1,l=i(h)),t(0,n.type=h,n)}function i(f){return nt.getClassByTypeString(f).getEditRender()}function o(){n.type=xn(this),t(0,n),t(2,r)}return a.$$set=f=>{"data"in f&&t(0,n=f.data)},a.$$.update=()=>{a.$$.dirty&1&&t(1,l=i(n.type))},[n,l,r,s,o]}class vr extends ae{constructor(e){super(),se(this,e,Ul,Ml,ie,{data:0})}}function Ol(a){let e,t,n,l,r;var s=a[1];function i(o){return{props:{data:o[0]}}}return s&&(t=tt(s,i(a))),{c(){e=b("button"),t&&q(t.$$.fragment),this.h()},l(o){e=g(o,"BUTTON",{class:!0});var f=k(e);t&&z(t.$$.fragment,f),f.forEach(d),this.h()},h(){v(e,"class","square white-button")},m(o,f){V(o,e,f),t&&K(t,e,null),n=!0,l||(r=H(e,"click",a[2]),l=!0)},p(o,[f]){const h={};if(f&1&&(h.data=o[0]),s!==(s=o[1])){if(t){re();const u=t;O(u.$$.fragment,1,0,()=>{F(u,1)}),le()}s?(t=tt(s,i(o)),q(t.$$.fragment),A(t.$$.fragment,1),K(t,e,null)):t=null}else s&&t.$set(h)},i(o){n||(t&&A(t.$$.fragment,o),n=!0)},o(o){t&&O(t.$$.fragment,o),n=!1},d(o){o&&d(e),t&&F(t),l=!1,r()}}}function Ll(a,e,t){let{data:n}=e,l=nt.getClassByTypeString(n.type).getListRender();const r=lt();function s(){r("click",n)}return a.$$set=i=>{"data"in i&&t(0,n=i.data)},[n,l,s]}class Nl extends ae{constructor(e){super(),se(this,e,Ll,Ol,ie,{data:0})}}function Bl(a){let e,t,n;var l=a[1];function r(s){return{props:{data:s[0]}}}return l&&(e=tt(l,r(a)),e.$on("update",a[2])),{c(){e&&q(e.$$.fragment),t=ee()},l(s){e&&z(e.$$.fragment,s),t=ee()},m(s,i){e&&K(e,s,i),V(s,t,i),n=!0},p(s,[i]){const o={};if(i&1&&(o.data=s[0]),l!==(l=s[1])){if(e){re();const f=e;O(f.$$.fragment,1,0,()=>{F(f,1)}),le()}l?(e=tt(l,r(s)),e.$on("update",s[2]),q(e.$$.fragment),A(e.$$.fragment,1),K(e,t.parentNode,t)):e=null}else l&&e.$set(o)},i(s){n||(e&&A(e.$$.fragment,s),n=!0)},o(s){e&&O(e.$$.fragment,s),n=!1},d(s){s&&d(t),e&&F(e,s)}}}function Rl(a,e,t){let{data:n}=e;const l=lt();let r=nt.getClassByTypeString(n.type).getSeeRender();function s(i){l("update",i.detail)}return a.$$set=i=>{"data"in i&&t(0,n=i.data)},[n,r,s]}class Wl extends ae{constructor(e){super(),se(this,e,Rl,Bl,ie,{data:0})}}const jl=a=>({}),Kn=a=>({});function Hl(a){let e,t,n,l,r,s,i,o,f,h;const u=a[3].default,p=ln(u,a,a[2],null),m=a[3].footer,_=ln(m,a,a[2],Kn);return{c(){e=b("div"),t=b("button"),n=S(),l=b("div"),r=b("div"),p&&p.c(),s=S(),i=b("div"),_&&_.c(),this.h()},l(y){e=g(y,"DIV",{class:!0});var w=k(e);t=g(w,"BUTTON",{class:!0}),k(t).forEach(d),n=T(w),l=g(w,"DIV",{class:!0});var $=k(l);r=g($,"DIV",{class:!0});var M=k(r);p&&p.l(M),M.forEach(d),s=T($),i=g($,"DIV",{class:!0});var C=k(i);_&&_.l(C),C.forEach(d),$.forEach(d),w.forEach(d),this.h()},h(){v(t,"class","modal-background svelte-9s1juy"),v(r,"class","modal-body svelte-9s1juy"),v(i,"class","modal-footer svelte-9s1juy"),v(l,"class","modal-content svelte-9s1juy"),v(e,"class","modal svelte-9s1juy")},m(y,w){V(y,e,w),c(e,t),c(e,n),c(e,l),c(l,r),p&&p.m(r,null),c(l,s),c(l,i),_&&_.m(i,null),o=!0,f||(h=[H(window,"keyup",a[0]),H(t,"click",a[1])],f=!0)},p(y,[w]){p&&p.p&&(!o||w&4)&&an(p,u,y,y[2],o?on(u,y[2],w,null):sn(y[2]),null),_&&_.p&&(!o||w&4)&&an(_,m,y,y[2],o?on(m,y[2],w,jl):sn(y[2]),Kn)},i(y){o||(A(p,y),A(_,y),o=!0)},o(y){O(p,y),O(_,y),o=!1},d(y){y&&d(e),p&&p.d(y),_&&_.d(y),f=!1,ke(h)}}}function Yl(a,e,t){let{$$slots:n={},$$scope:l}=e;const r=lt();function s(o){o.key==="Escape"?r("escapeKeyUp"):o.key==="Enter"&&r("enterKeyUp")}function i(){r("backgroundClick")}return a.$$set=o=>{"$$scope"in o&&t(2,l=o.$$scope)},[s,i,l,n]}class Wt extends ae{constructor(e){super(),se(this,e,Yl,Hl,ie,{})}}function Vt(a){return Array.isArray(a)?a.map(e=>Vt(e)):a instanceof Date?new Date(a.getTime()):a&&typeof a=="object"?Object.getOwnPropertyNames(a).reduce((e,t)=>(Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t)),e[t]=Vt(a[t]),e),Object.create(Object.getPrototypeOf(a))):a}function Fn(a,e,t){const n=a.slice();return n[26]=e[t],n}function ql(a){let e,t;return{c(){e=b("div"),t=D("Loading, please wait..."),this.h()},l(n){e=g(n,"DIV",{class:!0});var l=k(e);t=P(l,"Loading, please wait..."),l.forEach(d),this.h()},h(){v(e,"class","loading svelte-177u0ux")},m(n,l){V(n,e,l),c(e,t)},p:J,i:J,o:J,d(n){n&&d(e)}}}function Kl(a){let e,t,n,l;const r=[Ql,Fl],s=[];function i(o,f){return o[1].list.length||o[0]?0:1}return e=i(a),t=s[e]=r[e](a),{c(){t.c(),n=ee()},l(o){t.l(o),n=ee()},m(o,f){s[e].m(o,f),V(o,n,f),l=!0},p(o,f){let h=e;e=i(o),e===h?s[e].p(o,f):(re(),O(s[h],1,1,()=>{s[h]=null}),le(),t=s[e],t?t.p(o,f):(t=s[e]=r[e](o),t.c()),A(t,1),t.m(n.parentNode,n))},i(o){l||(A(t),l=!0)},o(o){O(t),l=!1},d(o){s[e].d(o),o&&d(n)}}}function Fl(a){let e,t,n,l,r,s,i,o,f,h,u,p,m,_,y,w,$,M,C,I,E,U,j,N,B,Y,X,Q,R,Z,he,ne,W,x,oe,L,G,ce,fe,me,_e,be,ve,ye,Te;return{c(){e=b("div"),t=b("div"),n=D("Welcome, let's start creating your first Item, choose one of the following:"),l=S(),r=b("div"),s=b("div"),i=D("Account"),o=S(),f=b("div"),h=D(`Create an Account to keep track of the balance of an specific bank account or wallet you\r
						want to track.`),u=S(),p=b("button"),m=D("Create Account"),_=S(),y=b("div"),w=b("div"),$=D("Service"),M=S(),C=b("div"),I=D(`Create a Service to keep track of something you need to pay every month. We will help\r
						you identify when was your last payment and the services you need to pay before the\r
						month ends.`),E=S(),U=b("button"),j=D("Create Service"),N=S(),B=b("div"),Y=b("div"),X=D("Debt"),Q=S(),R=b("div"),Z=D(`Create a Debt to keep track of an amount someone owes you or that you owe to someone.\r
						You can mark it as paid when is time.`),he=S(),ne=b("button"),W=D("Create Debt"),x=S(),oe=b("div"),L=b("div"),G=D("Currency"),ce=S(),fe=b("div"),me=D(`Create a Currency to organize your accounts by linking them to it, then you will be able\r
						to see the sum of all the accounts in the same currency.`),_e=S(),be=b("button"),ve=D("Create Currency"),this.h()},l(Ce){e=g(Ce,"DIV",{id:!0,class:!0});var de=k(e);t=g(de,"DIV",{id:!0,class:!0});var De=k(t);n=P(De,"Welcome, let's start creating your first Item, choose one of the following:"),De.forEach(d),l=T(de),r=g(de,"DIV",{});var ge=k(r);s=g(ge,"DIV",{class:!0});var qe=k(s);i=P(qe,"Account"),qe.forEach(d),o=T(ge),f=g(ge,"DIV",{class:!0});var Pe=k(f);h=P(Pe,`Create an Account to keep track of the balance of an specific bank account or wallet you\r
						want to track.`),Pe.forEach(d),u=T(ge),p=g(ge,"BUTTON",{class:!0});var Ke=k(p);m=P(Ke,"Create Account"),Ke.forEach(d),ge.forEach(d),_=T(de),y=g(de,"DIV",{});var Ie=k(y);w=g(Ie,"DIV",{class:!0});var Ee=k(w);$=P(Ee,"Service"),Ee.forEach(d),M=T(Ie),C=g(Ie,"DIV",{class:!0});var Ae=k(C);I=P(Ae,`Create a Service to keep track of something you need to pay every month. We will help\r
						you identify when was your last payment and the services you need to pay before the\r
						month ends.`),Ae.forEach(d),E=T(Ie),U=g(Ie,"BUTTON",{class:!0});var Fe=k(U);j=P(Fe,"Create Service"),Fe.forEach(d),Ie.forEach(d),N=T(de),B=g(de,"DIV",{});var Se=k(B);Y=g(Se,"DIV",{class:!0});var Ve=k(Y);X=P(Ve,"Debt"),Ve.forEach(d),Q=T(Se),R=g(Se,"DIV",{class:!0});var Me=k(R);Z=P(Me,`Create a Debt to keep track of an amount someone owes you or that you owe to someone.\r
						You can mark it as paid when is time.`),Me.forEach(d),he=T(Se),ne=g(Se,"BUTTON",{class:!0});var Qe=k(ne);W=P(Qe,"Create Debt"),Qe.forEach(d),Se.forEach(d),x=T(de),oe=g(de,"DIV",{});var $e=k(oe);L=g($e,"DIV",{class:!0});var Ge=k(L);G=P(Ge,"Currency"),Ge.forEach(d),ce=T($e),fe=g($e,"DIV",{class:!0});var rt=k(fe);me=P(rt,`Create a Currency to organize your accounts by linking them to it, then you will be able\r
						to see the sum of all the accounts in the same currency.`),rt.forEach(d),_e=T($e),be=g($e,"BUTTON",{class:!0});var pe=k(be);ve=P(pe,"Create Currency"),pe.forEach(d),$e.forEach(d),de.forEach(d),this.h()},h(){v(t,"id","empty-state-welcome"),v(t,"class","svelte-177u0ux"),v(s,"class","title"),v(f,"class","description"),v(p,"class","button"),v(w,"class","title"),v(C,"class","description"),v(U,"class","button"),v(Y,"class","title"),v(R,"class","description"),v(ne,"class","button"),v(L,"class","title"),v(fe,"class","description"),v(be,"class","button"),v(e,"id","empty-state"),v(e,"class","svelte-177u0ux")},m(Ce,de){V(Ce,e,de),c(e,t),c(t,n),c(e,l),c(e,r),c(r,s),c(s,i),c(r,o),c(r,f),c(f,h),c(r,u),c(r,p),c(p,m),c(e,_),c(e,y),c(y,w),c(w,$),c(y,M),c(y,C),c(C,I),c(y,E),c(y,U),c(U,j),c(e,N),c(e,B),c(B,Y),c(Y,X),c(B,Q),c(B,R),c(R,Z),c(B,he),c(B,ne),c(ne,W),c(e,x),c(e,oe),c(oe,L),c(L,G),c(oe,ce),c(oe,fe),c(fe,me),c(oe,_e),c(oe,be),c(be,ve),ye||(Te=[H(p,"click",a[12]),H(U,"click",a[13]),H(ne,"click",a[14]),H(be,"click",a[15])],ye=!0)},p:J,i:J,o:J,d(Ce){Ce&&d(e),ye=!1,ke(Te)}}}function Ql(a){let e,t,n,l,r,s,i,o,f,h,u,p,m,_=[],y=new Map,w,$,M,C=a[1].list;const I=E=>E[26]._id+E[26].type+E[26].updateDate;for(let E=0;E<C.length;E+=1){let U=Fn(a,C,E),j=I(U);y.set(j,_[E]=Qn(j,U))}return{c(){e=b("header"),t=b("div"),n=b("p"),l=b("input"),r=S(),s=b("span"),i=b("i"),o=S(),f=b("main"),h=b("button"),u=b("div"),p=D("Add"),m=S();for(let E=0;E<_.length;E+=1)_[E].c();this.h()},l(E){e=g(E,"HEADER",{id:!0,class:!0});var U=k(e);t=g(U,"DIV",{class:!0});var j=k(t);n=g(j,"P",{class:!0});var N=k(n);l=g(N,"INPUT",{class:!0}),r=T(N),s=g(N,"SPAN",{class:!0});var B=k(s);i=g(B,"I",{class:!0}),k(i).forEach(d),B.forEach(d),N.forEach(d),j.forEach(d),U.forEach(d),o=T(E),f=g(E,"MAIN",{id:!0,class:!0});var Y=k(f);h=g(Y,"BUTTON",{class:!0});var X=k(h);u=g(X,"DIV",{class:!0});var Q=k(u);p=P(Q,"Add"),Q.forEach(d),X.forEach(d),m=T(Y);for(let R=0;R<_.length;R+=1)_[R].l(Y);Y.forEach(d),this.h()},h(){v(l,"class","search-bar input"),v(i,"class","fa-solid fa-magnifying-glass"),v(s,"class","icon is-small is-left"),v(n,"class","control has-icons-left"),v(t,"class","field"),v(e,"id","header"),v(e,"class","svelte-177u0ux"),v(u,"class","title"),v(h,"class","square white-button"),v(f,"id","whiteboard"),v(f,"class","svelte-177u0ux")},m(E,U){V(E,e,U),c(e,t),c(t,n),c(n,l),c(n,r),c(n,s),c(s,i),V(E,o,U),V(E,f,U),c(f,h),c(h,u),c(u,p),c(f,m);for(let j=0;j<_.length;j+=1)_[j]&&_[j].m(f,null);w=!0,$||(M=[H(l,"input",a[11]),H(h,"click",a[2])],$=!0)},p(E,U){U&34&&(C=E[1].list,re(),_=Mt(_,U,I,1,E,C,y,f,nr,Qn,null,Fn),le())},i(E){if(!w){for(let U=0;U<C.length;U+=1)A(_[U]);w=!0}},o(E){for(let U=0;U<_.length;U+=1)O(_[U]);w=!1},d(E){E&&d(e),E&&d(o),E&&d(f);for(let U=0;U<_.length;U+=1)_[U].d();$=!1,ke(M)}}}function Qn(a,e){let t,n,l;return n=new Nl({props:{data:e[26]}}),n.$on("click",e[5]),{key:a,first:null,c(){t=ee(),q(n.$$.fragment),this.h()},l(r){t=ee(),z(n.$$.fragment,r),this.h()},h(){this.first=t},m(r,s){V(r,t,s),K(n,r,s),l=!0},p(r,s){e=r;const i={};s&2&&(i.data=e[26]),n.$set(i)},i(r){l||(A(n.$$.fragment,r),l=!0)},o(r){O(n.$$.fragment,r),l=!1},d(r){r&&d(t),F(n,r)}}}function Gn(a){let e,t;return e=new Wt({props:{$$slots:{footer:[zl],default:[Gl]},$$scope:{ctx:a}}}),e.$on("backgroundClick",a[4]),e.$on("escapeKeyUp",a[4]),e.$on("enterKeyUp",a[3]),{c(){q(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,l){K(e,n,l),t=!0},p(n,l){const r={};l&536870914&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){O(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Gl(a){let e,t;return e=new vr({props:{data:a[1].creationModal.data}}),{c(){q(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,l){K(e,n,l),t=!0},p(n,l){const r={};l&2&&(r.data=n[1].creationModal.data),e.$set(r)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){O(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function zl(a){let e,t,n,l,r,s,i,o,f;return{c(){e=b("div"),t=b("button"),n=D("Save"),r=S(),s=b("button"),i=D("Cancel"),this.h()},l(h){e=g(h,"DIV",{slot:!0,class:!0});var u=k(e);t=g(u,"BUTTON",{class:!0});var p=k(t);n=P(p,"Save"),p.forEach(d),r=T(u),s=g(u,"BUTTON",{class:!0});var m=k(s);i=P(m,"Cancel"),m.forEach(d),u.forEach(d),this.h()},h(){v(t,"class",l="button is-primary "+(a[1].creationModal.saving?"is-loading":"")),v(s,"class","button"),v(e,"slot","footer"),v(e,"class","modal-footer-buttons svelte-177u0ux")},m(h,u){V(h,e,u),c(e,t),c(t,n),c(e,r),c(e,s),c(s,i),o||(f=[H(t,"click",a[3]),H(s,"click",a[4])],o=!0)},p(h,u){u&2&&l!==(l="button is-primary "+(h[1].creationModal.saving?"is-loading":""))&&v(t,"class",l)},d(h){h&&d(e),o=!1,ke(f)}}}function zn(a){let e,t;return e=new Wt({props:{$$slots:{footer:[Zl],default:[Jl]},$$scope:{ctx:a}}}),e.$on("backgroundClick",a[6]),e.$on("escapeKeyUp",a[6]),e.$on("enterKeyUp",a[6]),{c(){q(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,l){K(e,n,l),t=!0},p(n,l){const r={};l&536870914&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){O(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Jl(a){let e,t;return e=new Wl({props:{data:a[1].seeModal.item}}),e.$on("update",a[7]),{c(){q(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,l){K(e,n,l),t=!0},p(n,l){const r={};l&2&&(r.data=n[1].seeModal.item),e.$set(r)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){O(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Zl(a){let e,t,n,l,r,s,i,o,f,h,u,p;return{c(){e=b("div"),t=b("button"),n=D("Edit"),l=S(),r=b("button"),s=D("Delete"),o=S(),f=b("button"),h=D("Close"),this.h()},l(m){e=g(m,"DIV",{slot:!0,class:!0});var _=k(e);t=g(_,"BUTTON",{class:!0});var y=k(t);n=P(y,"Edit"),y.forEach(d),l=T(_),r=g(_,"BUTTON",{class:!0});var w=k(r);s=P(w,"Delete"),w.forEach(d),o=T(_),f=g(_,"BUTTON",{class:!0});var $=k(f);h=P($,"Close"),$.forEach(d),_.forEach(d),this.h()},h(){v(t,"class","button"),v(r,"class",i="button is-danger "+(a[1].seeModal.deleting?"is-loading":"")),v(f,"class","button"),v(e,"slot","footer"),v(e,"class","modal-footer-buttons svelte-177u0ux")},m(m,_){V(m,e,_),c(e,t),c(t,n),c(e,l),c(e,r),c(r,s),c(e,o),c(e,f),c(f,h),u||(p=[H(t,"click",a[8]),H(r,"click",a[16]),H(f,"click",a[6])],u=!0)},p(m,_){_&2&&i!==(i="button is-danger "+(m[1].seeModal.deleting?"is-loading":""))&&v(r,"class",i)},d(m){m&&d(e),u=!1,ke(p)}}}function Jn(a){let e,t;return e=new Wt({props:{$$slots:{footer:[xl],default:[Xl]},$$scope:{ctx:a}}}),e.$on("backgroundClick",a[10]),e.$on("escapeKeyUp",a[10]),{c(){q(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,l){K(e,n,l),t=!0},p(n,l){const r={};l&536870914&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){O(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Xl(a){let e,t,n;function l(s){a[17](s)}let r={};return a[1].editModal.item!==void 0&&(r.data=a[1].editModal.item),e=new vr({props:r}),Xe.push(()=>xe(e,"data",l)),{c(){q(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,i){K(e,s,i),n=!0},p(s,i){const o={};!t&&i&2&&(t=!0,o.data=s[1].editModal.item,et(()=>t=!1)),e.$set(o)},i(s){n||(A(e.$$.fragment,s),n=!0)},o(s){O(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function xl(a){let e,t,n,l,r,s,i,o,f;return{c(){e=b("div"),t=b("button"),n=D("Save"),r=S(),s=b("button"),i=D("Cancel"),this.h()},l(h){e=g(h,"DIV",{slot:!0,class:!0});var u=k(e);t=g(u,"BUTTON",{class:!0});var p=k(t);n=P(p,"Save"),p.forEach(d),r=T(u),s=g(u,"BUTTON",{class:!0});var m=k(s);i=P(m,"Cancel"),m.forEach(d),u.forEach(d),this.h()},h(){v(t,"class",l="button is-primary "+(a[1].editModal.saving?"is-loading":"")),v(s,"class","button"),v(e,"slot","footer"),v(e,"class","modal-footer-buttons svelte-177u0ux")},m(h,u){V(h,e,u),c(e,t),c(t,n),c(e,r),c(e,s),c(s,i),o||(f=[H(t,"click",a[9]),H(s,"click",a[10])],o=!0)},p(h,u){u&2&&l!==(l="button is-primary "+(h[1].editModal.saving?"is-loading":""))&&v(t,"class",l)},d(h){h&&d(e),o=!1,ke(f)}}}function ea(a){let e,t,n,l,r,s,i,o,f;const h=[Kl,ql],u=[];function p(w,$){return w[1].list?0:1}n=p(a),l=u[n]=h[n](a);let m=a[1].creationModal&&Gn(a),_=a[1].seeModal&&zn(a),y=a[1].editModal&&Jn(a);return{c(){e=S(),t=b("div"),l.c(),r=S(),m&&m.c(),s=S(),_&&_.c(),i=S(),y&&y.c(),o=ee(),this.h()},l(w){Er("svelte-bvgx4w",document.head).forEach(d),e=T(w),t=g(w,"DIV",{class:!0});var M=k(t);l.l(M),M.forEach(d),r=T(w),m&&m.l(w),s=T(w),_&&_.l(w),i=T(w),y&&y.l(w),o=ee(),this.h()},h(){document.title="Finances",v(t,"class","items svelte-177u0ux")},m(w,$){V(w,e,$),V(w,t,$),u[n].m(t,null),V(w,r,$),m&&m.m(w,$),V(w,s,$),_&&_.m(w,$),V(w,i,$),y&&y.m(w,$),V(w,o,$),f=!0},p(w,[$]){let M=n;n=p(w),n===M?u[n].p(w,$):(re(),O(u[M],1,1,()=>{u[M]=null}),le(),l=u[n],l?l.p(w,$):(l=u[n]=h[n](w),l.c()),A(l,1),l.m(t,null)),w[1].creationModal?m?(m.p(w,$),$&2&&A(m,1)):(m=Gn(w),m.c(),A(m,1),m.m(s.parentNode,s)):m&&(re(),O(m,1,1,()=>{m=null}),le()),w[1].seeModal?_?(_.p(w,$),$&2&&A(_,1)):(_=zn(w),_.c(),A(_,1),_.m(i.parentNode,i)):_&&(re(),O(_,1,1,()=>{_=null}),le()),w[1].editModal?y?(y.p(w,$),$&2&&A(y,1)):(y=Jn(w),y.c(),A(y,1),y.m(o.parentNode,o)):y&&(re(),O(y,1,1,()=>{y=null}),le())},i(w){f||(A(l),A(m),A(_),A(y),f=!0)},o(w){O(l),O(m),O(_),O(y),f=!1},d(w){w&&d(e),w&&d(t),u[n].d(),w&&d(r),m&&m.d(w),w&&d(s),_&&_.d(w),w&&d(i),y&&y.d(w),w&&d(o)}}}function ta(a,e,t){let n=[],l="";const r={};let s;const i={getCurrencies:Ze.getCurrencies,onGoToCreation:Y};$r(Ze.contextKey,i),Ne(()=>{o(),Ze.currencyAddedSubject.subscribe({next:R=>{console.log(`Currency added received in items, currency: ${R}`)}})});function o(){je.getItems().then(R=>{n=R,I()})}function f(){const R=n.filter(Z=>Z.type===Ye.getTypeString());for(const Z of R)Ye.calculate(n,Z)}function h(){t(1,r.creationModal={data:{type:gt.getTypeString()}},r)}async function u(){if(r.creationModal){t(1,r.creationModal.saving=!0,r);try{let R;r.creationModal.data.type!="currency"?R=await je.create(r.creationModal.data):R=await Je.create(r.creationModal.data),n=[R,...n],I(),f(),r.creationModal.data.type!==Ye.getTypeString()?p():(t(1,r.creationModal.saving=!1,r),X())}catch(R){console.error(R),t(1,r.creationModal.saving=!1,r)}}}function p(){t(1,r.creationModal=void 0,r)}function m(R){t(1,r.seeModal={item:R.detail},r)}function _(){t(1,r.seeModal=void 0,r)}function y(R){R.detail.updateDate=new Date,f()}function w(){t(1,r.editModal={item:r.seeModal.item},r)}async function $(){if(r.editModal){t(1,r.editModal.saving=!0,r);try{const R=r.editModal.item,Z=await je.update(R._id,R);n=n.filter(he=>he._id===Z._id?Z:he),I(),f(),M(),Rt.$channel.next({type:"itemEdited",data:{item:R}})}catch(R){console.error(R),t(1,r.editModal.saving=!1,r)}}}function M(){f(),t(1,r.editModal=void 0,r)}function C(R){t(0,l=R.target.value),I()}function I(){t(1,r.list=n==null?void 0:n.filter(R=>nt.isItemOnQuery(R,l)),r)}function E(){t(1,r.creationModal={data:{type:gt.getTypeString()}},r)}function U(){t(1,r.creationModal={data:{type:$t.getTypeString()}},r)}function j(){t(1,r.creationModal={data:{type:_r.getTypeString()}},r)}function N(){t(1,r.creationModal={data:{type:Ye.getTypeString()}},r)}async function B(){if(!r.seeModal)return;t(1,r.seeModal.deleting=!0,r);const R=r.seeModal.item;try{await je.delete(R._id),n=n.filter(Z=>Z._id!=R._id),f(),I(),_()}catch(Z){console.error(Z)}r.seeModal&&t(1,r.seeModal.deleting=!1,r)}function Y(){r.creationModal==null?t(1,r.creationModal={data:{type:Ye.getTypeString()}},r):(s={creationModal:Vt(r.creationModal)},t(1,r.creationModal.data={type:Ye.getTypeString()},r))}function X(){if(s!=null&&r.creationModal!=null&&s.creationModal!=null){const Z=r.creationModal.data.currency;t(1,r.creationModal=s.creationModal,r),t(1,r.creationModal.data.currency=Z,r),s=void 0}else p()}function Q(R){a.$$.not_equal(r.editModal.item,R)&&(r.editModal.item=R,t(1,r))}return[l,r,h,u,p,m,_,y,w,$,M,C,E,U,j,N,B,Q]}class na extends ae{constructor(e){super(),se(this,e,ta,ea,ie,{})}}function ra(a){let e,t,n,l,r,s,i,o,f,h,u,p,m,_,y,w,$,M,C,I,E,U,j,N,B,Y,X,Q,R,Z,he,ne,W,x,oe,L,G,ce,fe,me,_e,be,ve,ye,Te,Ce,de,De,ge,qe,Pe,Ke,Ie,Ee,Ae,Fe,Se,Ve,Me,Qe,$e,Ge,rt;return w=new Bt({props:{data:a[0].examples.account}}),X=new pr({props:{data:a[0].examples.service}}),ce=new hr({props:{data:a[0].examples.debt}}),ge=new mr({props:{data:a[0].examples.currency}}),{c(){e=b("div"),t=b("div"),n=b("p"),l=D("Welcome, I can help you remember about your finances."),r=S(),s=b("p"),i=D("Here are the things I can help you with:"),o=S(),f=b("div"),h=b("div"),u=b("h3"),p=D("Accounts"),m=S(),_=b("div"),y=b("div"),q(w.$$.fragment),$=S(),M=b("div"),C=D("You can have a list of all your accounts with their balance and currency"),I=S(),E=b("div"),U=b("h3"),j=D("Services"),N=S(),B=b("div"),Y=b("div"),q(X.$$.fragment),Q=S(),R=b("div"),Z=D(`You can store the services you need to pay every month, and see which ones you've already\r
					paid`),he=S(),ne=b("div"),W=b("h3"),x=D("Debts"),oe=S(),L=b("div"),G=b("div"),q(ce.$$.fragment),fe=S(),me=b("div"),_e=D("I can remind you of debts you need to pay or if someone owes you"),be=S(),ve=b("div"),ye=b("h3"),Te=D("Currencies"),Ce=S(),de=b("div"),De=b("div"),q(ge.$$.fragment),qe=S(),Pe=b("div"),Ke=D("You can create currencies and track the total sum of all the accounts in that currency."),Ie=S(),Ee=b("div"),Ae=b("div"),Fe=D("Ready?"),Se=S(),Ve=b("a"),Me=b("button"),Qe=D("Start Now"),this.h()},l(pe){e=g(pe,"DIV",{class:!0});var Be=k(e);t=g(Be,"DIV",{class:!0});var at=k(t);n=g(at,"P",{class:!0});var jt=k(n);l=P(jt,"Welcome, I can help you remember about your finances."),jt.forEach(d),r=T(at),s=g(at,"P",{class:!0});var Ht=k(s);i=P(Ht,"Here are the things I can help you with:"),Ht.forEach(d),at.forEach(d),o=T(Be),f=g(Be,"DIV",{class:!0});var Re=k(f);h=g(Re,"DIV",{class:!0});var st=k(h);u=g(st,"H3",{class:!0});var Yt=k(u);p=P(Yt,"Accounts"),Yt.forEach(d),m=T(st),_=g(st,"DIV",{class:!0});var it=k(_);y=g(it,"DIV",{class:!0});var qt=k(y);z(w.$$.fragment,qt),qt.forEach(d),$=T(it),M=g(it,"DIV",{class:!0});var Kt=k(M);C=P(Kt,"You can have a list of all your accounts with their balance and currency"),Kt.forEach(d),it.forEach(d),st.forEach(d),I=T(Re),E=g(Re,"DIV",{class:!0});var ot=k(E);U=g(ot,"H3",{class:!0});var Ft=k(U);j=P(Ft,"Services"),Ft.forEach(d),N=T(ot),B=g(ot,"DIV",{class:!0});var ct=k(B);Y=g(ct,"DIV",{class:!0});var Qt=k(Y);z(X.$$.fragment,Qt),Qt.forEach(d),Q=T(ct),R=g(ct,"DIV",{class:!0});var Gt=k(R);Z=P(Gt,`You can store the services you need to pay every month, and see which ones you've already\r
					paid`),Gt.forEach(d),ct.forEach(d),ot.forEach(d),he=T(Re),ne=g(Re,"DIV",{class:!0});var ut=k(ne);W=g(ut,"H3",{class:!0});var zt=k(W);x=P(zt,"Debts"),zt.forEach(d),oe=T(ut),L=g(ut,"DIV",{class:!0});var ft=k(L);G=g(ft,"DIV",{class:!0});var Jt=k(G);z(ce.$$.fragment,Jt),Jt.forEach(d),fe=T(ft),me=g(ft,"DIV",{class:!0});var Zt=k(me);_e=P(Zt,"I can remind you of debts you need to pay or if someone owes you"),Zt.forEach(d),ft.forEach(d),ut.forEach(d),be=T(Re),ve=g(Re,"DIV",{class:!0});var dt=k(ve);ye=g(dt,"H3",{class:!0});var Xt=k(ye);Te=P(Xt,"Currencies"),Xt.forEach(d),Ce=T(dt),de=g(dt,"DIV",{class:!0});var ht=k(de);De=g(ht,"DIV",{class:!0});var xt=k(De);z(ge.$$.fragment,xt),xt.forEach(d),qe=T(ht),Pe=g(ht,"DIV",{class:!0});var en=k(Pe);Ke=P(en,"You can create currencies and track the total sum of all the accounts in that currency."),en.forEach(d),ht.forEach(d),dt.forEach(d),Re.forEach(d),Ie=T(Be),Ee=g(Be,"DIV",{class:!0});var pt=k(Ee);Ae=g(pt,"DIV",{class:!0});var tn=k(Ae);Fe=P(tn,"Ready?"),tn.forEach(d),Se=T(pt),Ve=g(pt,"A",{});var nn=k(Ve);Me=g(nn,"BUTTON",{class:!0});var rn=k(Me);Qe=P(rn,"Start Now"),rn.forEach(d),nn.forEach(d),pt.forEach(d),Be.forEach(d),this.h()},h(){v(n,"class","main-info svelte-14i3ig7"),v(s,"class","main-info svelte-14i3ig7"),v(t,"class","main-info-container svelte-14i3ig7"),v(u,"class","example-item-title svelte-14i3ig7"),v(y,"class","item-square svelte-14i3ig7"),v(M,"class","example-item-info"),v(_,"class","item-and-info svelte-14i3ig7"),v(h,"class","example-item"),v(U,"class","example-item-title svelte-14i3ig7"),v(Y,"class","item-square svelte-14i3ig7"),v(R,"class","example-item-info"),v(B,"class","item-and-info svelte-14i3ig7"),v(E,"class","example-item"),v(W,"class","example-item-title svelte-14i3ig7"),v(G,"class","item-square svelte-14i3ig7"),v(me,"class","example-item-info"),v(L,"class","item-and-info svelte-14i3ig7"),v(ne,"class","example-item"),v(ye,"class","example-item-title svelte-14i3ig7"),v(De,"class","item-square svelte-14i3ig7"),v(Pe,"class","example-item-info"),v(de,"class","item-and-info svelte-14i3ig7"),v(ve,"class","example-item"),v(f,"class","example-item-list svelte-14i3ig7"),v(Ae,"class","call-to-action-info"),v(Me,"class","call-to-action-button button is-primary"),v(Ee,"class","call-to-action svelte-14i3ig7"),v(e,"class","welcome svelte-14i3ig7")},m(pe,Be){V(pe,e,Be),c(e,t),c(t,n),c(n,l),c(t,r),c(t,s),c(s,i),c(e,o),c(e,f),c(f,h),c(h,u),c(u,p),c(h,m),c(h,_),c(_,y),K(w,y,null),c(_,$),c(_,M),c(M,C),c(f,I),c(f,E),c(E,U),c(U,j),c(E,N),c(E,B),c(B,Y),K(X,Y,null),c(B,Q),c(B,R),c(R,Z),c(f,he),c(f,ne),c(ne,W),c(W,x),c(ne,oe),c(ne,L),c(L,G),K(ce,G,null),c(L,fe),c(L,me),c(me,_e),c(f,be),c(f,ve),c(ve,ye),c(ye,Te),c(ve,Ce),c(ve,de),c(de,De),K(ge,De,null),c(de,qe),c(de,Pe),c(Pe,Ke),c(e,Ie),c(e,Ee),c(Ee,Ae),c(Ae,Fe),c(Ee,Se),c(Ee,Ve),c(Ve,Me),c(Me,Qe),$e=!0,Ge||(rt=H(Ve,"click",a[1]),Ge=!0)},p:J,i(pe){$e||(A(w.$$.fragment,pe),A(X.$$.fragment,pe),A(ce.$$.fragment,pe),A(ge.$$.fragment,pe),$e=!0)},o(pe){O(w.$$.fragment,pe),O(X.$$.fragment,pe),O(ce.$$.fragment,pe),O(ge.$$.fragment,pe),$e=!1},d(pe){pe&&d(e),F(w),F(X),F(ce),F(ge),Ge=!1,rt()}}}function la(a){const e={examples:{account:{_id:"account",type:"account",name:"Bank Account",balance:5700,currency:"usd"},service:{_id:"service",type:"service",name:"Service",cost:200,currency:"usd",isManual:!0},debt:{_id:"debt",type:"debt",withWho:"Pedro",description:"Pizzas",amount:20,currency:"usd",theyPayMe:!1},currency:{_id:"currency",type:"currency",currency:"usd",total:8600}}};function t(){Ut("auth/create")}return[e,t]}class aa extends ae{constructor(e){super(),se(this,e,la,ra,ie,{})}}function Zn(a){let e,t;return e=new aa({}),{c(){q(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,l){K(e,n,l),t=!0},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){O(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Xn(a){let e,t;return e=new na({}),{c(){q(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,l){K(e,n,l),t=!0},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){O(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function sa(a){let e,t,n,l=a[0].showNewcomerWelcome&&Zn(),r=a[0].showItems&&Xn();return{c(){e=b("div"),l&&l.c(),t=S(),r&&r.c(),this.h()},l(s){e=g(s,"DIV",{class:!0});var i=k(e);l&&l.l(i),t=T(i),r&&r.l(i),i.forEach(d),this.h()},h(){v(e,"class","home svelte-1gsbufj")},m(s,i){V(s,e,i),l&&l.m(e,null),c(e,t),r&&r.m(e,null),n=!0},p(s,[i]){s[0].showNewcomerWelcome?l?i&1&&A(l,1):(l=Zn(),l.c(),A(l,1),l.m(e,t)):l&&(re(),O(l,1,1,()=>{l=null}),le()),s[0].showItems?r?i&1&&A(r,1):(r=Xn(),r.c(),A(r,1),r.m(e,null)):r&&(re(),O(r,1,1,()=>{r=null}),le())},i(s){n||(A(l),A(r),n=!0)},o(s){O(l),O(r),n=!1},d(s){s&&d(e),l&&l.d(),r&&r.d()}}}function ia(a,e,t){const n={};return Ne(()=>{cn.isSyncEnabled()?rr.hasValidToken()?t(0,n.showItems=!0,n):Ut("auth/login"):cn.hasLocalData()||t(0,n.showNewcomerWelcome=!0,n)}),[n]}class da extends ae{constructor(e){super(),se(this,e,ia,sa,ie,{})}}export{da as default};
