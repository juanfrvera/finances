var yr=Object.defineProperty;var br=(a,e,t)=>e in a?yr(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var Ue=(a,e,t)=>(br(a,typeof e!="symbol"?e+"":e,t),t);import{S as le,i as ae,s as se,k as g,q as C,a as D,l as w,m as k,r as P,h as d,c as T,n as y,b as V,D as c,H as J,J as gr,o as Be,K as Xn,e as ee,L as j,M as xn,N as vt,O as er,P as we,u as te,w as Xe,Q as xe,y as Y,z as Q,R as ce,A as H,T as et,U as ze,g as A,d as U,B as q,v as ne,f as re,V as Vt,W as tr,X as lt,Y as wr,x as tt,Z as kr,C as rn,E as ln,F as an,G as sn,_ as Er,$ as $r}from"../chunks/index.02c9dc20.js";import{P as Ir,A as nr,g as Mt,U as on}from"../chunks/auth.service.cfded9a7.js";import{e as Dr}from"../chunks/singletons.cf2c16b7.js";var Dt=function(a,e){return Dt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])},Dt(a,e)};function wt(a,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Dt(a,e);function t(){this.constructor=a}a.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function Tt(a){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&a[e],n=0;if(t)return t.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&n>=a.length&&(a=void 0),{value:a&&a[n++],done:!a}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function yt(a,e){var t=typeof Symbol=="function"&&a[Symbol.iterator];if(!t)return a;var n=t.call(a),l,r=[],s;try{for(;(e===void 0||e-- >0)&&!(l=n.next()).done;)r.push(l.value)}catch(i){s={error:i}}finally{try{l&&!l.done&&(t=n.return)&&t.call(n)}finally{if(s)throw s.error}}return r}function bt(a,e,t){if(t||arguments.length===2)for(var n=0,l=e.length,r;n<l;n++)(r||!(n in e))&&(r||(r=Array.prototype.slice.call(e,0,n)),r[n]=e[n]);return a.concat(r||Array.prototype.slice.call(e))}function Le(a){return typeof a=="function"}function rr(a){var e=function(n){Error.call(n),n.stack=new Error().stack},t=a(e);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var $t=rr(function(a){return function(t){a(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(n,l){return l+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function St(a,e){if(a){var t=a.indexOf(e);0<=t&&a.splice(t,1)}}var kt=function(){function a(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return a.prototype.unsubscribe=function(){var e,t,n,l,r;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var i=Tt(s),o=i.next();!o.done;o=i.next()){var f=o.value;f.remove(this)}}catch(v){e={error:v}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}else s.remove(this);var h=this.initialTeardown;if(Le(h))try{h()}catch(v){r=v instanceof $t?v.errors:[v]}var u=this._finalizers;if(u){this._finalizers=null;try{for(var p=Tt(u),m=p.next();!m.done;m=p.next()){var _=m.value;try{cn(_)}catch(v){r=r??[],v instanceof $t?r=bt(bt([],yt(r)),yt(v.errors)):r.push(v)}}}catch(v){n={error:v}}finally{try{m&&!m.done&&(l=p.return)&&l.call(p)}finally{if(n)throw n.error}}}if(r)throw new $t(r)}},a.prototype.add=function(e){var t;if(e&&e!==this)if(this.closed)cn(e);else{if(e instanceof a){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}},a.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},a.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},a.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&St(t,e)},a.prototype.remove=function(e){var t=this._finalizers;t&&St(t,e),e instanceof a&&e._removeParent(this)},a.EMPTY=function(){var e=new a;return e.closed=!0,e}(),a}(),lr=kt.EMPTY;function ar(a){return a instanceof kt||a&&"closed"in a&&Le(a.remove)&&Le(a.add)&&Le(a.unsubscribe)}function cn(a){Le(a)?a():a.unsubscribe()}var sr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ct={setTimeout:function(a,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];var l=Ct.delegate;return l!=null&&l.setTimeout?l.setTimeout.apply(l,bt([a,e],yt(t))):setTimeout.apply(void 0,bt([a,e],yt(t)))},clearTimeout:function(a){var e=Ct.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(a)},delegate:void 0};function Tr(a){Ct.setTimeout(function(){throw a})}function un(){}function _t(a){a()}var ir=function(a){wt(e,a);function e(t){var n=a.call(this)||this;return n.isStopped=!1,t?(n.destination=t,ar(t)&&t.add(n)):n.destination=Ar,n}return e.create=function(t,n,l){return new Pt(t,n,l)},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,a.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(kt),Sr=Function.prototype.bind;function It(a,e){return Sr.call(a,e)}var Cr=function(){function a(e){this.partialObserver=e}return a.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(n){mt(n)}},a.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(n){mt(n)}else mt(e)},a.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){mt(t)}},a}(),Pt=function(a){wt(e,a);function e(t,n,l){var r=a.call(this)||this,s;if(Le(t)||!t)s={next:t??void 0,error:n??void 0,complete:l??void 0};else{var i;r&&sr.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=function(){return r.unsubscribe()},s={next:t.next&&It(t.next,i),error:t.error&&It(t.error,i),complete:t.complete&&It(t.complete,i)}):s=t}return r.destination=new Cr(s),r}return e}(ir);function mt(a){Tr(a)}function Pr(a){throw a}var Ar={closed:!0,next:un,error:Pr,complete:un},Vr=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Mr(a){return a}function Ur(a){return a.length===0?Mr:a.length===1?a[0]:function(t){return a.reduce(function(n,l){return l(n)},t)}}var fn=function(){function a(e){e&&(this._subscribe=e)}return a.prototype.lift=function(e){var t=new a;return t.source=this,t.operator=e,t},a.prototype.subscribe=function(e,t,n){var l=this,r=Lr(e)?e:new Pt(e,t,n);return _t(function(){var s=l,i=s.operator,o=s.source;r.add(i?i.call(r,o):o?l._subscribe(r):l._trySubscribe(r))}),r},a.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},a.prototype.forEach=function(e,t){var n=this;return t=dn(t),new t(function(l,r){var s=new Pt({next:function(i){try{e(i)}catch(o){r(o),s.unsubscribe()}},error:r,complete:l});n.subscribe(s)})},a.prototype._subscribe=function(e){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(e)},a.prototype[Vr]=function(){return this},a.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ur(e)(this)},a.prototype.toPromise=function(e){var t=this;return e=dn(e),new e(function(n,l){var r;t.subscribe(function(s){return r=s},function(s){return l(s)},function(){return n(r)})})},a.create=function(e){return new a(e)},a}();function dn(a){var e;return(e=a??sr.Promise)!==null&&e!==void 0?e:Promise}function Or(a){return a&&Le(a.next)&&Le(a.error)&&Le(a.complete)}function Lr(a){return a&&a instanceof ir||Or(a)&&ar(a)}var Nr=rr(function(a){return function(){a(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Ut=function(a){wt(e,a);function e(){var t=a.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return e.prototype.lift=function(t){var n=new hn(this,this);return n.operator=t,n},e.prototype._throwIfClosed=function(){if(this.closed)throw new Nr},e.prototype.next=function(t){var n=this;_t(function(){var l,r;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var s=Tt(n.currentObservers),i=s.next();!i.done;i=s.next()){var o=i.value;o.next(t)}}catch(f){l={error:f}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(l)throw l.error}}}})},e.prototype.error=function(t){var n=this;_t(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=t;for(var l=n.observers;l.length;)l.shift().error(t)}})},e.prototype.complete=function(){var t=this;_t(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var n=t.observers;n.length;)n.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(t){return this._throwIfClosed(),a.prototype._trySubscribe.call(this,t)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var n=this,l=this,r=l.hasError,s=l.isStopped,i=l.observers;return r||s?lr:(this.currentObservers=null,i.push(t),new kt(function(){n.currentObservers=null,St(i,t)}))},e.prototype._checkFinalizedStatuses=function(t){var n=this,l=n.hasError,r=n.thrownError,s=n.isStopped;l?t.error(r):s&&t.complete()},e.prototype.asObservable=function(){var t=new fn;return t.source=this,t},e.create=function(t,n){return new hn(t,n)},e}(fn),hn=function(a){wt(e,a);function e(t,n){var l=a.call(this)||this;return l.destination=t,l.source=n,l}return e.prototype.next=function(t){var n,l;(l=(n=this.destination)===null||n===void 0?void 0:n.next)===null||l===void 0||l.call(n,t)},e.prototype.error=function(t){var n,l;(l=(n=this.destination)===null||n===void 0?void 0:n.error)===null||l===void 0||l.call(n,t)},e.prototype.complete=function(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)},e.prototype._subscribe=function(t){var n,l;return(l=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&l!==void 0?l:lr},e}(Ut);class De{static getUrl(){return this.url}static getHeaders(){return{Authorization:`Bearer ${nr.getToken()}`}}static async interceptResponse(e){const t=await e.json();if(e.status!==200&&e.status!==201)throw e.status===401&&Mt(`${Dr}/auth/login`),new Error(t);return t}}Ue(De,"url",Ir);class Oe{static async getItems(){const e=await fetch(this.getUrl(),{method:"GET",headers:this.getHeaders()}),t=await De.interceptResponse(e);return t.filter(l=>l.type==="currency").forEach(l=>{const r=t.filter(s=>s.type==="account"&&s.currency===l.currency);r&&r.length?l.total=r.map(s=>s.balance).reduce((s,i)=>s+i):l.total=0}),t}static async create(e){const t=await fetch(this.getUrl(),{method:"POST",body:JSON.stringify(e),headers:this.getHeaders()});return De.interceptResponse(t)}static async update(e,t){const n=await fetch(`${this.getUrl()}/${e}`,{method:"PATCH",body:JSON.stringify(t),headers:this.getHeaders()});return De.interceptResponse(n)}static async delete(e){const t=await fetch(`${this.getUrl()}/${e}`,{method:"DELETE",headers:this.getHeaders()});return De.interceptResponse(t)}static getUrl(){return`${De.getUrl()}/items`}static getHeaders(){return De.getHeaders()}}class Ge{static async getList(){if(!this.list){const e=await fetch(this.getUrl(),{method:"GET",headers:this.getHeaders()});this.list=await De.interceptResponse(e)}return this.list}static async create(e){const t=await Oe.create(e);return this.list&&this.list.unshift(t),t}static async arsToUsd(e){const t=await this.getUsdToArsRatio();return e/t}static async getUsdToArsRatio(){if(!this.usdToArsRatio){const e=await fetch("https://api.bluelytics.com.ar/v2/latest",{method:"GET"});if(e.status==200){const t=await e.json();this.usdToArsRatio=t.blue.value_avg}}if(!this.usdToArsRatio)throw new Error("Couldn't get usd price");return this.usdToArsRatio}static async arsToUsdOnDate(e,t){if(!this.historicalUsdToArs[t]){const n=`https://api.bluelytics.com.ar/v2/historical?day=${t}`,l=await fetch(n,{method:"GET"});if(l.status==200){const r=await l.json();this.historicalUsdToArs[t]=r.blue.value_avg}}if(!this.historicalUsdToArs[t])throw new Error("Couldn't get usd price");return e/this.historicalUsdToArs[t]}static getUrl(){return`${De.getUrl()}/currency`}static getHeaders(){return De.getHeaders()}}Ue(Ge,"list"),Ue(Ge,"usdToArsRatio"),Ue(Ge,"historicalUsdToArs",{});class Je{static getCurrencies(){return Ge.getList()}}Ue(Je,"contextKey","currencyContext"),Ue(Je,"currencyAddedSubject",new Ut);function pn(a,e,t){const n=a.slice();return n[6]=e[t],n}function Br(a){let e,t;return{c(){e=g("div"),t=C("Loading currencies..."),this.h()},l(n){e=w(n,"DIV",{class:!0});var l=k(e);t=P(l,"Loading currencies..."),l.forEach(d),this.h()},h(){y(e,"class","loading")},m(n,l){V(n,e,l),c(e,t)},p:J,d(n){n&&d(e)}}}function Rr(a){let e;function t(r,s){return r[1].list.length?zr:Wr}let n=t(a),l=n(a);return{c(){l.c(),e=ee()},l(r){l.l(r),e=ee()},m(r,s){l.m(r,s),V(r,e,s)},p(r,s){n===(n=t(r))&&l?l.p(r,s):(l.d(1),l=n(r),l&&(l.c(),l.m(e.parentNode,e)))},d(r){l.d(r),r&&d(e)}}}function Wr(a){let e,t,n,l,r,s;return{c(){e=g("div"),t=C("You don't have currencies "),n=g("button"),l=C("Create one"),this.h()},l(i){e=w(i,"DIV",{class:!0});var o=k(e);t=P(o,"You don't have currencies "),n=w(o,"BUTTON",{});var f=k(n);l=P(f,"Create one"),f.forEach(d),o.forEach(d),this.h()},h(){y(e,"class","create-currency-info svelte-1qu231b")},m(i,o){V(i,e,o),c(e,t),c(e,n),c(n,l),r||(s=j(n,"click",a[3]),r=!0)},p:J,d(i){i&&d(e),r=!1,s()}}}function zr(a){let e,t,n,l,r,s,i=a[1].list,o=[];for(let f=0;f<i.length;f+=1)o[f]=mn(pn(a,i,f));return{c(){e=g("div"),t=g("select");for(let f=0;f<o.length;f+=1)o[f].c();n=g("option"),l=C("Create new currency"),this.h()},l(f){e=w(f,"DIV",{class:!0});var h=k(e);t=w(h,"SELECT",{id:!0,class:!0});var u=k(t);for(let m=0;m<o.length;m+=1)o[m].l(u);n=w(u,"OPTION",{});var p=k(n);l=P(p,"Create new currency"),p.forEach(d),u.forEach(d),h.forEach(d),this.h()},h(){n.__value="create-new",n.value=n.__value,y(t,"id","currency-input"),y(t,"class","w-100"),a[0]===void 0&&xn(()=>a[4].call(t)),y(e,"class","select input-stretch")},m(f,h){V(f,e,h),c(e,t);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(t,null);c(t,n),c(n,l),vt(t,a[0]),r||(s=[j(n,"click",a[3]),j(t,"change",a[4]),j(t,"change",a[2])],r=!0)},p(f,h){if(h&2){i=f[1].list;let u;for(u=0;u<i.length;u+=1){const p=pn(f,i,u);o[u]?o[u].p(p,h):(o[u]=mn(p),o[u].c(),o[u].m(t,n))}for(;u<o.length;u+=1)o[u].d(1);o.length=i.length}h&3&&vt(t,f[0])},d(f){f&&d(e),er(o,f),r=!1,we(s)}}}function mn(a){let e,t=a[6]+"",n,l;return{c(){e=g("option"),n=C(t),this.h()},l(r){e=w(r,"OPTION",{});var s=k(e);n=P(s,t),s.forEach(d),this.h()},h(){e.__value=l=a[6],e.value=e.__value},m(r,s){V(r,e,s),c(e,n)},p(r,s){s&2&&t!==(t=r[6]+"")&&te(n,t),s&2&&l!==(l=r[6])&&(e.__value=l,e.value=e.__value)},d(r){r&&d(e)}}}function jr(a){let e,t,n,l;function r(o,f){return o[1].list?Rr:Br}let s=r(a),i=s(a);return{c(){e=g("div"),t=g("label"),n=C("Currency"),l=D(),i.c(),this.h()},l(o){e=w(o,"DIV",{class:!0});var f=k(e);t=w(f,"LABEL",{for:!0});var h=k(t);n=P(h,"Currency"),h.forEach(d),l=T(f),i.l(f),f.forEach(d),this.h()},h(){y(t,"for","currency-input"),y(e,"class","label-and-input")},m(o,f){V(o,e,f),c(e,t),c(t,n),c(e,l),i.m(e,null)},p(o,[f]){s===(s=r(o))&&i?i.p(o,f):(i.d(1),i=s(o),i&&(i.c(),i.m(e,null)))},i:J,o:J,d(o){o&&d(e),i.d()}}}function Yr(a,e,t){let{value:n="ars"}=e;const l=gr(Je.contextKey),r={createNewKey:"create-new"};Be(async()=>{t(1,r.list=(await l.getCurrencies()).map(f=>f.currency),r)});function s(f){f.target.value===r.createNewKey&&i()}function i(){l.onGoToCreation()}function o(){n=Xn(this),t(0,n),t(1,r)}return a.$$set=f=>{"value"in f&&t(0,n=f.value)},[n,r,s,i,o]}class Ot extends le{constructor(e){super(),ae(this,e,Yr,jr,se,{value:0})}}function Hr(a){let e,t,n,l,r,s,i,o,f,h,u,p,m,_,v,b,$;function M(I){a[2](I)}let S={};return a[0].currency!==void 0&&(S.value=a[0].currency),i=new Ot({props:S}),Xe.push(()=>xe(i,"value",M)),{c(){e=g("div"),t=g("label"),n=C("Name"),l=D(),r=g("input"),s=D(),Y(i.$$.fragment),f=D(),h=g("div"),u=g("label"),p=C("Balance"),m=D(),_=g("input"),this.h()},l(I){e=w(I,"DIV",{class:!0});var E=k(e);t=w(E,"LABEL",{for:!0});var O=k(t);n=P(O,"Name"),O.forEach(d),l=T(E),r=w(E,"INPUT",{id:!0,class:!0}),E.forEach(d),s=T(I),Q(i.$$.fragment,I),f=T(I),h=w(I,"DIV",{class:!0});var N=k(h);u=w(N,"LABEL",{for:!0});var B=k(u);p=P(B,"Balance"),B.forEach(d),m=T(N),_=w(N,"INPUT",{id:!0,type:!0,class:!0}),N.forEach(d),this.h()},h(){y(t,"for","name-input"),y(r,"id","name-input"),y(r,"class","input-stretch"),y(e,"class","label-and-input"),y(u,"for","balance-input"),y(_,"id","balance-input"),y(_,"type","number"),y(_,"class","input-stretch"),y(h,"class","label-and-input")},m(I,E){V(I,e,E),c(e,t),c(t,n),c(e,l),c(e,r),ce(r,a[0].name),V(I,s,E),H(i,I,E),V(I,f,E),V(I,h,E),c(h,u),c(u,p),c(h,m),c(h,_),ce(_,a[0].balance),v=!0,b||($=[j(r,"input",a[1]),j(_,"input",a[3])],b=!0)},p(I,[E]){E&1&&r.value!==I[0].name&&ce(r,I[0].name);const O={};!o&&E&1&&(o=!0,O.value=I[0].currency,et(()=>o=!1)),i.$set(O),E&1&&ze(_.value)!==I[0].balance&&ce(_,I[0].balance)},i(I){v||(A(i.$$.fragment,I),v=!0)},o(I){U(i.$$.fragment,I),v=!1},d(I){I&&d(e),I&&d(s),q(i,I),I&&d(f),I&&d(h),b=!1,we($)}}}function qr(a,e,t){let{config:n}=e;function l(){n.name=this.value,t(0,n)}function r(i){a.$$.not_equal(n.currency,i)&&(n.currency=i,t(0,n))}function s(){n.balance=ze(this.value),t(0,n)}return a.$$set=i=>{"config"in i&&t(0,n=i.config)},[n,l,r,s]}class Lt extends le{constructor(e){super(),ae(this,e,qr,Hr,se,{config:0})}}function Kr(a){let e,t,n,l,r,s;return{c(){e=g("label"),t=g("input"),n=D(),l=g("span"),this.h()},l(i){e=w(i,"LABEL",{class:!0});var o=k(e);t=w(o,"INPUT",{type:!0,class:!0}),n=T(o),l=w(o,"SPAN",{class:!0}),k(l).forEach(d),o.forEach(d),this.h()},h(){y(t,"type","checkbox"),y(t,"class","svelte-1ufkol1"),y(l,"class","slider svelte-1ufkol1"),y(e,"class","switch svelte-1ufkol1")},m(i,o){V(i,e,o),c(e,t),t.checked=a[0],c(e,n),c(e,l),r||(s=j(t,"change",a[1]),r=!0)},p(i,[o]){o&1&&(t.checked=i[0])},i:J,o:J,d(i){i&&d(e),r=!1,s()}}}function Fr(a,e,t){let{checked:n}=e;function l(){n=this.checked,t(0,n)}return a.$$set=r=>{"checked"in r&&t(0,n=r.checked)},[n,l]}class or extends le{constructor(e){super(),ae(this,e,Fr,Kr,se,{checked:0})}}function Qr(a){let e,t,n,l,r,s,i,o,f,h,u,p,m,_,v,b,$,M,S,I,E,O,N,B,z,K,G,x,R,Z,he;function ue(L){a[3](L)}let W={};a[0].currency!==void 0&&(W.value=a[0].currency),m=new Ot({props:W}),Xe.push(()=>xe(m,"value",ue));function X(L){a[4](L)}let ie={};return a[0].theyPayMe!==void 0&&(ie.checked=a[0].theyPayMe),E=new or({props:ie}),Xe.push(()=>xe(E,"checked",X)),{c(){e=g("div"),t=g("label"),n=C("With who"),l=D(),r=g("input"),s=D(),i=g("div"),o=g("label"),f=C("Amount"),h=D(),u=g("input"),p=D(),Y(m.$$.fragment),v=D(),b=g("div"),$=g("label"),M=C("They Pay Me"),S=D(),I=g("div"),Y(E.$$.fragment),N=D(),B=g("div"),z=g("label"),K=C("Description"),G=D(),x=g("input"),this.h()},l(L){e=w(L,"DIV",{class:!0});var F=k(e);t=w(F,"LABEL",{for:!0});var oe=k(t);n=P(oe,"With who"),oe.forEach(d),l=T(F),r=w(F,"INPUT",{id:!0,class:!0}),F.forEach(d),s=T(L),i=w(L,"DIV",{class:!0});var fe=k(i);o=w(fe,"LABEL",{for:!0});var me=k(o);f=P(me,"Amount"),me.forEach(d),h=T(fe),u=w(fe,"INPUT",{id:!0,type:!0,class:!0}),fe.forEach(d),p=T(L),Q(m.$$.fragment,L),v=T(L),b=w(L,"DIV",{class:!0});var _e=k(b);$=w(_e,"LABEL",{for:!0});var be=k($);M=P(be,"They Pay Me"),be.forEach(d),S=T(_e),I=w(_e,"DIV",{class:!0});var ve=k(I);Q(E.$$.fragment,ve),ve.forEach(d),_e.forEach(d),N=T(L),B=w(L,"DIV",{class:!0});var ye=k(B);z=w(ye,"LABEL",{for:!0});var Te=k(z);K=P(Te,"Description"),Te.forEach(d),G=T(ye),x=w(ye,"INPUT",{id:!0,class:!0}),ye.forEach(d),this.h()},h(){y(t,"for","who-input"),y(r,"id","who-input"),y(r,"class","input-stretch"),y(e,"class","label-and-input"),y(o,"for","amount-input"),y(u,"id","amount-input"),y(u,"type","number"),y(u,"class","input-stretch"),y(i,"class","label-and-input"),y($,"for","is-manual-input"),y(I,"class","switch-container"),y(b,"class","label-and-input"),y(z,"for","description-input"),y(x,"id","description-input"),y(x,"class","input-stretch"),y(B,"class","label-and-input")},m(L,F){V(L,e,F),c(e,t),c(t,n),c(e,l),c(e,r),ce(r,a[0].withWho),V(L,s,F),V(L,i,F),c(i,o),c(o,f),c(i,h),c(i,u),ce(u,a[0].amount),V(L,p,F),H(m,L,F),V(L,v,F),V(L,b,F),c(b,$),c($,M),c(b,S),c(b,I),H(E,I,null),V(L,N,F),V(L,B,F),c(B,z),c(z,K),c(B,G),c(B,x),ce(x,a[0].description),R=!0,Z||(he=[j(r,"input",a[1]),j(u,"input",a[2]),j(x,"input",a[5])],Z=!0)},p(L,[F]){F&1&&r.value!==L[0].withWho&&ce(r,L[0].withWho),F&1&&ze(u.value)!==L[0].amount&&ce(u,L[0].amount);const oe={};!_&&F&1&&(_=!0,oe.value=L[0].currency,et(()=>_=!1)),m.$set(oe);const fe={};!O&&F&1&&(O=!0,fe.checked=L[0].theyPayMe,et(()=>O=!1)),E.$set(fe),F&1&&x.value!==L[0].description&&ce(x,L[0].description)},i(L){R||(A(m.$$.fragment,L),A(E.$$.fragment,L),R=!0)},o(L){U(m.$$.fragment,L),U(E.$$.fragment,L),R=!1},d(L){L&&d(e),L&&d(s),L&&d(i),L&&d(p),q(m,L),L&&d(v),L&&d(b),q(E),L&&d(N),L&&d(B),Z=!1,we(he)}}}function Gr(a,e,t){let{config:n}=e;function l(){n.withWho=this.value,t(0,n)}function r(){n.amount=ze(this.value),t(0,n)}function s(f){a.$$.not_equal(n.currency,f)&&(n.currency=f,t(0,n))}function i(f){a.$$.not_equal(n.theyPayMe,f)&&(n.theyPayMe=f,t(0,n))}function o(){n.description=this.value,t(0,n)}return a.$$set=f=>{"config"in f&&t(0,n=f.config)},[n,l,r,s,i,o]}class Jr extends le{constructor(e){super(),ae(this,e,Gr,Qr,se,{config:0})}}function Zr(a){let e,t,n,l,r,s,i,o,f,h,u,p,m,_,v,b,$,M,S,I,E,O,N,B,z,K,G,x;function R(W){a[2](W)}let Z={};a[0].currency!==void 0&&(Z.value=a[0].currency),i=new Ot({props:Z}),Xe.push(()=>xe(i,"value",R));function he(W){a[4](W)}let ue={};return a[0].isManual!==void 0&&(ue.checked=a[0].isManual),E=new or({props:ue}),Xe.push(()=>xe(E,"checked",he)),{c(){e=g("div"),t=g("label"),n=C("Name"),l=D(),r=g("input"),s=D(),Y(i.$$.fragment),f=D(),h=g("div"),u=g("label"),p=C("Cost"),m=D(),_=g("input"),v=D(),b=g("div"),$=g("label"),M=C("Is Manual"),S=D(),I=g("div"),Y(E.$$.fragment),N=D(),B=g("div"),z=C(`Mark the service as manual if you want to mark it as paid every month. You can change this setting
	later.`),this.h()},l(W){e=w(W,"DIV",{class:!0});var X=k(e);t=w(X,"LABEL",{for:!0});var ie=k(t);n=P(ie,"Name"),ie.forEach(d),l=T(X),r=w(X,"INPUT",{id:!0,class:!0}),X.forEach(d),s=T(W),Q(i.$$.fragment,W),f=T(W),h=w(W,"DIV",{class:!0});var L=k(h);u=w(L,"LABEL",{for:!0});var F=k(u);p=P(F,"Cost"),F.forEach(d),m=T(L),_=w(L,"INPUT",{id:!0,type:!0,class:!0}),L.forEach(d),v=T(W),b=w(W,"DIV",{class:!0});var oe=k(b);$=w(oe,"LABEL",{for:!0});var fe=k($);M=P(fe,"Is Manual"),fe.forEach(d),S=T(oe),I=w(oe,"DIV",{class:!0});var me=k(I);Q(E.$$.fragment,me),me.forEach(d),oe.forEach(d),N=T(W),B=w(W,"DIV",{});var _e=k(B);z=P(_e,`Mark the service as manual if you want to mark it as paid every month. You can change this setting
	later.`),_e.forEach(d),this.h()},h(){y(t,"for","name-input"),y(r,"id","name-input"),y(r,"class","input-stretch"),y(e,"class","label-and-input"),y(u,"for","cost-input"),y(_,"id","cost-input"),y(_,"type","number"),y(_,"class","input-stretch"),y(h,"class","label-and-input"),y($,"for","is-manual-input"),y(I,"class","switch-container svelte-1chm4va"),y(b,"class","label-and-input")},m(W,X){V(W,e,X),c(e,t),c(t,n),c(e,l),c(e,r),ce(r,a[0].name),V(W,s,X),H(i,W,X),V(W,f,X),V(W,h,X),c(h,u),c(u,p),c(h,m),c(h,_),ce(_,a[0].cost),V(W,v,X),V(W,b,X),c(b,$),c($,M),c(b,S),c(b,I),H(E,I,null),V(W,N,X),V(W,B,X),c(B,z),K=!0,G||(x=[j(r,"input",a[1]),j(_,"input",a[3])],G=!0)},p(W,[X]){X&1&&r.value!==W[0].name&&ce(r,W[0].name);const ie={};!o&&X&1&&(o=!0,ie.value=W[0].currency,et(()=>o=!1)),i.$set(ie),X&1&&ze(_.value)!==W[0].cost&&ce(_,W[0].cost);const L={};!O&&X&1&&(O=!0,L.checked=W[0].isManual,et(()=>O=!1)),E.$set(L)},i(W){K||(A(i.$$.fragment,W),A(E.$$.fragment,W),K=!0)},o(W){U(i.$$.fragment,W),U(E.$$.fragment,W),K=!1},d(W){W&&d(e),W&&d(s),q(i,W),W&&d(f),W&&d(h),W&&d(v),W&&d(b),q(E),W&&d(N),W&&d(B),G=!1,we(x)}}}function Xr(a,e,t){let{config:n}=e;function l(){n.name=this.value,t(0,n)}function r(o){a.$$.not_equal(n.currency,o)&&(n.currency=o,t(0,n))}function s(){n.cost=ze(this.value),t(0,n)}function i(o){a.$$.not_equal(n.isManual,o)&&(n.isManual=o,t(0,n))}return a.$$set=o=>{"config"in o&&t(0,n=o.config)},[n,l,r,s,i]}class xr extends le{constructor(e){super(),ae(this,e,Xr,Zr,se,{config:0})}}function _n(a){let e,t,n;return{c(){e=g("span"),t=C("."),n=C(a[0]),this.h()},l(l){e=w(l,"SPAN",{class:!0});var r=k(e);t=P(r,"."),n=P(r,a[0]),r.forEach(d),this.h()},h(){y(e,"class","decimal-part svelte-7b3tfn")},m(l,r){V(l,e,r),c(e,t),c(e,n)},p(l,r){r&1&&te(n,l[0])},d(l){l&&d(e)}}}function el(a){let e,t,n,l=a[0]!="0"&&_n(a);return{c(){e=g("span"),t=C(a[1]),l&&l.c(),n=ee(),this.h()},l(r){e=w(r,"SPAN",{class:!0});var s=k(e);t=P(s,a[1]),s.forEach(d),l&&l.l(r),n=ee(),this.h()},h(){y(e,"class","int-part")},m(r,s){V(r,e,s),c(e,t),l&&l.m(r,s),V(r,n,s)},p(r,[s]){s&2&&te(t,r[1]),r[0]!="0"?l?l.p(r,s):(l=_n(r),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},i:J,o:J,d(r){r&&d(e),l&&l.d(r),r&&d(n)}}}function tl(a,e,t){let n,l,{value:r}=e;return a.$$set=s=>{"value"in s&&t(2,r=s.value)},a.$$.update=()=>{a.$$.dirty&4&&t(1,n=Math.floor(r).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),a.$$.dirty&4&&t(0,l=((r-Math.floor(r))*100).toFixed(0))},[l,n,r]}class Ne extends le{constructor(e){super(),ae(this,e,tl,el,se,{value:2})}}function nl(a){let e,t=a[0].name+"",n,l,r,s,i,o=a[0].currency+"",f,h;return s=new Ne({props:{value:a[0].balance}}),{c(){e=g("div"),n=C(t),l=D(),r=g("div"),Y(s.$$.fragment),i=D(),f=C(o),this.h()},l(u){e=w(u,"DIV",{class:!0});var p=k(e);n=P(p,t),p.forEach(d),l=T(u),r=w(u,"DIV",{class:!0});var m=k(r);Q(s.$$.fragment,m),i=T(m),f=P(m,o),m.forEach(d),this.h()},h(){y(e,"class","name"),y(r,"class","data")},m(u,p){V(u,e,p),c(e,n),V(u,l,p),V(u,r,p),H(s,r,null),c(r,i),c(r,f),h=!0},p(u,[p]){(!h||p&1)&&t!==(t=u[0].name+"")&&te(n,t);const m={};p&1&&(m.value=u[0].balance),s.$set(m),(!h||p&1)&&o!==(o=u[0].currency+"")&&te(f,o)},i(u){h||(A(s.$$.fragment,u),h=!0)},o(u){U(s.$$.fragment,u),h=!1},d(u){u&&d(e),u&&d(l),u&&d(r),q(s)}}}function rl(a,e,t){let{data:n}=e;return a.$$set=l=>{"data"in l&&t(0,n=l.data)},[n]}class cr extends le{constructor(e){super(),ae(this,e,rl,nl,se,{data:0})}}class Qe{static calculatePayStateString(e){const n=this.getPaidAmount(e)>=e.amount,l=e.withWho;let r=`${l} owes`;const s=e.theyPayMe;return s&&n?`${l} paid`:!s&&n?`You paid ${l}`:!s&&!n?`You owe ${l}`:r}static getPaidAmount(e){let t=0;return e.payments&&e.payments.forEach(n=>t+=n.amount),t}static getOwedAmountOrZero(e){const t=this.getPaidAmount(e),n=e.amount-t;return n>0?n:0}}function vn(a){let e,t,n=a[1].payDirectionString+"",l,r,s,i,o,f=a[0].currency+"",h,u,p;return i=new Ne({props:{value:a[1].amountToShow}}),{c(){e=g("div"),t=g("div"),l=C(n),r=D(),s=g("div"),Y(i.$$.fragment),o=D(),h=C(f),this.h()},l(m){e=w(m,"DIV",{class:!0});var _=k(e);t=w(_,"DIV",{});var v=k(t);l=P(v,n),v.forEach(d),r=T(_),s=w(_,"DIV",{class:!0});var b=k(s);Q(i.$$.fragment,b),o=T(b),h=P(b,f),b.forEach(d),_.forEach(d),this.h()},h(){y(s,"class","data"),y(e,"class",u=a[1].containerClass)},m(m,_){V(m,e,_),c(e,t),c(t,l),c(e,r),c(e,s),H(i,s,null),c(s,o),c(s,h),p=!0},p(m,_){(!p||_&2)&&n!==(n=m[1].payDirectionString+"")&&te(l,n);const v={};_&2&&(v.value=m[1].amountToShow),i.$set(v),(!p||_&1)&&f!==(f=m[0].currency+"")&&te(h,f),(!p||_&2&&u!==(u=m[1].containerClass))&&y(e,"class",u)},i(m){p||(A(i.$$.fragment,m),p=!0)},o(m){U(i.$$.fragment,m),p=!1},d(m){m&&d(e),q(i)}}}function ll(a){let e,t,n=a[1]!=null&&vn(a);return{c(){n&&n.c(),e=ee()},l(l){n&&n.l(l),e=ee()},m(l,r){n&&n.m(l,r),V(l,e,r),t=!0},p(l,[r]){l[1]!=null?n?(n.p(l,r),r&2&&A(n,1)):(n=vn(l),n.c(),A(n,1),n.m(e.parentNode,e)):n&&(ne(),U(n,1,1,()=>{n=null}),re())},i(l){t||(A(n),t=!0)},o(l){U(n),t=!1},d(l){n&&n.d(l),l&&d(e)}}}function al(a,e,t){let{data:n}=e,l;return Be(()=>{const r=Qe.getPaidAmount(n),s=r>=n.amount;t(1,l={containerClass:s?"paid":"unpaid",payDirectionString:Qe.calculatePayStateString(n),amountToShow:s?r:n.amount-r})}),a.$$set=r=>{"data"in r&&t(0,n=r.data)},[n,l]}class sl extends le{constructor(e){super(),ae(this,e,al,ll,se,{data:0})}}function il(a){let e,t,n=a[0].name+"",l,r,s,i,o,f=a[0].currency+"",h,u,p;return i=new Ne({props:{value:a[0].cost}}),{c(){e=g("div"),t=g("div"),l=C(n),r=D(),s=g("div"),Y(i.$$.fragment),o=D(),h=C(f),this.h()},l(m){e=w(m,"DIV",{class:!0});var _=k(e);t=w(_,"DIV",{class:!0});var v=k(t);l=P(v,n),v.forEach(d),r=T(_),s=w(_,"DIV",{class:!0});var b=k(s);Q(i.$$.fragment,b),o=T(b),h=P(b,f),b.forEach(d),_.forEach(d),this.h()},h(){y(t,"class","name"),y(s,"class","data"),y(e,"class",u=a[1].containerClass)},m(m,_){V(m,e,_),c(e,t),c(t,l),c(e,r),c(e,s),H(i,s,null),c(s,o),c(s,h),p=!0},p(m,[_]){(!p||_&1)&&n!==(n=m[0].name+"")&&te(l,n);const v={};_&1&&(v.value=m[0].cost),i.$set(v),(!p||_&1)&&f!==(f=m[0].currency+"")&&te(h,f),(!p||_&2&&u!==(u=m[1].containerClass))&&y(e,"class",u)},i(m){p||(A(i.$$.fragment,m),p=!0)},o(m){U(i.$$.fragment,m),p=!1},d(m){m&&d(e),q(i)}}}function ol(a,e,t){let{data:n}=e;const l={};return Be(()=>{n.isManual&&(Ze.wasThisMonthPaid(n)?t(1,l.containerClass="paid",l):t(1,l.containerClass="unpaid",l))}),a.$$set=r=>{"data"in r&&t(0,n=r.data)},[n,l]}class cl extends le{constructor(e){super(),ae(this,e,ol,il,se,{data:0})}}function ul(a){let e,t=a[0].currency+"",n,l,r,s,i,o=a[0].currency+"",f,h;return s=new Ne({props:{value:a[0].total}}),{c(){e=g("div"),n=C(t),l=D(),r=g("div"),Y(s.$$.fragment),i=D(),f=C(o)},l(u){e=w(u,"DIV",{});var p=k(e);n=P(p,t),p.forEach(d),l=T(u),r=w(u,"DIV",{});var m=k(r);Q(s.$$.fragment,m),i=T(m),f=P(m,o),m.forEach(d)},m(u,p){V(u,e,p),c(e,n),V(u,l,p),V(u,r,p),H(s,r,null),c(r,i),c(r,f),h=!0},p(u,[p]){(!h||p&1)&&t!==(t=u[0].currency+"")&&te(n,t);const m={};p&1&&(m.value=u[0].total),s.$set(m),(!h||p&1)&&o!==(o=u[0].currency+"")&&te(f,o)},i(u){h||(A(s.$$.fragment,u),h=!0)},o(u){U(s.$$.fragment,u),h=!1},d(u){u&&d(e),u&&d(l),u&&d(r),q(s)}}}function fl(a,e,t){let{data:n}=e;return a.$$set=l=>{"data"in l&&t(0,n=l.data)},[n]}class dl extends le{constructor(e){super(),ae(this,e,fl,ul,se,{data:0})}}function yn(a){let e,t,n=a[0].name+"",l,r,s,i=a[0].balance+"",o,f,h=a[0].currency+"",u;return{c(){e=g("div"),t=g("div"),l=C(n),r=D(),s=g("div"),o=C(i),f=D(),u=C(h),this.h()},l(p){e=w(p,"DIV",{class:!0});var m=k(e);t=w(m,"DIV",{});var _=k(t);l=P(_,n),_.forEach(d),r=T(m),s=w(m,"DIV",{});var v=k(s);o=P(v,i),f=T(v),u=P(v,h),v.forEach(d),m.forEach(d),this.h()},h(){y(e,"class","account-see svelte-fip3ym")},m(p,m){V(p,e,m),c(e,t),c(t,l),c(e,r),c(e,s),c(s,o),c(s,f),c(s,u)},p(p,m){m&1&&n!==(n=p[0].name+"")&&te(l,n),m&1&&i!==(i=p[0].balance+"")&&te(o,i),m&1&&h!==(h=p[0].currency+"")&&te(u,h)},d(p){p&&d(e)}}}function hl(a){let e,t=a[0]!=null&&yn(a);return{c(){t&&t.c(),e=ee()},l(n){t&&t.l(n),e=ee()},m(n,l){t&&t.m(n,l),V(n,e,l)},p(n,[l]){n[0]!=null?t?t.p(n,l):(t=yn(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:J,o:J,d(n){t&&t.d(n),n&&d(e)}}}function pl(a,e,t){let{data:n}=e;return a.$$set=l=>{"data"in l&&t(0,n=l.data)},[n]}class Nt extends le{constructor(e){super(),ae(this,e,pl,hl,se,{data:0})}}class Bt{}Ue(Bt,"$channel",new Ut);function bn(a,e,t){const n=a.slice();return n[5]=e[t],n}function ml(a){let e;return{c(){e=C("Loading payments...")},l(t){e=P(t,"Loading payments...")},m(t,n){V(t,e,n)},p:J,i:J,o:J,d(t){t&&d(e)}}}function _l(a){let e,t,n,l,r,s,i,o,f,h,u,p,m,_,v,b,$=[],M=new Map,S,I=a[1]&&gn(),E=a[0];const O=N=>N[5].amount+"//"+N[5].dateString+N[5].note;for(let N=0;N<E.length;N+=1){let B=bn(a,E,N),z=O(B);M.set(z,$[N]=kn(z,B))}return{c(){e=g("div"),t=g("div"),n=C("Payments"),l=D(),r=g("div"),s=g("div"),i=g("div"),o=C("Amount"),f=D(),h=g("div"),u=C("Date"),p=D(),m=g("div"),_=C("Notes"),v=D(),I&&I.c(),b=D();for(let N=0;N<$.length;N+=1)$[N].c();this.h()},l(N){e=w(N,"DIV",{class:!0});var B=k(e);t=w(B,"DIV",{class:!0});var z=k(t);n=P(z,"Payments"),z.forEach(d),l=T(B),r=w(B,"DIV",{class:!0});var K=k(r);s=w(K,"DIV",{class:!0});var G=k(s);i=w(G,"DIV",{class:!0});var x=k(i);o=P(x,"Amount"),x.forEach(d),f=T(G),h=w(G,"DIV",{class:!0});var R=k(h);u=P(R,"Date"),R.forEach(d),p=T(G),m=w(G,"DIV",{class:!0});var Z=k(m);_=P(Z,"Notes"),Z.forEach(d),v=T(G),I&&I.l(G),G.forEach(d),b=T(K);for(let he=0;he<$.length;he+=1)$[he].l(K);K.forEach(d),B.forEach(d),this.h()},h(){y(t,"class","pay-table__title svelte-1ezh2w3"),y(i,"class","pay-table__column svelte-1ezh2w3"),y(h,"class","pay-table__column svelte-1ezh2w3"),y(m,"class","pay-table__column svelte-1ezh2w3"),y(s,"class","pay-table__row svelte-1ezh2w3"),y(r,"class","pay-table__table svelte-1ezh2w3"),y(e,"class","pay-table svelte-1ezh2w3")},m(N,B){V(N,e,B),c(e,t),c(t,n),c(e,l),c(e,r),c(r,s),c(s,i),c(i,o),c(s,f),c(s,h),c(h,u),c(s,p),c(s,m),c(m,_),c(s,v),I&&I.m(s,null),c(r,b);for(let z=0;z<$.length;z+=1)$[z]&&$[z].m(r,null);S=!0},p(N,B){N[1]?I||(I=gn(),I.c(),I.m(s,null)):I&&(I.d(1),I=null),B&7&&(E=N[0],ne(),$=Vt($,B,O,1,N,E,M,r,tr,kn,null,bn),re())},i(N){if(!S){for(let B=0;B<E.length;B+=1)A($[B]);S=!0}},o(N){for(let B=0;B<$.length;B+=1)U($[B]);S=!1},d(N){N&&d(e),I&&I.d();for(let B=0;B<$.length;B+=1)$[B].d()}}}function gn(a){let e,t;return{c(){e=g("div"),t=C("USD"),this.h()},l(n){e=w(n,"DIV",{class:!0});var l=k(e);t=P(l,"USD"),l.forEach(d),this.h()},h(){y(e,"class","pay-table__column svelte-1ezh2w3")},m(n,l){V(n,e,l),c(e,t)},d(n){n&&d(e)}}}function wn(a){let e,t,n,l;const r=[yl,vl],s=[];function i(o,f){return o[5].usdAmount?0:1}return t=i(a),n=s[t]=r[t](a),{c(){e=g("div"),n.c(),this.h()},l(o){e=w(o,"DIV",{class:!0});var f=k(e);n.l(f),f.forEach(d),this.h()},h(){y(e,"class","pay-table__column pay-table__usd svelte-1ezh2w3")},m(o,f){V(o,e,f),s[t].m(e,null),l=!0},p(o,f){let h=t;t=i(o),t===h?s[t].p(o,f):(ne(),U(s[h],1,1,()=>{s[h]=null}),re(),n=s[t],n?n.p(o,f):(n=s[t]=r[t](o),n.c()),A(n,1),n.m(e,null))},i(o){l||(A(n),l=!0)},o(o){U(n),l=!1},d(o){o&&d(e),s[t].d()}}}function vl(a){let e;return{c(){e=C("Loading...")},l(t){e=P(t,"Loading...")},m(t,n){V(t,e,n)},p:J,i:J,o:J,d(t){t&&d(e)}}}function yl(a){let e,t;return e=new Ne({props:{value:a[5].usdAmount}}),{c(){Y(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,l){H(e,n,l),t=!0},p(n,l){const r={};l&1&&(r.value=n[5].usdAmount),e.$set(r)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){U(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function kn(a,e){let t,n,l,r,s,i=e[5].dateString+"",o,f,h,u=(e[5].note??"-")+"",p,m,_,v,b,$;l=new Ne({props:{value:e[5].amount}});let M=e[1]&&wn(e);function S(){return e[4](e[5])}return{key:a,first:null,c(){t=g("div"),n=g("div"),Y(l.$$.fragment),r=D(),s=g("div"),o=C(i),f=D(),h=g("div"),p=C(u),m=D(),M&&M.c(),_=D(),this.h()},l(I){t=w(I,"DIV",{class:!0});var E=k(t);n=w(E,"DIV",{class:!0});var O=k(n);Q(l.$$.fragment,O),O.forEach(d),r=T(E),s=w(E,"DIV",{class:!0});var N=k(s);o=P(N,i),N.forEach(d),f=T(E),h=w(E,"DIV",{class:!0});var B=k(h);p=P(B,u),B.forEach(d),m=T(E),M&&M.l(E),_=T(E),E.forEach(d),this.h()},h(){y(n,"class","pay-table__column pay-table__amount svelte-1ezh2w3"),y(s,"class","pay-table__column pay-table__date svelte-1ezh2w3"),y(h,"class","pay-table__column pay-table__note svelte-1ezh2w3"),y(t,"class","pay-table__row pay-table__row_clickable svelte-1ezh2w3"),this.first=t},m(I,E){V(I,t,E),c(t,n),H(l,n,null),c(t,r),c(t,s),c(s,o),c(t,f),c(t,h),c(h,p),c(t,m),M&&M.m(t,null),c(t,_),v=!0,b||($=j(t,"click",S),b=!0)},p(I,E){e=I;const O={};E&1&&(O.value=e[5].amount),l.$set(O),(!v||E&1)&&i!==(i=e[5].dateString+"")&&te(o,i),(!v||E&1)&&u!==(u=(e[5].note??"-")+"")&&te(p,u),e[1]?M?(M.p(e,E),E&2&&A(M,1)):(M=wn(e),M.c(),A(M,1),M.m(t,_)):M&&(ne(),U(M,1,1,()=>{M=null}),re())},i(I){v||(A(l.$$.fragment,I),A(M),v=!0)},o(I){U(l.$$.fragment,I),U(M),v=!1},d(I){I&&d(t),q(l),M&&M.d(),b=!1,$()}}}function bl(a){let e,t,n,l;const r=[_l,ml],s=[];function i(o,f){return o[0]?0:1}return e=i(a),t=s[e]=r[e](a),{c(){t.c(),n=ee()},l(o){t.l(o),n=ee()},m(o,f){s[e].m(o,f),V(o,n,f),l=!0},p(o,[f]){let h=e;e=i(o),e===h?s[e].p(o,f):(ne(),U(s[h],1,1,()=>{s[h]=null}),re(),t=s[e],t?t.p(o,f):(t=s[e]=r[e](o),t.c()),A(t,1),t.m(n.parentNode,n))},i(o){l||(A(t),l=!0)},o(o){U(t),l=!1},d(o){s[e].d(o),o&&d(n)}}}function gl(a,e,t){let{onRowClicked:n}=e,{payments:l}=e,{showUsdColumn:r}=e;function s(o){n(o)}const i=o=>s(o);return a.$$set=o=>{"onRowClicked"in o&&t(3,n=o.onRowClicked),"payments"in o&&t(0,l=o.payments),"showUsdColumn"in o&&t(1,r=o.showUsdColumn)},[l,r,s,n,i]}class ur extends le{constructor(e){super(),ae(this,e,gl,bl,se,{onRowClicked:3,payments:0,showUsdColumn:1})}}function En(a){let e,t,n,l,r,s,i,o,f,h,u,p,m,_,v,b,$,M,S=a[0]&&$n(a);return{c(){e=g("div"),S&&S.c(),t=D(),n=g("input"),l=D(),r=g("input"),s=D(),i=g("input"),o=D(),f=g("div"),h=g("button"),u=C("Confirm"),m=D(),_=g("button"),v=C("Cancel"),this.h()},l(I){e=w(I,"DIV",{class:!0});var E=k(e);S&&S.l(E),t=T(E),n=w(E,"INPUT",{type:!0,class:!0,placeholder:!0}),l=T(E),r=w(E,"INPUT",{class:!0,type:!0,placeholder:!0}),s=T(E),i=w(E,"INPUT",{class:!0,type:!0,placeholder:!0}),o=T(E),f=w(E,"DIV",{class:!0});var O=k(f);h=w(O,"BUTTON",{class:!0});var N=k(h);u=P(N,"Confirm"),N.forEach(d),m=T(O),_=w(O,"BUTTON",{class:!0});var B=k(_);v=P(B,"Cancel"),B.forEach(d),O.forEach(d),E.forEach(d),this.h()},h(){y(n,"type","date"),y(n,"class","input"),y(n,"placeholder","Date"),y(r,"class","input"),y(r,"type","number"),y(r,"placeholder","Amount"),y(i,"class","input"),y(i,"type","text"),y(i,"placeholder","Note"),y(h,"class",p="button "+(a[1].loading?"is-loading":"")),_.disabled=b=a[1].loading,y(_,"class","button is-danger"),y(f,"class","pay-window__footer svelte-og27j9"),y(e,"class","pay-window")},m(I,E){V(I,e,E),S&&S.m(e,null),c(e,t),c(e,n),ce(n,a[1].payment.dateString),c(e,l),c(e,r),ce(r,a[1].payment.amount),c(e,s),c(e,i),ce(i,a[1].payment.note),c(e,o),c(e,f),c(f,h),c(h,u),c(f,m),c(f,_),c(_,v),$||(M=[j(n,"input",a[9]),j(r,"input",a[10]),j(i,"input",a[11]),j(h,"click",a[2]),j(_,"click",a[3])],$=!0)},p(I,E){I[0]?S?S.p(I,E):(S=$n(I),S.c(),S.m(e,t)):S&&(S.d(1),S=null),E&2&&ce(n,I[1].payment.dateString),E&2&&ze(r.value)!==I[1].payment.amount&&ce(r,I[1].payment.amount),E&2&&i.value!==I[1].payment.note&&ce(i,I[1].payment.note),E&2&&p!==(p="button "+(I[1].loading?"is-loading":""))&&y(h,"class",p),E&2&&b!==(b=I[1].loading)&&(_.disabled=b)},d(I){I&&d(e),S&&S.d(),$=!1,we(M)}}}function $n(a){let e,t,n,l,r,s,i,o;return{c(){e=g("div"),t=g("div"),n=C("Editing Payment"),l=D(),r=g("button"),s=C("Delete"),this.h()},l(f){e=w(f,"DIV",{class:!0});var h=k(e);t=w(h,"DIV",{class:!0});var u=k(t);n=P(u,"Editing Payment"),u.forEach(d),l=T(h),r=w(h,"BUTTON",{class:!0});var p=k(r);s=P(p,"Delete"),p.forEach(d),h.forEach(d),this.h()},h(){y(t,"class","pay-window__editing-title"),y(r,"class","button"),y(e,"class","pay-window__editing-header svelte-og27j9")},m(f,h){V(f,e,h),c(e,t),c(t,n),c(e,l),c(e,r),c(r,s),i||(o=j(r,"click",a[4]),i=!0)},p:J,d(f){f&&d(e),i=!1,o()}}}function wl(a){let e,t=a[1]&&En(a);return{c(){t&&t.c(),e=ee()},l(n){t&&t.l(n),e=ee()},m(n,l){t&&t.m(n,l),V(n,e,l)},p(n,[l]){n[1]?t?t.p(n,l):(t=En(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:J,o:J,d(n){t&&t.d(n),n&&d(e)}}}function kl(a,e,t){let{defaultAmount:n=0}=e,{editedPayment:l}=e,{onConfirm:r}=e,{onCancel:s}=e,{onDelete:i}=e,o;Be(()=>{if(l)t(1,o={payment:{...l}});else{const b=new Date(Date.now()).toISOString().substring(0,10);t(1,o={payment:{dateString:b,amount:n}})}});function f(){r(o.payment)}function h(){s(o.payment)}function u(){i(l)}function p(){o.payment.dateString=this.value,t(1,o)}function m(){o.payment.amount=ze(this.value),t(1,o)}function _(){o.payment.note=this.value,t(1,o)}return a.$$set=v=>{"defaultAmount"in v&&t(5,n=v.defaultAmount),"editedPayment"in v&&t(0,l=v.editedPayment),"onConfirm"in v&&t(6,r=v.onConfirm),"onCancel"in v&&t(7,s=v.onCancel),"onDelete"in v&&t(8,i=v.onDelete)},[l,o,f,h,u,n,r,s,i,p,m,_]}class fr extends le{constructor(e){super(),ae(this,e,kl,wl,se,{defaultAmount:5,editedPayment:0,onConfirm:6,onCancel:7,onDelete:8})}}class dr{static getPayTable(e,t,n){if(e&&e.length){if(!n){const l=[...e],r=t==="ars";return r&&l.forEach(s=>{Ge.arsToUsdOnDate(s.amount,s.dateString).then(i=>{s.usdAmount=i})}),{payments:l,show:!0,showUsdColumn:r}}return{...n,show:!0}}}}function In(a){let e,t,n=a[1].payInfo+"",l,r,s,i,o,f,h=a[1].payStatus&&Dn(a),u=a[1].payTable&&a[1].payTable.show&&Tn(a),p=a[1].payWindow&&Sn(a),m=a[1].showPayButton&&Cn(a);return{c(){e=g("div"),t=g("div"),l=C(n),r=D(),h&&h.c(),s=D(),u&&u.c(),i=D(),p&&p.c(),o=D(),m&&m.c(),this.h()},l(_){e=w(_,"DIV",{class:!0});var v=k(e);t=w(v,"DIV",{});var b=k(t);l=P(b,n),b.forEach(d),r=T(v),h&&h.l(v),s=T(v),u&&u.l(v),i=T(v),p&&p.l(v),o=T(v),m&&m.l(v),v.forEach(d),this.h()},h(){y(e,"class","debt-see svelte-7eluyi")},m(_,v){V(_,e,v),c(e,t),c(t,l),c(e,r),h&&h.m(e,null),c(e,s),u&&u.m(e,null),c(e,i),p&&p.m(e,null),c(e,o),m&&m.m(e,null),f=!0},p(_,v){(!f||v&2)&&n!==(n=_[1].payInfo+"")&&te(l,n),_[1].payStatus?h?(h.p(_,v),v&2&&A(h,1)):(h=Dn(_),h.c(),A(h,1),h.m(e,s)):h&&(ne(),U(h,1,1,()=>{h=null}),re()),_[1].payTable&&_[1].payTable.show?u?(u.p(_,v),v&2&&A(u,1)):(u=Tn(_),u.c(),A(u,1),u.m(e,i)):u&&(ne(),U(u,1,1,()=>{u=null}),re()),_[1].payWindow?p?(p.p(_,v),v&2&&A(p,1)):(p=Sn(_),p.c(),A(p,1),p.m(e,o)):p&&(ne(),U(p,1,1,()=>{p=null}),re()),_[1].showPayButton?m?m.p(_,v):(m=Cn(_),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},i(_){f||(A(h),A(u),A(p),f=!0)},o(_){U(h),U(u),U(p),f=!1},d(_){_&&d(e),h&&h.d(),u&&u.d(),p&&p.d(),m&&m.d()}}}function Dn(a){let e,t=a[1].payStatus.statusString+"",n,l,r,s,i,o,f=a[0].currency+"",h,u;return r=new Ne({props:{value:a[1].payStatus.amount}}),i=new Ne({props:{value:a[1].payStatus.total}}),{c(){e=g("div"),n=C(t),l=D(),Y(r.$$.fragment),s=C(" of "),Y(i.$$.fragment),o=D(),h=C(f)},l(p){e=w(p,"DIV",{});var m=k(e);n=P(m,t),l=T(m),Q(r.$$.fragment,m),s=P(m," of "),Q(i.$$.fragment,m),o=T(m),h=P(m,f),m.forEach(d)},m(p,m){V(p,e,m),c(e,n),c(e,l),H(r,e,null),c(e,s),H(i,e,null),c(e,o),c(e,h),u=!0},p(p,m){(!u||m&2)&&t!==(t=p[1].payStatus.statusString+"")&&te(n,t);const _={};m&2&&(_.value=p[1].payStatus.amount),r.$set(_);const v={};m&2&&(v.value=p[1].payStatus.total),i.$set(v),(!u||m&1)&&f!==(f=p[0].currency+"")&&te(h,f)},i(p){u||(A(r.$$.fragment,p),A(i.$$.fragment,p),u=!0)},o(p){U(r.$$.fragment,p),U(i.$$.fragment,p),u=!1},d(p){p&&d(e),q(r),q(i)}}}function Tn(a){let e,t;return e=new ur({props:{payments:a[1].payTable.payments,showUsdColumn:a[1].payTable.showUsdColumn,onRowClicked:a[5]}}),{c(){Y(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,l){H(e,n,l),t=!0},p(n,l){const r={};l&2&&(r.payments=n[1].payTable.payments),l&2&&(r.showUsdColumn=n[1].payTable.showUsdColumn),e.$set(r)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){U(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function Sn(a){let e,t;return e=new fr({props:{editedPayment:a[1].payWindow.editedPayment,defaultAmount:a[1].payWindow.defaultAmount,onConfirm:a[3],onCancel:a[2],onDelete:a[6]}}),{c(){Y(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,l){H(e,n,l),t=!0},p(n,l){const r={};l&2&&(r.editedPayment=n[1].payWindow.editedPayment),l&2&&(r.defaultAmount=n[1].payWindow.defaultAmount),e.$set(r)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){U(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function Cn(a){let e,t,n,l;return{c(){e=g("button"),t=C("Register payment"),this.h()},l(r){e=w(r,"BUTTON",{class:!0});var s=k(e);t=P(s,"Register payment"),s.forEach(d),this.h()},h(){y(e,"class","button")},m(r,s){V(r,e,s),c(e,t),n||(l=j(e,"click",a[4]),n=!0)},p:J,d(r){r&&d(e),n=!1,l()}}}function El(a){let e,t,n=a[1]!=null&&In(a);return{c(){n&&n.c(),e=ee()},l(l){n&&n.l(l),e=ee()},m(l,r){n&&n.m(l,r),V(l,e,r),t=!0},p(l,[r]){l[1]!=null?n?(n.p(l,r),r&2&&A(n,1)):(n=In(l),n.c(),A(n,1),n.m(e.parentNode,e)):n&&(ne(),U(n,1,1,()=>{n=null}),re())},i(l){t||(A(n),t=!0)},o(l){U(n),t=!1},d(l){n&&n.d(l),l&&d(e)}}}function $l(a,e,t){let{data:n}=e;const l=lt();let r={},s;Be(()=>{s=Bt.$channel.subscribe(_=>{_.type==="itemEdited"&&i()}),i()}),wr(()=>{s&&s.unsubscribe()});function i(){const _=Qe.getPaidAmount(n),v=_>=n.amount;t(1,r.showPayButton=!v,r),t(1,r.payInfo=Qe.calculatePayStateString(n),r),n.description&&n.description.length>0&&t(1,r.payInfo+=` ${n.description}`,r),t(1,r.payTable=dr.getPayTable(n.payments,n.currency,r.payTable),r),t(1,r.payStatus={isPaid:v,amount:n.theyPayMe&&v||v?_:n.amount-_,total:n.amount,statusString:Qe.calculatePayStateString(n)},r)}function o(){t(1,r.payWindow=void 0,r),t(1,r.showPayButton=!0,r),r.payTable&&t(1,r.payTable.show=!0,r)}async function f(_){const v=r.payWindow;v.saving=!0;try{const b=n.payments??[];v.editedPayment?(v.editedPayment.amount=_.amount,v.editedPayment.dateString=_.dateString,v.editedPayment.note=_.note):(b.push(_),n.payments||t(0,n.payments=b,n)),Oe.update(n._id,{payments:b}),i(),t(1,r.payWindow=void 0,r),h()}catch(b){console.error(b),v.saving=!1}}function h(){l("update",n)}function u(){t(1,r.showPayButton=!1,r),t(1,r.payWindow={defaultAmount:Qe.getOwedAmountOrZero(n)},r)}function p(_){t(1,r.payTable.show=!1,r),t(1,r.payWindow={editedPayment:_,defaultAmount:_.amount},r),t(1,r.showPayButton=!1,r)}function m(){const _=r.payWindow.editedPayment;n.payments.splice(n.payments.indexOf(_),1),Oe.update(n._id,{payments:n.payments}),t(1,r.payWindow=void 0,r),i()}return a.$$set=_=>{"data"in _&&t(0,n=_.data)},[n,r,o,f,u,p,m]}class hr extends le{constructor(e){super(),ae(this,e,$l,El,se,{data:0})}}function Pn(a,e,t){const n=a.slice();return n[13]=e[t],n}function An(a){let e,t,n,l,r,s,i=a[1].tabs.show&&Vn(a),o=a[1].tabs.activeTab==="main"&&Un(a),f=a[1].tabs.activeTab==="payments"&&a[1].payTable&&a[1].payTable.show&&Nn(a),h=a[1].payWindow&&Bn(a),u=a[1].showPayButton&&Rn(a);return{c(){e=g("div"),i&&i.c(),t=D(),o&&o.c(),n=D(),f&&f.c(),l=D(),h&&h.c(),r=D(),u&&u.c(),this.h()},l(p){e=w(p,"DIV",{class:!0});var m=k(e);i&&i.l(m),t=T(m),o&&o.l(m),n=T(m),f&&f.l(m),l=T(m),h&&h.l(m),r=T(m),u&&u.l(m),m.forEach(d),this.h()},h(){y(e,"class","service-see svelte-tac2q1")},m(p,m){V(p,e,m),i&&i.m(e,null),c(e,t),o&&o.m(e,null),c(e,n),f&&f.m(e,null),c(e,l),h&&h.m(e,null),c(e,r),u&&u.m(e,null),s=!0},p(p,m){p[1].tabs.show?i?i.p(p,m):(i=Vn(p),i.c(),i.m(e,t)):i&&(i.d(1),i=null),p[1].tabs.activeTab==="main"?o?o.p(p,m):(o=Un(p),o.c(),o.m(e,n)):o&&(o.d(1),o=null),p[1].tabs.activeTab==="payments"&&p[1].payTable&&p[1].payTable.show?f?(f.p(p,m),m&2&&A(f,1)):(f=Nn(p),f.c(),A(f,1),f.m(e,l)):f&&(ne(),U(f,1,1,()=>{f=null}),re()),p[1].payWindow?h?(h.p(p,m),m&2&&A(h,1)):(h=Bn(p),h.c(),A(h,1),h.m(e,r)):h&&(ne(),U(h,1,1,()=>{h=null}),re()),p[1].showPayButton?u?u.p(p,m):(u=Rn(p),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},i(p){s||(A(f),A(h),s=!0)},o(p){U(f),U(h),s=!1},d(p){p&&d(e),i&&i.d(),o&&o.d(),f&&f.d(),h&&h.d(),u&&u.d()}}}function Vn(a){let e,t,n=a[1].tabs.list,l=[];for(let r=0;r<n.length;r+=1)l[r]=Mn(Pn(a,n,r));return{c(){e=g("div"),t=g("ul");for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l(r){e=w(r,"DIV",{class:!0});var s=k(e);t=w(s,"UL",{});var i=k(t);for(let o=0;o<l.length;o+=1)l[o].l(i);i.forEach(d),s.forEach(d),this.h()},h(){y(e,"class","service-tabs tabs svelte-tac2q1")},m(r,s){V(r,e,s),c(e,t);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(t,null)},p(r,s){if(s&130){n=r[1].tabs.list;let i;for(i=0;i<n.length;i+=1){const o=Pn(r,n,i);l[i]?l[i].p(o,s):(l[i]=Mn(o),l[i].c(),l[i].m(t,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=n.length}},d(r){r&&d(e),er(l,r)}}}function Mn(a){let e,t,n=a[13].title+"",l,r,s,i,o;function f(){return a[9](a[13])}return{c(){e=g("li"),t=g("a"),l=C(n),r=D(),this.h()},l(h){e=w(h,"LI",{class:!0});var u=k(e);t=w(u,"A",{});var p=k(t);l=P(p,n),p.forEach(d),r=T(u),u.forEach(d),this.h()},h(){y(e,"class",s=a[13].active?"is-active":"")},m(h,u){V(h,e,u),c(e,t),c(t,l),c(e,r),i||(o=j(t,"click",f),i=!0)},p(h,u){a=h,u&2&&n!==(n=a[13].title+"")&&te(l,n),u&2&&s!==(s=a[13].active?"is-active":"")&&y(e,"class",s)},d(h){h&&d(e),i=!1,o()}}}function Un(a){let e,t,n=a[0].name+"",l,r,s,i=a[0].cost+"",o,f,h=a[0].currency+"",u,p,m,_=a[1].lastPayment&&On(a),v=a[1].showChangePaidDateButton&&Ln(a);return{c(){e=g("div"),t=g("div"),l=C(n),r=D(),s=g("div"),o=C(i),f=D(),u=C(h),p=D(),_&&_.c(),m=D(),v&&v.c(),this.h()},l(b){e=w(b,"DIV",{class:!0});var $=k(e);t=w($,"DIV",{});var M=k(t);l=P(M,n),M.forEach(d),r=T($),s=w($,"DIV",{});var S=k(s);o=P(S,i),f=T(S),u=P(S,h),S.forEach(d),p=T($),_&&_.l($),m=T($),v&&v.l($),$.forEach(d),this.h()},h(){y(e,"class","service-see__body svelte-tac2q1")},m(b,$){V(b,e,$),c(e,t),c(t,l),c(e,r),c(e,s),c(s,o),c(s,f),c(s,u),c(e,p),_&&_.m(e,null),c(e,m),v&&v.m(e,null)},p(b,$){$&1&&n!==(n=b[0].name+"")&&te(l,n),$&1&&i!==(i=b[0].cost+"")&&te(o,i),$&1&&h!==(h=b[0].currency+"")&&te(u,h),b[1].lastPayment?_?_.p(b,$):(_=On(b),_.c(),_.m(e,m)):_&&(_.d(1),_=null),b[1].showChangePaidDateButton?v?v.p(b,$):(v=Ln(b),v.c(),v.m(e,null)):v&&(v.d(1),v=null)},d(b){b&&d(e),_&&_.d(),v&&v.d()}}}function On(a){let e,t,n,l,r,s=a[1].lastPayment.dateString+"",i;return{c(){e=g("div"),t=g("div"),n=C("Last pay date:"),l=D(),r=g("div"),i=C(s),this.h()},l(o){e=w(o,"DIV",{class:!0});var f=k(e);t=w(f,"DIV",{class:!0});var h=k(t);n=P(h,"Last pay date:"),h.forEach(d),l=T(f),r=w(f,"DIV",{class:!0});var u=k(r);i=P(u,s),u.forEach(d),f.forEach(d),this.h()},h(){y(t,"class","value-label"),y(r,"class","value"),y(e,"class","label-and-value svelte-tac2q1")},m(o,f){V(o,e,f),c(e,t),c(t,n),c(e,l),c(e,r),c(r,i)},p(o,f){f&2&&s!==(s=o[1].lastPayment.dateString+"")&&te(i,s)},d(o){o&&d(e)}}}function Ln(a){let e,t,n,l;return{c(){e=g("button"),t=C("Change Date"),this.h()},l(r){e=w(r,"BUTTON",{class:!0});var s=k(e);t=P(s,"Change Date"),s.forEach(d),this.h()},h(){y(e,"class","button")},m(r,s){V(r,e,s),c(e,t),n||(l=j(e,"click",a[3]),n=!0)},p:J,d(r){r&&d(e),n=!1,l()}}}function Nn(a){let e,t;return e=new ur({props:{payments:a[1].payTable.payments,showUsdColumn:a[1].payTable.showUsdColumn,onRowClicked:a[8]}}),{c(){Y(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,l){H(e,n,l),t=!0},p(n,l){const r={};l&2&&(r.payments=n[1].payTable.payments),l&2&&(r.showUsdColumn=n[1].payTable.showUsdColumn),e.$set(r)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){U(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function Bn(a){let e,t;return e=new fr({props:{editedPayment:a[1].payWindow.editedPayment,defaultAmount:a[1].payWindow.defaultAmount,onConfirm:a[4],onCancel:a[5],onDelete:a[6]}}),{c(){Y(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,l){H(e,n,l),t=!0},p(n,l){const r={};l&2&&(r.editedPayment=n[1].payWindow.editedPayment),l&2&&(r.defaultAmount=n[1].payWindow.defaultAmount),e.$set(r)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){U(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function Rn(a){let e,t,n,l;return{c(){e=g("button"),t=C("Register Payment"),this.h()},l(r){e=w(r,"BUTTON",{class:!0});var s=k(e);t=P(s,"Register Payment"),s.forEach(d),this.h()},h(){y(e,"class","button")},m(r,s){V(r,e,s),c(e,t),n||(l=j(e,"click",a[2]),n=!0)},p:J,d(r){r&&d(e),n=!1,l()}}}function Il(a){let e,t,n=a[1]&&An(a);return{c(){n&&n.c(),e=ee()},l(l){n&&n.l(l),e=ee()},m(l,r){n&&n.m(l,r),V(l,e,r),t=!0},p(l,[r]){l[1]?n?(n.p(l,r),r&2&&A(n,1)):(n=An(l),n.c(),A(n,1),n.m(e.parentNode,e)):n&&(ne(),U(n,1,1,()=>{n=null}),re())},i(l){t||(A(n),t=!0)},o(l){U(n),t=!1},d(l){n&&n.d(l),l&&d(e)}}}function Dl(a,e,t){let{data:n}=e;const l=lt();let r={tabs:{list:[{title:"Service",active:!0,type:"main"},{title:"Payments",type:"payments"}],activeTab:"main"}};Be(()=>{s()});function s(){if(n.isManual){if(n.payments){t(1,r.lastPayment=Ze.getLastPayment(n.payments),r);const b=Ze.wasThisMonthPaid(n);t(1,r.showPayButton=!b,r),t(1,r.showChangePaidDateButton=b,r)}else t(1,r.showPayButton=!0,r);t(1,r.payTable=dr.getPayTable(n.payments,n.currency,r.payTable),r),t(1,r.tabs.show=n.payments&&n.payments.length>1,r)}}function i(){t(1,r.showPayButton=!1,r),t(1,r.payWindow={defaultAmount:n.cost},r)}function o(){t(1,r.showChangePaidDateButton=!1,r);const b=Ze.getLastPayment(n.payments);t(1,r.payWindow={editedPayment:b,defaultAmount:b.amount},r)}function f(b){const $=r.payWindow;n.payments||t(0,n.payments=[],n),$.editedPayment?($.editedPayment.amount=b.amount,$.editedPayment.dateString=b.dateString,$.editedPayment.note=b.note):t(0,n.payments=[...n.payments,b],n),Oe.update(n._id,{payments:n.payments}),t(1,r.payWindow=void 0,r),t(1,r.lastPayment=b,r),s(),h()}function h(){l("update",n)}function u(){t(1,r.payWindow=void 0,r),t(1,r.showPayButton=!0,r),r.payTable&&t(1,r.payTable.show=!0,r)}function p(){const b=r.payWindow.editedPayment;n.payments.splice(n.payments.indexOf(b),1),Oe.update(n._id,{payments:n.payments}),t(1,r.payWindow=void 0,r),s()}function m(b){r.tabs.list.forEach($=>$.active=!1),b.active=!0,t(1,r.tabs.activeTab=b.type,r)}function _(b){t(1,r.payTable.show=!1,r),t(1,r.payWindow={editedPayment:b,defaultAmount:b.amount},r),t(1,r.showPayButton=!1,r)}const v=b=>m(b);return a.$$set=b=>{"data"in b&&t(0,n=b.data)},[n,r,i,o,f,u,p,m,_,v]}class pr extends le{constructor(e){super(),ae(this,e,Dl,Il,se,{data:0})}}function Wn(a){let e,t,n,l,r=a[0].currency+"",s,i,o,f,h,u=a[0].currency+"",p,m,_,v,b;return f=new Ne({props:{value:a[0].total}}),{c(){e=g("div"),t=g("div"),n=C("This is the total of your accounts in "),l=g("strong"),s=C(r),i=D(),o=g("div"),Y(f.$$.fragment),h=D(),p=C(u),m=D(),_=g("div"),v=C("You can delete this item if you want to delete the currency"),this.h()},l($){e=w($,"DIV",{class:!0});var M=k(e);t=w(M,"DIV",{});var S=k(t);n=P(S,"This is the total of your accounts in "),l=w(S,"STRONG",{});var I=k(l);s=P(I,r),I.forEach(d),S.forEach(d),i=T(M),o=w(M,"DIV",{class:!0});var E=k(o);Q(f.$$.fragment,E),h=T(E),p=P(E,u),E.forEach(d),m=T(M),_=w(M,"DIV",{});var O=k(_);v=P(O,"You can delete this item if you want to delete the currency"),O.forEach(d),M.forEach(d),this.h()},h(){y(o,"class","currency-total svelte-qphfhg"),y(e,"class","currency-see svelte-qphfhg")},m($,M){V($,e,M),c(e,t),c(t,n),c(t,l),c(l,s),c(e,i),c(e,o),H(f,o,null),c(o,h),c(o,p),c(e,m),c(e,_),c(_,v),b=!0},p($,M){(!b||M&1)&&r!==(r=$[0].currency+"")&&te(s,r);const S={};M&1&&(S.value=$[0].total),f.$set(S),(!b||M&1)&&u!==(u=$[0].currency+"")&&te(p,u)},i($){b||(A(f.$$.fragment,$),b=!0)},o($){U(f.$$.fragment,$),b=!1},d($){$&&d(e),q(f)}}}function Tl(a){let e,t,n=a[0]!=null&&Wn(a);return{c(){n&&n.c(),e=ee()},l(l){n&&n.l(l),e=ee()},m(l,r){n&&n.m(l,r),V(l,e,r),t=!0},p(l,[r]){l[0]!=null?n?(n.p(l,r),r&1&&A(n,1)):(n=Wn(l),n.c(),A(n,1),n.m(e.parentNode,e)):n&&(ne(),U(n,1,1,()=>{n=null}),re())},i(l){t||(A(n),t=!0)},o(l){U(n),t=!1},d(l){n&&n.d(l),l&&d(e)}}}function Sl(a,e,t){let{data:n}=e;return a.$$set=l=>{"data"in l&&t(0,n=l.data)},[n]}class mr extends le{constructor(e){super(),ae(this,e,Sl,Tl,se,{data:0})}}function Cl(a){let e,t,n,l,r,s,i,o,f,h;return{c(){e=g("div"),t=g("label"),n=C("Abbreviation"),l=D(),r=g("input"),s=D(),i=g("div"),o=C("The total will be calculated automatically with the sum of the account balances"),this.h()},l(u){e=w(u,"DIV",{class:!0});var p=k(e);t=w(p,"LABEL",{for:!0});var m=k(t);n=P(m,"Abbreviation"),m.forEach(d),l=T(p),r=w(p,"INPUT",{id:!0,class:!0}),p.forEach(d),s=T(u),i=w(u,"DIV",{class:!0});var _=k(i);o=P(_,"The total will be calculated automatically with the sum of the account balances"),_.forEach(d),this.h()},h(){y(t,"for","abbreviation-input"),y(r,"id","abbreviation-input"),y(r,"class","input-stretch"),y(e,"class","label-and-input"),y(i,"class","currency-info svelte-697qay")},m(u,p){V(u,e,p),c(e,t),c(t,n),c(e,l),c(e,r),ce(r,a[0].currency),V(u,s,p),V(u,i,p),c(i,o),f||(h=j(r,"input",a[1]),f=!0)},p(u,[p]){p&1&&r.value!==u[0].currency&&ce(r,u[0].currency)},i:J,o:J,d(u){u&&d(e),u&&d(s),u&&d(i),f=!1,h()}}}function Pl(a,e,t){let{config:n}=e;function l(){n.currency=this.value,t(0,n)}return a.$$set=r=>{"config"in r&&t(0,n=r.config)},[n,l]}class Al extends le{constructor(e){super(),ae(this,e,Pl,Cl,se,{config:0})}}class Et{static getTypeString(){return"account"}static getListRender(){return cr}static getEditRender(){return Lt}static getSeeRender(){return Nt}static isItemOnQuery(e,t){return!1}}class gt extends Et{static getTypeString(){return"account"}static getListRender(){return cr}static getEditRender(){return Lt}static getSeeRender(){return Nt}static isItemOnQuery(e,t){const n=t.toLowerCase(),l=e;return!!(l.name.toLowerCase().includes(n)||l.balance.toString().includes(t)||l.currency.toLowerCase().includes(t))}}class Ze extends Et{static getTypeString(){return"service"}static getListRender(){return cl}static getEditRender(){return xr}static getSeeRender(){return pr}static isItemOnQuery(e,t){const n=t.toLowerCase(),l=e;return!!(l.name.toLowerCase().includes(n)||l.cost.toString().includes(t)||l.currency.toLowerCase().includes(t)||l.isManual&&t==="manual"||!l.isManual&&n==="auto")}static wasThisMonthPaid(e){if(!e.payments)return!1;const t=this.getLastPayment(e.payments);if(t!=null){const n=new Date,l=new Date(t.dateString.substring(0,10));return l!=null&&l.getMonth()===n.getMonth()&&l.getFullYear()===n.getFullYear()}return!1}static getLastPayment(e){let t;for(const n of e){const l=new Date(n.dateString);(!t||l>t.date)&&(t={date:l,payment:n})}return t.payment}}class je extends Et{static getTypeString(){return"currency"}static getListRender(){return dl}static getEditRender(){return Al}static getSeeRender(){return mr}static calculate(e,t){t.total=0;for(let n=0;n<e.length;n++){const l=e[n];if(l.type===gt.getTypeString()){const r=l;r.currency===t.currency&&(t.total+=r.balance)}}}}class _r extends Et{static getTypeString(){return"debt"}static getListRender(){return sl}static getEditRender(){return Jr}static getSeeRender(){return hr}static isItemOnQuery(e,t){const n=t.toLowerCase(),l=e;return!!(l.withWho.toLowerCase().includes(n)||l.amount.toString().includes(t)||l.currency.toLowerCase().includes(t)||l.paidDate!=null&&l.paidDate.includes(t))}}class nt{static getClassByTypeString(e){const t=this.itemClasses.find(n=>n.getTypeString()===e);if(t!=null)return t}static isItemOnQuery(e,t){var l;const n=t.toLowerCase();return e._id.includes(t)||e.type.toLowerCase().includes(n)?!0:(l=this.getClassByTypeString(e.type))==null?void 0:l.isItemOnQuery(e,t)}static getItemClasses(){return this.itemClasses}}Ue(nt,"itemClasses",[gt,Ze,_r,je]);function zn(a,e,t){const n=a.slice();return n[6]=e[t],n}function jn(a){let e,t,n,l,r,s,i,o=[],f=new Map,h,u,p,m,_,v=a[2].typeOptions;const b=S=>S[6];for(let S=0;S<v.length;S+=1){let I=zn(a,v,S),E=b(I);f.set(E,o[S]=Yn(E,I))}var $=a[1];function M(S){return{props:{config:S[0]}}}return $&&(u=tt($,M(a))),{c(){e=g("div"),t=g("div"),n=g("label"),l=C("Type"),r=D(),s=g("div"),i=g("select");for(let S=0;S<o.length;S+=1)o[S].c();h=D(),u&&Y(u.$$.fragment),this.h()},l(S){e=w(S,"DIV",{class:!0});var I=k(e);t=w(I,"DIV",{class:!0});var E=k(t);n=w(E,"LABEL",{for:!0});var O=k(n);l=P(O,"Type"),O.forEach(d),r=T(E),s=w(E,"DIV",{class:!0});var N=k(s);i=w(N,"SELECT",{id:!0,class:!0});var B=k(i);for(let z=0;z<o.length;z+=1)o[z].l(B);B.forEach(d),N.forEach(d),E.forEach(d),h=T(I),u&&Q(u.$$.fragment,I),I.forEach(d),this.h()},h(){y(n,"for","type-input"),y(i,"id","type-input"),y(i,"class","w-100"),a[0].type===void 0&&xn(()=>a[4].call(i)),y(s,"class","select input-stretch"),y(t,"class","label-and-input clickable-height"),y(e,"class","form svelte-1cl463d")},m(S,I){V(S,e,I),c(e,t),c(t,n),c(n,l),c(t,r),c(t,s),c(s,i);for(let E=0;E<o.length;E+=1)o[E]&&o[E].m(i,null);vt(i,a[0].type),c(e,h),u&&H(u,e,null),p=!0,m||(_=[j(i,"change",a[4]),j(i,"change",a[3])],m=!0)},p(S,I){I&4&&(v=S[2].typeOptions,o=Vt(o,I,b,1,S,v,f,i,kr,Yn,null,zn)),I&5&&vt(i,S[0].type);const E={};if(I&1&&(E.config=S[0]),I&2&&$!==($=S[1])){if(u){ne();const O=u;U(O.$$.fragment,1,0,()=>{q(O,1)}),re()}$?(u=tt($,M(S)),Y(u.$$.fragment),A(u.$$.fragment,1),H(u,e,null)):u=null}else $&&u.$set(E)},i(S){p||(u&&A(u.$$.fragment,S),p=!0)},o(S){u&&U(u.$$.fragment,S),p=!1},d(S){S&&d(e);for(let I=0;I<o.length;I+=1)o[I].d();u&&q(u),m=!1,we(_)}}}function Yn(a,e){let t,n=e[6]+"",l,r;return{key:a,first:null,c(){t=g("option"),l=C(n),this.h()},l(s){t=w(s,"OPTION",{});var i=k(t);l=P(i,n),i.forEach(d),this.h()},h(){t.__value=r=e[6],t.value=t.__value,this.first=t},m(s,i){V(s,t,i),c(t,l)},p(s,i){e=s,i&4&&n!==(n=e[6]+"")&&te(l,n),i&4&&r!==(r=e[6])&&(t.__value=r,t.value=t.__value)},d(s){s&&d(t)}}}function Vl(a){let e,t,n=a[2]!=null&&jn(a);return{c(){n&&n.c(),e=ee()},l(l){n&&n.l(l),e=ee()},m(l,r){n&&n.m(l,r),V(l,e,r),t=!0},p(l,[r]){l[2]!=null?n?(n.p(l,r),r&4&&A(n,1)):(n=jn(l),n.c(),A(n,1),n.m(e.parentNode,e)):n&&(ne(),U(n,1,1,()=>{n=null}),re())},i(l){t||(A(n),t=!0)},o(l){U(n),t=!1},d(l){n&&n.d(l),l&&d(e)}}}function Ml(a,e,t){let{data:n}=e,l=Lt,r;Be(()=>{t(2,r={typeOptions:nt.getItemClasses().map(f=>f.getTypeString())})});function s(f){const h=f.target.value;t(1,l=i(h)),t(0,n.type=h,n)}function i(f){return nt.getClassByTypeString(f).getEditRender()}function o(){n.type=Xn(this),t(0,n),t(2,r)}return a.$$set=f=>{"data"in f&&t(0,n=f.data)},a.$$.update=()=>{a.$$.dirty&1&&t(1,l=i(n.type))},[n,l,r,s,o]}class vr extends le{constructor(e){super(),ae(this,e,Ml,Vl,se,{data:0})}}function Ul(a){let e,t,n,l,r;var s=a[1];function i(o){return{props:{data:o[0]}}}return s&&(t=tt(s,i(a))),{c(){e=g("button"),t&&Y(t.$$.fragment),this.h()},l(o){e=w(o,"BUTTON",{class:!0});var f=k(e);t&&Q(t.$$.fragment,f),f.forEach(d),this.h()},h(){y(e,"class","square white-button")},m(o,f){V(o,e,f),t&&H(t,e,null),n=!0,l||(r=j(e,"click",a[2]),l=!0)},p(o,[f]){const h={};if(f&1&&(h.data=o[0]),s!==(s=o[1])){if(t){ne();const u=t;U(u.$$.fragment,1,0,()=>{q(u,1)}),re()}s?(t=tt(s,i(o)),Y(t.$$.fragment),A(t.$$.fragment,1),H(t,e,null)):t=null}else s&&t.$set(h)},i(o){n||(t&&A(t.$$.fragment,o),n=!0)},o(o){t&&U(t.$$.fragment,o),n=!1},d(o){o&&d(e),t&&q(t),l=!1,r()}}}function Ol(a,e,t){let{data:n}=e,l=nt.getClassByTypeString(n.type).getListRender();const r=lt();function s(){r("click",n)}return a.$$set=i=>{"data"in i&&t(0,n=i.data)},[n,l,s]}class Ll extends le{constructor(e){super(),ae(this,e,Ol,Ul,se,{data:0})}}function Nl(a){let e,t,n;var l=a[1];function r(s){return{props:{data:s[0]}}}return l&&(e=tt(l,r(a)),e.$on("update",a[2])),{c(){e&&Y(e.$$.fragment),t=ee()},l(s){e&&Q(e.$$.fragment,s),t=ee()},m(s,i){e&&H(e,s,i),V(s,t,i),n=!0},p(s,[i]){const o={};if(i&1&&(o.data=s[0]),l!==(l=s[1])){if(e){ne();const f=e;U(f.$$.fragment,1,0,()=>{q(f,1)}),re()}l?(e=tt(l,r(s)),e.$on("update",s[2]),Y(e.$$.fragment),A(e.$$.fragment,1),H(e,t.parentNode,t)):e=null}else l&&e.$set(o)},i(s){n||(e&&A(e.$$.fragment,s),n=!0)},o(s){e&&U(e.$$.fragment,s),n=!1},d(s){s&&d(t),e&&q(e,s)}}}function Bl(a,e,t){let{data:n}=e;const l=lt();let r=nt.getClassByTypeString(n.type).getSeeRender();function s(i){l("update",i.detail)}return a.$$set=i=>{"data"in i&&t(0,n=i.data)},[n,r,s]}class Rl extends le{constructor(e){super(),ae(this,e,Bl,Nl,se,{data:0})}}const Wl=a=>({}),Hn=a=>({});function zl(a){let e,t,n,l,r,s,i,o,f,h;const u=a[3].default,p=rn(u,a,a[2],null),m=a[3].footer,_=rn(m,a,a[2],Hn);return{c(){e=g("div"),t=g("button"),n=D(),l=g("div"),r=g("div"),p&&p.c(),s=D(),i=g("div"),_&&_.c(),this.h()},l(v){e=w(v,"DIV",{class:!0});var b=k(e);t=w(b,"BUTTON",{class:!0}),k(t).forEach(d),n=T(b),l=w(b,"DIV",{class:!0});var $=k(l);r=w($,"DIV",{class:!0});var M=k(r);p&&p.l(M),M.forEach(d),s=T($),i=w($,"DIV",{class:!0});var S=k(i);_&&_.l(S),S.forEach(d),$.forEach(d),b.forEach(d),this.h()},h(){y(t,"class","modal-background svelte-o2n61q"),y(r,"class","modal-body svelte-o2n61q"),y(i,"class","modal-footer svelte-o2n61q"),y(l,"class","modal-content svelte-o2n61q"),y(e,"class","modal svelte-o2n61q")},m(v,b){V(v,e,b),c(e,t),c(e,n),c(e,l),c(l,r),p&&p.m(r,null),c(l,s),c(l,i),_&&_.m(i,null),o=!0,f||(h=[j(window,"keyup",a[0]),j(t,"click",a[1])],f=!0)},p(v,[b]){p&&p.p&&(!o||b&4)&&ln(p,u,v,v[2],o?sn(u,v[2],b,null):an(v[2]),null),_&&_.p&&(!o||b&4)&&ln(_,m,v,v[2],o?sn(m,v[2],b,Wl):an(v[2]),Hn)},i(v){o||(A(p,v),A(_,v),o=!0)},o(v){U(p,v),U(_,v),o=!1},d(v){v&&d(e),p&&p.d(v),_&&_.d(v),f=!1,we(h)}}}function jl(a,e,t){let{$$slots:n={},$$scope:l}=e;const r=lt();function s(o){o.key==="Escape"?r("escapeKeyUp"):o.key==="Enter"&&r("enterKeyUp")}function i(){r("backgroundClick")}return a.$$set=o=>{"$$scope"in o&&t(2,l=o.$$scope)},[s,i,l,n]}class Rt extends le{constructor(e){super(),ae(this,e,jl,zl,se,{})}}function At(a){return Array.isArray(a)?a.map(e=>At(e)):a instanceof Date?new Date(a.getTime()):a&&typeof a=="object"?Object.getOwnPropertyNames(a).reduce((e,t)=>(Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t)),e[t]=At(a[t]),e),Object.create(Object.getPrototypeOf(a))):a}function qn(a,e,t){const n=a.slice();return n[26]=e[t],n}function Yl(a){let e,t;return{c(){e=g("div"),t=C("Loading, please wait..."),this.h()},l(n){e=w(n,"DIV",{class:!0});var l=k(e);t=P(l,"Loading, please wait..."),l.forEach(d),this.h()},h(){y(e,"class","loading")},m(n,l){V(n,e,l),c(e,t)},p:J,i:J,o:J,d(n){n&&d(e)}}}function Hl(a){let e,t,n,l;const r=[Kl,ql],s=[];function i(o,f){return o[0].list.length?0:1}return e=i(a),t=s[e]=r[e](a),{c(){t.c(),n=ee()},l(o){t.l(o),n=ee()},m(o,f){s[e].m(o,f),V(o,n,f),l=!0},p(o,f){let h=e;e=i(o),e===h?s[e].p(o,f):(ne(),U(s[h],1,1,()=>{s[h]=null}),re(),t=s[e],t?t.p(o,f):(t=s[e]=r[e](o),t.c()),A(t,1),t.m(n.parentNode,n))},i(o){l||(A(t),l=!0)},o(o){U(t),l=!1},d(o){s[e].d(o),o&&d(n)}}}function ql(a){let e,t,n,l,r,s,i,o,f,h,u,p,m,_,v,b,$,M,S,I,E,O,N,B,z,K,G,x,R,Z,he,ue,W,X,ie,L,F,oe,fe,me,_e,be,ve,ye,Te;return{c(){e=g("div"),t=g("div"),n=C("Welcome, let's start creating your first Item, choose one of the following:"),l=D(),r=g("div"),s=g("div"),i=C("Account"),o=D(),f=g("div"),h=C(`Create an Account to keep track of the balance of an specific bank account or wallet you
						want to track.`),u=D(),p=g("button"),m=C("Create Account"),_=D(),v=g("div"),b=g("div"),$=C("Service"),M=D(),S=g("div"),I=C(`Create a Service to keep track of something you need to pay every month. We will help
						you identify when was your last payment and the services you need to pay before the
						month ends.`),E=D(),O=g("button"),N=C("Create Service"),B=D(),z=g("div"),K=g("div"),G=C("Debt"),x=D(),R=g("div"),Z=C(`Create a Debt to keep track of an amount someone owes you or that you owe to someone.
						You can mark it as paid when is time.`),he=D(),ue=g("button"),W=C("Create Debt"),X=D(),ie=g("div"),L=g("div"),F=C("Currency"),oe=D(),fe=g("div"),me=C(`Create a Currency to organize your accounts by linking them to it, then you will be able
						to see the sum of all the accounts in the same currency.`),_e=D(),be=g("button"),ve=C("Create Currency"),this.h()},l(Se){e=w(Se,"DIV",{id:!0,class:!0});var de=k(e);t=w(de,"DIV",{id:!0,class:!0});var Ce=k(t);n=P(Ce,"Welcome, let's start creating your first Item, choose one of the following:"),Ce.forEach(d),l=T(de),r=w(de,"DIV",{});var ge=k(r);s=w(ge,"DIV",{class:!0});var Ye=k(s);i=P(Ye,"Account"),Ye.forEach(d),o=T(ge),f=w(ge,"DIV",{class:!0});var Pe=k(f);h=P(Pe,`Create an Account to keep track of the balance of an specific bank account or wallet you
						want to track.`),Pe.forEach(d),u=T(ge),p=w(ge,"BUTTON",{class:!0});var He=k(p);m=P(He,"Create Account"),He.forEach(d),ge.forEach(d),_=T(de),v=w(de,"DIV",{});var $e=k(v);b=w($e,"DIV",{class:!0});var ke=k(b);$=P(ke,"Service"),ke.forEach(d),M=T($e),S=w($e,"DIV",{class:!0});var Ae=k(S);I=P(Ae,`Create a Service to keep track of something you need to pay every month. We will help
						you identify when was your last payment and the services you need to pay before the
						month ends.`),Ae.forEach(d),E=T($e),O=w($e,"BUTTON",{class:!0});var qe=k(O);N=P(qe,"Create Service"),qe.forEach(d),$e.forEach(d),B=T(de),z=w(de,"DIV",{});var Ie=k(z);K=w(Ie,"DIV",{class:!0});var Ve=k(K);G=P(Ve,"Debt"),Ve.forEach(d),x=T(Ie),R=w(Ie,"DIV",{class:!0});var Me=k(R);Z=P(Me,`Create a Debt to keep track of an amount someone owes you or that you owe to someone.
						You can mark it as paid when is time.`),Me.forEach(d),he=T(Ie),ue=w(Ie,"BUTTON",{class:!0});var Ke=k(ue);W=P(Ke,"Create Debt"),Ke.forEach(d),Ie.forEach(d),X=T(de),ie=w(de,"DIV",{});var Ee=k(ie);L=w(Ee,"DIV",{class:!0});var Fe=k(L);F=P(Fe,"Currency"),Fe.forEach(d),oe=T(Ee),fe=w(Ee,"DIV",{class:!0});var rt=k(fe);me=P(rt,`Create a Currency to organize your accounts by linking them to it, then you will be able
						to see the sum of all the accounts in the same currency.`),rt.forEach(d),_e=T(Ee),be=w(Ee,"BUTTON",{class:!0});var pe=k(be);ve=P(pe,"Create Currency"),pe.forEach(d),Ee.forEach(d),de.forEach(d),this.h()},h(){y(t,"id","empty-state-welcome"),y(t,"class","svelte-14e2508"),y(s,"class","title"),y(f,"class","description"),y(p,"class","button"),y(b,"class","title"),y(S,"class","description"),y(O,"class","button"),y(K,"class","title"),y(R,"class","description"),y(ue,"class","button"),y(L,"class","title"),y(fe,"class","description"),y(be,"class","button"),y(e,"id","empty-state"),y(e,"class","svelte-14e2508")},m(Se,de){V(Se,e,de),c(e,t),c(t,n),c(e,l),c(e,r),c(r,s),c(s,i),c(r,o),c(r,f),c(f,h),c(r,u),c(r,p),c(p,m),c(e,_),c(e,v),c(v,b),c(b,$),c(v,M),c(v,S),c(S,I),c(v,E),c(v,O),c(O,N),c(e,B),c(e,z),c(z,K),c(K,G),c(z,x),c(z,R),c(R,Z),c(z,he),c(z,ue),c(ue,W),c(e,X),c(e,ie),c(ie,L),c(L,F),c(ie,oe),c(ie,fe),c(fe,me),c(ie,_e),c(ie,be),c(be,ve),ye||(Te=[j(p,"click",a[11]),j(O,"click",a[12]),j(ue,"click",a[13]),j(be,"click",a[14])],ye=!0)},p:J,i:J,o:J,d(Se){Se&&d(e),ye=!1,we(Te)}}}function Kl(a){let e,t,n,l,r,s,i,o,f,h,u,p,m,_=[],v=new Map,b,$,M,S=a[0].list;const I=E=>E[26]._id+E[26].type+E[26].updateDate;for(let E=0;E<S.length;E+=1){let O=qn(a,S,E),N=I(O);v.set(N,_[E]=Kn(N,O))}return{c(){e=g("header"),t=g("div"),n=g("p"),l=g("input"),r=D(),s=g("span"),i=g("i"),o=D(),f=g("main"),h=g("button"),u=g("div"),p=C("Add"),m=D();for(let E=0;E<_.length;E+=1)_[E].c();this.h()},l(E){e=w(E,"HEADER",{id:!0,class:!0});var O=k(e);t=w(O,"DIV",{class:!0});var N=k(t);n=w(N,"P",{class:!0});var B=k(n);l=w(B,"INPUT",{id:!0,class:!0}),r=T(B),s=w(B,"SPAN",{class:!0});var z=k(s);i=w(z,"I",{class:!0}),k(i).forEach(d),z.forEach(d),B.forEach(d),N.forEach(d),O.forEach(d),o=T(E),f=w(E,"MAIN",{id:!0,class:!0});var K=k(f);h=w(K,"BUTTON",{class:!0});var G=k(h);u=w(G,"DIV",{class:!0});var x=k(u);p=P(x,"Add"),x.forEach(d),G.forEach(d),m=T(K);for(let R=0;R<_.length;R+=1)_[R].l(K);K.forEach(d),this.h()},h(){y(l,"id","search-bar"),y(l,"class","input"),y(i,"class","fa-solid fa-magnifying-glass"),y(s,"class","icon is-small is-left"),y(n,"class","control has-icons-left"),y(t,"class","field"),y(e,"id","header"),y(e,"class","svelte-14e2508"),y(u,"class","title"),y(h,"class","square white-button"),y(f,"id","whiteboard"),y(f,"class","svelte-14e2508")},m(E,O){V(E,e,O),c(e,t),c(t,n),c(n,l),c(n,r),c(n,s),c(s,i),V(E,o,O),V(E,f,O),c(f,h),c(h,u),c(u,p),c(f,m);for(let N=0;N<_.length;N+=1)_[N]&&_[N].m(f,null);b=!0,$||(M=[j(l,"input",a[10]),j(h,"click",a[1])],$=!0)},p(E,O){O&17&&(S=E[0].list,ne(),_=Vt(_,O,I,1,E,S,v,f,tr,Kn,null,qn),re())},i(E){if(!b){for(let O=0;O<S.length;O+=1)A(_[O]);b=!0}},o(E){for(let O=0;O<_.length;O+=1)U(_[O]);b=!1},d(E){E&&d(e),E&&d(o),E&&d(f);for(let O=0;O<_.length;O+=1)_[O].d();$=!1,we(M)}}}function Kn(a,e){let t,n,l;return n=new Ll({props:{data:e[26]}}),n.$on("click",e[4]),{key:a,first:null,c(){t=ee(),Y(n.$$.fragment),this.h()},l(r){t=ee(),Q(n.$$.fragment,r),this.h()},h(){this.first=t},m(r,s){V(r,t,s),H(n,r,s),l=!0},p(r,s){e=r;const i={};s&1&&(i.data=e[26]),n.$set(i)},i(r){l||(A(n.$$.fragment,r),l=!0)},o(r){U(n.$$.fragment,r),l=!1},d(r){r&&d(t),q(n,r)}}}function Fn(a){let e,t;return e=new Rt({props:{$$slots:{footer:[Ql],default:[Fl]},$$scope:{ctx:a}}}),e.$on("backgroundClick",a[3]),e.$on("escapeKeyUp",a[3]),e.$on("enterKeyUp",a[2]),{c(){Y(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,l){H(e,n,l),t=!0},p(n,l){const r={};l&536870913&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){U(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function Fl(a){let e,t;return e=new vr({props:{data:a[0].creationModal.data}}),{c(){Y(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,l){H(e,n,l),t=!0},p(n,l){const r={};l&1&&(r.data=n[0].creationModal.data),e.$set(r)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){U(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function Ql(a){let e,t,n,l,r,s,i,o,f;return{c(){e=g("div"),t=g("button"),n=C("Save"),r=D(),s=g("button"),i=C("Cancel"),this.h()},l(h){e=w(h,"DIV",{slot:!0,class:!0});var u=k(e);t=w(u,"BUTTON",{class:!0});var p=k(t);n=P(p,"Save"),p.forEach(d),r=T(u),s=w(u,"BUTTON",{class:!0});var m=k(s);i=P(m,"Cancel"),m.forEach(d),u.forEach(d),this.h()},h(){y(t,"class",l="button is-primary "+(a[0].creationModal.saving?"is-loading":"")),y(s,"class","button"),y(e,"slot","footer"),y(e,"class","modal-footer-buttons svelte-14e2508")},m(h,u){V(h,e,u),c(e,t),c(t,n),c(e,r),c(e,s),c(s,i),o||(f=[j(t,"click",a[2]),j(s,"click",a[3])],o=!0)},p(h,u){u&1&&l!==(l="button is-primary "+(h[0].creationModal.saving?"is-loading":""))&&y(t,"class",l)},d(h){h&&d(e),o=!1,we(f)}}}function Qn(a){let e,t;return e=new Rt({props:{$$slots:{footer:[Jl],default:[Gl]},$$scope:{ctx:a}}}),e.$on("backgroundClick",a[5]),e.$on("escapeKeyUp",a[5]),e.$on("enterKeyUp",a[5]),{c(){Y(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,l){H(e,n,l),t=!0},p(n,l){const r={};l&536870913&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){U(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function Gl(a){let e,t;return e=new Rl({props:{data:a[0].seeModal.item}}),e.$on("update",a[6]),{c(){Y(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,l){H(e,n,l),t=!0},p(n,l){const r={};l&1&&(r.data=n[0].seeModal.item),e.$set(r)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){U(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function Jl(a){let e,t,n,l,r,s,i,o,f,h,u,p;return{c(){e=g("div"),t=g("button"),n=C("Edit"),l=D(),r=g("button"),s=C("Delete"),o=D(),f=g("button"),h=C("Close"),this.h()},l(m){e=w(m,"DIV",{slot:!0,class:!0});var _=k(e);t=w(_,"BUTTON",{class:!0});var v=k(t);n=P(v,"Edit"),v.forEach(d),l=T(_),r=w(_,"BUTTON",{class:!0});var b=k(r);s=P(b,"Delete"),b.forEach(d),o=T(_),f=w(_,"BUTTON",{class:!0});var $=k(f);h=P($,"Close"),$.forEach(d),_.forEach(d),this.h()},h(){y(t,"class","button"),y(r,"class",i="button is-danger "+(a[0].seeModal.deleting?"is-loading":"")),y(f,"class","button"),y(e,"slot","footer"),y(e,"class","modal-footer-buttons svelte-14e2508")},m(m,_){V(m,e,_),c(e,t),c(t,n),c(e,l),c(e,r),c(r,s),c(e,o),c(e,f),c(f,h),u||(p=[j(t,"click",a[7]),j(r,"click",a[15]),j(f,"click",a[5])],u=!0)},p(m,_){_&1&&i!==(i="button is-danger "+(m[0].seeModal.deleting?"is-loading":""))&&y(r,"class",i)},d(m){m&&d(e),u=!1,we(p)}}}function Gn(a){let e,t;return e=new Rt({props:{$$slots:{footer:[Xl],default:[Zl]},$$scope:{ctx:a}}}),e.$on("backgroundClick",a[9]),e.$on("escapeKeyUp",a[9]),{c(){Y(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,l){H(e,n,l),t=!0},p(n,l){const r={};l&536870913&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){U(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function Zl(a){let e,t,n;function l(s){a[16](s)}let r={};return a[0].editModal.item!==void 0&&(r.data=a[0].editModal.item),e=new vr({props:r}),Xe.push(()=>xe(e,"data",l)),{c(){Y(e.$$.fragment)},l(s){Q(e.$$.fragment,s)},m(s,i){H(e,s,i),n=!0},p(s,i){const o={};!t&&i&1&&(t=!0,o.data=s[0].editModal.item,et(()=>t=!1)),e.$set(o)},i(s){n||(A(e.$$.fragment,s),n=!0)},o(s){U(e.$$.fragment,s),n=!1},d(s){q(e,s)}}}function Xl(a){let e,t,n,l,r,s,i,o,f;return{c(){e=g("div"),t=g("button"),n=C("Save"),r=D(),s=g("button"),i=C("Cancel"),this.h()},l(h){e=w(h,"DIV",{slot:!0,class:!0});var u=k(e);t=w(u,"BUTTON",{class:!0});var p=k(t);n=P(p,"Save"),p.forEach(d),r=T(u),s=w(u,"BUTTON",{class:!0});var m=k(s);i=P(m,"Cancel"),m.forEach(d),u.forEach(d),this.h()},h(){y(t,"class",l="button is-primary "+(a[0].editModal.saving?"is-loading":"")),y(s,"class","button"),y(e,"slot","footer"),y(e,"class","modal-footer-buttons svelte-14e2508")},m(h,u){V(h,e,u),c(e,t),c(t,n),c(e,r),c(e,s),c(s,i),o||(f=[j(t,"click",a[8]),j(s,"click",a[9])],o=!0)},p(h,u){u&1&&l!==(l="button is-primary "+(h[0].editModal.saving?"is-loading":""))&&y(t,"class",l)},d(h){h&&d(e),o=!1,we(f)}}}function xl(a){let e,t,n,l,r,s,i,o,f;const h=[Hl,Yl],u=[];function p(b,$){return b[0].list?0:1}n=p(a),l=u[n]=h[n](a);let m=a[0].creationModal&&Fn(a),_=a[0].seeModal&&Qn(a),v=a[0].editModal&&Gn(a);return{c(){e=D(),t=g("div"),l.c(),r=D(),m&&m.c(),s=D(),_&&_.c(),i=D(),v&&v.c(),o=ee(),this.h()},l(b){Er("svelte-bvgx4w",document.head).forEach(d),e=T(b),t=w(b,"DIV",{id:!0,class:!0});var M=k(t);l.l(M),M.forEach(d),r=T(b),m&&m.l(b),s=T(b),_&&_.l(b),i=T(b),v&&v.l(b),o=ee(),this.h()},h(){document.title="Finances",y(t,"id","container"),y(t,"class","svelte-14e2508")},m(b,$){V(b,e,$),V(b,t,$),u[n].m(t,null),V(b,r,$),m&&m.m(b,$),V(b,s,$),_&&_.m(b,$),V(b,i,$),v&&v.m(b,$),V(b,o,$),f=!0},p(b,[$]){let M=n;n=p(b),n===M?u[n].p(b,$):(ne(),U(u[M],1,1,()=>{u[M]=null}),re(),l=u[n],l?l.p(b,$):(l=u[n]=h[n](b),l.c()),A(l,1),l.m(t,null)),b[0].creationModal?m?(m.p(b,$),$&1&&A(m,1)):(m=Fn(b),m.c(),A(m,1),m.m(s.parentNode,s)):m&&(ne(),U(m,1,1,()=>{m=null}),re()),b[0].seeModal?_?(_.p(b,$),$&1&&A(_,1)):(_=Qn(b),_.c(),A(_,1),_.m(i.parentNode,i)):_&&(ne(),U(_,1,1,()=>{_=null}),re()),b[0].editModal?v?(v.p(b,$),$&1&&A(v,1)):(v=Gn(b),v.c(),A(v,1),v.m(o.parentNode,o)):v&&(ne(),U(v,1,1,()=>{v=null}),re())},i(b){f||(A(l),A(m),A(_),A(v),f=!0)},o(b){U(l),U(m),U(_),U(v),f=!1},d(b){b&&d(e),b&&d(t),u[n].d(),b&&d(r),m&&m.d(b),b&&d(s),_&&_.d(b),b&&d(i),v&&v.d(b),b&&d(o)}}}function ea(a,e,t){let n=[],l="";const r={};let s;const i={getCurrencies:Je.getCurrencies,onGoToCreation:K};$r(Je.contextKey,i),Be(()=>{o(),Je.currencyAddedSubject.subscribe({next:R=>{console.log(`Currency added received in items, currency: ${R}`)}})});function o(){Oe.getItems().then(R=>{n=R,I()})}function f(){const R=n.filter(Z=>Z.type===je.getTypeString());for(const Z of R)je.calculate(n,Z)}function h(){t(0,r.creationModal={data:{type:gt.getTypeString()}},r)}async function u(){if(r.creationModal){t(0,r.creationModal.saving=!0,r);try{let R;r.creationModal.data.type!="currency"?R=await Oe.create(r.creationModal.data):R=await Ge.create(r.creationModal.data),n=[R,...n],I(),f(),r.creationModal.data.type!==je.getTypeString()?p():(t(0,r.creationModal.saving=!1,r),G())}catch(R){console.error(R),t(0,r.creationModal.saving=!1,r)}}}function p(){t(0,r.creationModal=void 0,r)}function m(R){t(0,r.seeModal={item:R.detail},r)}function _(){t(0,r.seeModal=void 0,r)}function v(R){R.detail.updateDate=new Date,f()}function b(){t(0,r.editModal={item:r.seeModal.item},r)}async function $(){if(r.editModal){t(0,r.editModal.saving=!0,r);try{const R=r.editModal.item,Z=await Oe.update(R._id,R);n=n.filter(he=>he._id===Z._id?Z:he),I(),f(),M(),Bt.$channel.next({type:"itemEdited",data:{item:R}})}catch(R){console.error(R),t(0,r.editModal.saving=!1,r)}}}function M(){f(),t(0,r.editModal=void 0,r)}function S(R){l=R.target.value,I()}function I(){t(0,r.list=n==null?void 0:n.filter(R=>nt.isItemOnQuery(R,l)),r)}function E(){t(0,r.creationModal={data:{type:gt.getTypeString()}},r)}function O(){t(0,r.creationModal={data:{type:Ze.getTypeString()}},r)}function N(){t(0,r.creationModal={data:{type:_r.getTypeString()}},r)}function B(){t(0,r.creationModal={data:{type:je.getTypeString()}},r)}async function z(){if(!r.seeModal)return;t(0,r.seeModal.deleting=!0,r);const R=r.seeModal.item;try{await Oe.delete(R._id),n=n.filter(Z=>Z._id!=R._id),f(),I(),_()}catch(Z){console.error(Z)}r.seeModal&&t(0,r.seeModal.deleting=!1,r)}function K(){r.creationModal==null?t(0,r.creationModal={data:{type:je.getTypeString()}},r):(s={creationModal:At(r.creationModal)},t(0,r.creationModal.data={type:je.getTypeString()},r))}function G(){if(s!=null&&r.creationModal!=null&&s.creationModal!=null){const Z=r.creationModal.data.currency;t(0,r.creationModal=s.creationModal,r),t(0,r.creationModal.data.currency=Z,r),s=void 0}else p()}function x(R){a.$$.not_equal(r.editModal.item,R)&&(r.editModal.item=R,t(0,r))}return[r,h,u,p,m,_,v,b,$,M,S,E,O,N,B,z,x]}class ta extends le{constructor(e){super(),ae(this,e,ea,xl,se,{})}}function na(a){let e,t,n,l,r,s,i,o,f,h,u,p,m,_,v,b,$,M,S,I,E,O,N,B,z,K,G,x,R,Z,he,ue,W,X,ie,L,F,oe,fe,me,_e,be,ve,ye,Te,Se,de,Ce,ge,Ye,Pe,He,$e,ke,Ae,qe,Ie,Ve,Me,Ke,Ee,Fe,rt;return b=new Nt({props:{data:a[0].examples.account}}),G=new pr({props:{data:a[0].examples.service}}),oe=new hr({props:{data:a[0].examples.debt}}),ge=new mr({props:{data:a[0].examples.currency}}),{c(){e=g("div"),t=g("div"),n=g("p"),l=C("Welcome, I can help you remember about your finances."),r=D(),s=g("p"),i=C("Here are the things I can help you with:"),o=D(),f=g("div"),h=g("div"),u=g("h3"),p=C("Accounts"),m=D(),_=g("div"),v=g("div"),Y(b.$$.fragment),$=D(),M=g("div"),S=C("You can have a list of all your accounts with their balance and currency"),I=D(),E=g("div"),O=g("h3"),N=C("Services"),B=D(),z=g("div"),K=g("div"),Y(G.$$.fragment),x=D(),R=g("div"),Z=C(`You can store the services you need to pay every month, and see which ones you've already
					paid`),he=D(),ue=g("div"),W=g("h3"),X=C("Debts"),ie=D(),L=g("div"),F=g("div"),Y(oe.$$.fragment),fe=D(),me=g("div"),_e=C("I can remind you of debts you need to pay or if someone owes you"),be=D(),ve=g("div"),ye=g("h3"),Te=C("Currencies"),Se=D(),de=g("div"),Ce=g("div"),Y(ge.$$.fragment),Ye=D(),Pe=g("div"),He=C("You can create currencies and track the total sum of all the accounts in that currency."),$e=D(),ke=g("div"),Ae=g("div"),qe=C("Ready?"),Ie=D(),Ve=g("a"),Me=g("button"),Ke=C("Start Now"),this.h()},l(pe){e=w(pe,"DIV",{});var Re=k(e);t=w(Re,"DIV",{class:!0});var at=k(t);n=w(at,"P",{class:!0});var Wt=k(n);l=P(Wt,"Welcome, I can help you remember about your finances."),Wt.forEach(d),r=T(at),s=w(at,"P",{class:!0});var zt=k(s);i=P(zt,"Here are the things I can help you with:"),zt.forEach(d),at.forEach(d),o=T(Re),f=w(Re,"DIV",{class:!0});var We=k(f);h=w(We,"DIV",{class:!0});var st=k(h);u=w(st,"H3",{class:!0});var jt=k(u);p=P(jt,"Accounts"),jt.forEach(d),m=T(st),_=w(st,"DIV",{class:!0});var it=k(_);v=w(it,"DIV",{class:!0});var Yt=k(v);Q(b.$$.fragment,Yt),Yt.forEach(d),$=T(it),M=w(it,"DIV",{class:!0});var Ht=k(M);S=P(Ht,"You can have a list of all your accounts with their balance and currency"),Ht.forEach(d),it.forEach(d),st.forEach(d),I=T(We),E=w(We,"DIV",{class:!0});var ot=k(E);O=w(ot,"H3",{class:!0});var qt=k(O);N=P(qt,"Services"),qt.forEach(d),B=T(ot),z=w(ot,"DIV",{class:!0});var ct=k(z);K=w(ct,"DIV",{class:!0});var Kt=k(K);Q(G.$$.fragment,Kt),Kt.forEach(d),x=T(ct),R=w(ct,"DIV",{class:!0});var Ft=k(R);Z=P(Ft,`You can store the services you need to pay every month, and see which ones you've already
					paid`),Ft.forEach(d),ct.forEach(d),ot.forEach(d),he=T(We),ue=w(We,"DIV",{class:!0});var ut=k(ue);W=w(ut,"H3",{class:!0});var Qt=k(W);X=P(Qt,"Debts"),Qt.forEach(d),ie=T(ut),L=w(ut,"DIV",{class:!0});var ft=k(L);F=w(ft,"DIV",{class:!0});var Gt=k(F);Q(oe.$$.fragment,Gt),Gt.forEach(d),fe=T(ft),me=w(ft,"DIV",{class:!0});var Jt=k(me);_e=P(Jt,"I can remind you of debts you need to pay or if someone owes you"),Jt.forEach(d),ft.forEach(d),ut.forEach(d),be=T(We),ve=w(We,"DIV",{class:!0});var dt=k(ve);ye=w(dt,"H3",{class:!0});var Zt=k(ye);Te=P(Zt,"Currencies"),Zt.forEach(d),Se=T(dt),de=w(dt,"DIV",{class:!0});var ht=k(de);Ce=w(ht,"DIV",{class:!0});var Xt=k(Ce);Q(ge.$$.fragment,Xt),Xt.forEach(d),Ye=T(ht),Pe=w(ht,"DIV",{class:!0});var xt=k(Pe);He=P(xt,"You can create currencies and track the total sum of all the accounts in that currency."),xt.forEach(d),ht.forEach(d),dt.forEach(d),We.forEach(d),$e=T(Re),ke=w(Re,"DIV",{class:!0});var pt=k(ke);Ae=w(pt,"DIV",{class:!0});var en=k(Ae);qe=P(en,"Ready?"),en.forEach(d),Ie=T(pt),Ve=w(pt,"A",{});var tn=k(Ve);Me=w(tn,"BUTTON",{class:!0});var nn=k(Me);Ke=P(nn,"Start Now"),nn.forEach(d),tn.forEach(d),pt.forEach(d),Re.forEach(d),this.h()},h(){y(n,"class","main-info svelte-zbhuhm"),y(s,"class","main-info svelte-zbhuhm"),y(t,"class","main-info-container svelte-zbhuhm"),y(u,"class","example-item-title svelte-zbhuhm"),y(v,"class","item-square svelte-zbhuhm"),y(M,"class","example-item-info"),y(_,"class","item-and-info svelte-zbhuhm"),y(h,"class","example-item"),y(O,"class","example-item-title svelte-zbhuhm"),y(K,"class","item-square svelte-zbhuhm"),y(R,"class","example-item-info"),y(z,"class","item-and-info svelte-zbhuhm"),y(E,"class","example-item"),y(W,"class","example-item-title svelte-zbhuhm"),y(F,"class","item-square svelte-zbhuhm"),y(me,"class","example-item-info"),y(L,"class","item-and-info svelte-zbhuhm"),y(ue,"class","example-item"),y(ye,"class","example-item-title svelte-zbhuhm"),y(Ce,"class","item-square svelte-zbhuhm"),y(Pe,"class","example-item-info"),y(de,"class","item-and-info svelte-zbhuhm"),y(ve,"class","example-item"),y(f,"class","example-item-list svelte-zbhuhm"),y(Ae,"class","call-to-action-info"),y(Me,"class","call-to-action-button button is-primary"),y(ke,"class","call-to-action svelte-zbhuhm")},m(pe,Re){V(pe,e,Re),c(e,t),c(t,n),c(n,l),c(t,r),c(t,s),c(s,i),c(e,o),c(e,f),c(f,h),c(h,u),c(u,p),c(h,m),c(h,_),c(_,v),H(b,v,null),c(_,$),c(_,M),c(M,S),c(f,I),c(f,E),c(E,O),c(O,N),c(E,B),c(E,z),c(z,K),H(G,K,null),c(z,x),c(z,R),c(R,Z),c(f,he),c(f,ue),c(ue,W),c(W,X),c(ue,ie),c(ue,L),c(L,F),H(oe,F,null),c(L,fe),c(L,me),c(me,_e),c(f,be),c(f,ve),c(ve,ye),c(ye,Te),c(ve,Se),c(ve,de),c(de,Ce),H(ge,Ce,null),c(de,Ye),c(de,Pe),c(Pe,He),c(e,$e),c(e,ke),c(ke,Ae),c(Ae,qe),c(ke,Ie),c(ke,Ve),c(Ve,Me),c(Me,Ke),Ee=!0,Fe||(rt=j(Ve,"click",a[1]),Fe=!0)},p:J,i(pe){Ee||(A(b.$$.fragment,pe),A(G.$$.fragment,pe),A(oe.$$.fragment,pe),A(ge.$$.fragment,pe),Ee=!0)},o(pe){U(b.$$.fragment,pe),U(G.$$.fragment,pe),U(oe.$$.fragment,pe),U(ge.$$.fragment,pe),Ee=!1},d(pe){pe&&d(e),q(b),q(G),q(oe),q(ge),Fe=!1,rt()}}}function ra(a){const e={examples:{account:{_id:"account",type:"account",name:"Bank Account",balance:5700,currency:"usd"},service:{_id:"service",type:"service",name:"Service",cost:200,currency:"usd",isManual:!0},debt:{_id:"debt",type:"debt",withWho:"Pedro",description:"Pizzas",amount:20,currency:"usd",theyPayMe:!1},currency:{_id:"currency",type:"currency",currency:"usd",total:8600}}};function t(){Mt("start")}return[e,t]}class la extends le{constructor(e){super(),ae(this,e,ra,na,se,{})}}function Jn(a){let e,t;return e=new la({}),{c(){Y(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,l){H(e,n,l),t=!0},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){U(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function Zn(a){let e,t;return e=new ta({}),{c(){Y(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,l){H(e,n,l),t=!0},i(n){t||(A(e.$$.fragment,n),t=!0)},o(n){U(e.$$.fragment,n),t=!1},d(n){q(e,n)}}}function aa(a){let e,t,n,l=a[0].showNewcomerWelcome&&Jn(),r=a[0].showItems&&Zn();return{c(){e=g("div"),l&&l.c(),t=D(),r&&r.c(),this.h()},l(s){e=w(s,"DIV",{id:!0,class:!0});var i=k(e);l&&l.l(i),t=T(i),r&&r.l(i),i.forEach(d),this.h()},h(){y(e,"id","container"),y(e,"class","svelte-1vb8cez")},m(s,i){V(s,e,i),l&&l.m(e,null),c(e,t),r&&r.m(e,null),n=!0},p(s,[i]){s[0].showNewcomerWelcome?l?i&1&&A(l,1):(l=Jn(),l.c(),A(l,1),l.m(e,t)):l&&(ne(),U(l,1,1,()=>{l=null}),re()),s[0].showItems?r?i&1&&A(r,1):(r=Zn(),r.c(),A(r,1),r.m(e,null)):r&&(ne(),U(r,1,1,()=>{r=null}),re())},i(s){n||(A(l),A(r),n=!0)},o(s){U(l),U(r),n=!1},d(s){s&&d(e),l&&l.d(),r&&r.d()}}}function sa(a,e,t){const n={};return Be(()=>{on.isSyncEnabled()?nr.hasValidToken()?t(0,n.showItems=!0,n):Mt("auth/login"):on.hasLocalData()||t(0,n.showNewcomerWelcome=!0,n)}),[n]}class fa extends le{constructor(e){super(),ae(this,e,sa,aa,se,{})}}export{fa as default};
